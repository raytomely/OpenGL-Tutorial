
<!-- saved from url=(0067)http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html -->
<html><!-- Mirrored from 62.4.17.167/sdz/sdz/creez-des-programmes-en-3d-avec-opengl.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 02:43:32 GMT --><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>Tutoriel : Créez des programmes en 3D avec OpenGL</title>
<link href="./Tutoriel_sdz_kayl_OpenGL/sdz_main.css" type="text/css" rel="stylesheet" media="all">
</head>
        <body>
<a href="http://sdz.tdct.org/www.siteduzero.com/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Créez des programmes en 3D avec OpenGL</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Crezdesprogrammesen3DavecOpenGL">Créez des programmes en 3D avec OpenGL</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#IntroductionOpenGL">Introduction à OpenGL</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Qu039est-cequ039OpenGL">Qu'est-ce qu'OpenGL ?</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Quedois-jeinstaller">Que dois-je installer ?</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#PremireapplicationOpenGLavecSDL">Première application OpenGL avec SDL</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Notionsdebase">Notions de base</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Couleuretinterpolation">Couleur et interpolation</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Verticesetpolygones">Vertices et polygones</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Fonctionsettypes">Fonctions et types</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Lestransformations">Les transformations</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Unbrindefoliemathmatique">Un brin de folie mathématique</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#LesmatricesOpenGL">Les matrices OpenGL</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Lestransformations">Les transformations</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Exerciceunegrue">Exercice : une grue</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Enfindela3DPartie1_2">Enfin de la 3D (Partie 1/2)</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Durell039cran">Du réel à l'écran</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Laperspective">La perspective</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Placerlacamra">Placer la caméra</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Enfindela3DPartie2_2">Enfin de la 3D (Partie 2/2)</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Uncube">Un cube</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#LeZ-Buffer">Le Z-Buffer</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Animation">Animation</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Lestextures">Les textures</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Chargerunetexture">Charger une texture</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Plaquagedetexture">Plaquage de texture</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Texturerptitive">Texture répétitive</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Lescouleurs">Les couleurs</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Lesquadriques">Les quadriques</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Principed039utilisation">Principe d'utilisation</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Lesquadriques">Les quadriques</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Exerciceuneroquette">Exercice : une roquette</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#ContrleavancdelacamraPartie1_2">Contrôle avancé de la caméra (Partie 1/2)</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Principed039unecamraTrackBall">Principe d'une caméra TrackBall</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#QuelquesbasesdeC">Quelques bases de C++</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Implmentationdelacamra">Implémentation de la caméra</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Scnedetest">Scène de test</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#ContrleavancdelacamraPartie2_2">Contrôle avancé de la caméra (Partie 2/2)</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Principed039unecamraFreeFly">Principe d'une caméra FreeFly</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Gestionfluidedumouvement">Gestion fluide du mouvement</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Implmentationdelacamra">Implémentation de la caméra</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Scnedetest">Scène de test</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Latrigonomtrie">La trigonométrie</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Trigodansuntrianglerectangle">Trigo dans un triangle rectangle</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Lecercletrigonomtrique">Le cercle trigonométrique</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Systmesdecoordonnes">Systèmes de coordonnées</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Lesmatrices">Les matrices</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#L039outilmatrice">L'outil matrice</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Transformations">Transformations</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Combinaisondetransformations">Combinaison de transformations</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Crerunevidodevotreprogramme">Créer une vidéo de votre programme</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Enregistrerlavido">Enregistrer la vidéo</a><br><a href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#Encoderlavido">Encoder la vidéo</a><br></div>
<a name="Crezdesprogrammesen3DavecOpenGL"></a><h2>Créez des programmes en 3D avec OpenGL</h2><div class="content" role="article">
<p id="r-164169" data-claire-element-id="164169">L'envie vous prend soudainement d'ajouter une nouvelle dimension à votre vie mais vous avez peur de vous lancer car vous pensez que faire des programmes en <strong>3D</strong> est réservé à l'élite ?<br> Rassurez-vous l'apprentissage de la programmation 3D <em>via</em><strong>OpenGL</strong> est relativement simple et par le biais de ce tutoriel vous connaîtrez les bases d'OpenGL ainsi que de multiples techniques utilisées dans les <strong>jeux vidéo</strong>.</p><p id="r-164171" data-claire-element-id="164171">Bonne lecture et surtout bonne création ! :soleil:</p><aside id="r-164174" data-claire-element-id="164174" data-claire-semantic="information"><p id="r-164172" data-claire-element-id="164172">Ce cours nécessite la lecture préalable du cours de <a href="http://www.siteduzero.com/tuto-3-8-0-apprenez-a-programmer-en-c.html">C / C++</a> rédigé par M@teo21. Il faut avoir lu au moins les trois premières parties (partie sur la SDL incluse).</p></aside>
</div>
<div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1358423835269-0" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1358423835269-0');
        });
    }
    </script><div id="div-gpt-ad-1358423835269-0" class="megaban"></div>
</div><a name="IntroductionOpenGL"></a><h2>Introduction à OpenGL</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
<span class="next">Qu'est-ce qu'OpenGL ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div class="content">
<p id="r-164176" data-claire-element-id="164176">Dans ce chapitre nous découvrirons brièvement les possiblités d'OpenGL et réaliserons notre première application OpenGL grâce à SDL.</p>
</div><a name="Qu039est-cequ039OpenGL"></a><h2>Qu'est-ce qu'OpenGL ?</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">
<span class="arrow"></span>
<span class="next">Introduction à OpenGL</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
<span class="next">Que dois-je installer ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-qu-est-ce-qu-opengl-1" data-claire-element-id="164258">Qu'est-ce qu'OpenGL ?</h4><figure id="r-164178" data-claire-element-id="164180"><img id="r-164177" data-claire-element-id="164177" src="./Tutoriel_sdz_kayl_OpenGL/4009.png" alt="Image utilisateur"></figure><p id="r-164182" data-claire-element-id="164182"><strong>OpenGL</strong> (Open Graphics Library) est une blibliothèque graphique très complète qui permet aux programmeurs de développer des applications 2D, 3D assez facilement.<br> Vous avez déjà dû l'utiliser ou en entendre parler, car de nombreux jeux, comme Quake III, proposent l'OpenGL comme mode d'affichage.</p><figure id="r-164184" data-claire-element-id="164186"><img id="r-164183" data-claire-element-id="164183" src="./Tutoriel_sdz_kayl_OpenGL/10143.jpg" alt="Image utilisateur"></figure><p id="r-164187" data-claire-element-id="164187"><em>Quake III Arena</em></p><p id="r-164188" data-claire-element-id="164188">Bon d'accord, je dois vous l'avouer après avoir lu ce tuto vous ne saurez pas encore faire des jeux comme ça (notamment à cause du moteur physique pour gérer les collisions, déplacements et projectiles) mais il est beau de rêver. :p</p><p id="r-164190" data-claire-element-id="164190">OpenGL s'utilise principalement en C++, c'est pourquoi il est conseillé de connaître ce langage. Mais rassurez-vous ! Même sans base vous arriverez parfaitement à comprendre tous les exemples du cours, cependant les applications que vous serez amenés à développer par vous-mêmes seront peut-être moins poussées. La lecture du <a href="http://www.siteduzero.com/tuto-3-8-0-apprenez-a-programmer-en-c.html">tuto C/C++</a> est <strong>fortement recommandée</strong>.</p><aside id="r-164193" data-claire-element-id="164193" data-claire-semantic="information"><p id="r-164191" data-claire-element-id="164191">Il est possible d'utiliser OpenGL en Python, Delphi, Java, et les commandes y sont similaires. Ici nous utiliserons le C/C++ pour profiter du cours déjà présent sur le site.</p></aside><h5 id="r-une-multitude-de-fonctionnalites" data-claire-element-id="164228">Une multitude de fonctionnalités</h5><p id="r-164195" data-claire-element-id="164195">OpenGL dispose de nombreuses fonctions que vous pourrez « facilement » utiliser, notamment la gestion de :</p><figure id="r-164198" data-claire-element-id="164199"><img id="r-164196" data-claire-element-id="164196" src="./Tutoriel_sdz_kayl_OpenGL/10144.png" alt="Image utilisateur"></figure><ul id="r-164221" data-claire-element-id="164221"><li id="r-164203" data-claire-element-id="164203"><p id="r-164201" data-claire-element-id="164201">la caméra ;</p></li><li id="r-164207" data-claire-element-id="164207"><p id="r-164205" data-claire-element-id="164205">la rotation 3D des objets ;</p></li><li id="r-164210" data-claire-element-id="164210"><p id="r-164208" data-claire-element-id="164208">le remplissage des faces ;</p></li><li id="r-164213" data-claire-element-id="164213"><p id="r-164212" data-claire-element-id="164212">les textures ;</p></li><li id="r-164216" data-claire-element-id="164216"><p id="r-164215" data-claire-element-id="164215">la lumière ;</p></li><li id="r-164219" data-claire-element-id="164219"><p id="r-164218" data-claire-element-id="164218">et bien plus encore...</p></li></ul><p id="r-164223" data-claire-element-id="164223">Dans ce tuto je compte vous montrer un maximum de techniques telles que la génération d'un <strong>terrain</strong> 3D, un moteur de <strong>particules</strong>, le <strong>bump-mapping</strong>, le <strong>cell-shading</strong>, etc. Comment alors ne pas saliver devant toutes ces possibilités qui s'ouvrent à vous ? D'autant que la plupart sont très accessibles d'un point de vue difficulté de programmation.</p><aside id="r-164226" data-claire-element-id="164226" data-claire-semantic="information"><p id="r-164224" data-claire-element-id="164224">D'un point de vue pédagogique, nous ne verrons la 3D qu'à partir du 4e chapitre, car des connaissances de base sont nécessaires afin de se lancer correctement.</p></aside><h5 id="r-fenetrage-et-evenements" data-claire-element-id="164251">Fenêtrage et événements</h5><p id="r-164230" data-claire-element-id="164230">OpenGL ne fournit que des fonctions 3D qui doivent être exécutées dans un contexte graphique déjà créé. Il nous faut donc choisir un système pour créer les fenêtres et gérer les événements pour donner une interactivité aux applications. OpenGL étant implémenté sur de nombreuses plates-formes, j'ai choisi de vous faire utiliser la <strong>SDL</strong> (d'autant que son installation/utilisation vous est enseignée dans <a href="http://www.siteduzero.com/tuto-3-8-0-apprenez-a-programmer-en-c.html">le cours de M@teo</a>).</p><p id="r-164232" data-claire-element-id="164232">La SDL nous permettra ainsi :</p><ul id="r-164248" data-claire-element-id="164248"><li id="r-164235" data-claire-element-id="164235"><p id="r-164233" data-claire-element-id="164233">de créer une fenêtre ;</p></li><li id="r-164238" data-claire-element-id="164238"><p id="r-164237" data-claire-element-id="164236">de charger très facilement des textures grâce à <em>SDL_image</em> ;</p></li><li id="r-164242" data-claire-element-id="164242"><p id="r-164240" data-claire-element-id="164240">d'utiliser le clavier et la souris ;</p></li><li id="r-164246" data-claire-element-id="164246"><p id="r-164244" data-claire-element-id="164244">d'animer nos scènes.</p></li></ul><p id="r-164250" data-claire-element-id="164250">Ainsi nous combinerons la facilité d'utilisation de la SDL avec la puissance d'OpenGL tout en gardant le coté multi plate-formes.</p><h5 id="r-et-les-moteurs-3d" data-claire-element-id="164256">Et les moteurs 3D ?</h5><p id="r-164253" data-claire-element-id="164253">Je reviendrai en détail plus tard dans ce tutoriel sur ce qui diffère OpenGL des moteurs 3D et sur comment créer son moteur 3D basé sur OpenGL. Quoi qu'il en soit ce que vous apprendrez ici est souvent applicable ailleurs et vous fournit des explications générales sur la programmation 3D. Se plonger dans un moteur tel <strong>Irrlicht</strong> ou <strong>Ogre</strong> sera d'autant plus facile que vous saurez ce qu'ils utilisent derrière.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">
<span class="arrow"></span>
<span class="next">Introduction à OpenGL</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
<span class="next">Que dois-je installer ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Quedois-jeinstaller"></a><h2>Que dois-je installer ?</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
<span class="arrow"></span>
<span class="next">Qu'est-ce qu'OpenGL ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
<span class="next">Première application OpenGL avec SDL</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-que-dois-je-installer" data-claire-element-id="164329">Que dois-je installer ?</h4><p id="r-164262" data-claire-element-id="164262">Vous êtes enfin décidés à vous lancer ? ^^ Parfait !</p><h5 id="r-les-fichiers-necessaires-pour-developper" data-claire-element-id="164307">Les fichiers nécessaires pour développer</h5><p id="r-164263" data-claire-element-id="164263">Si vous avez téléchargé <strong>Code::Block</strong> ou <strong>DevC++</strong>pour suivre le tuto de C/C++ ne changez rien, vous avez déjà les headers et les .a nécessaires. Vous devez donc avoir :</p><table id="r-164303" data-claire-element-id="164303"><thead id="r-164277" data-claire-element-id="164277"><tr id="r-164273" data-claire-element-id="164273"><th id="r-164266" data-claire-element-id="164266"><p id="r-164264" data-claire-element-id="164264">OS</p></th><th id="r-164268" data-claire-element-id="164268"><p id="r-164267" data-claire-element-id="164267">include</p></th><th id="r-164271" data-claire-element-id="164271"><p id="r-164269" data-claire-element-id="164269">lib</p></th></tr></thead><tbody id="r-164301" data-claire-element-id="164301"><tr id="r-164289" data-claire-element-id="164289"><td id="r-164280" data-claire-element-id="164280"><p id="r-164278" data-claire-element-id="164278">Windows</p></td><td id="r-164284" data-claire-element-id="164284"><p id="r-164282" data-claire-element-id="164282">GL/gl.h<br> GL/glu.h</p></td><td id="r-164288" data-claire-element-id="164288"><p id="r-164287" data-claire-element-id="164286">libopengl32.a*<br> libglu32.a</p></td></tr><tr id="r-164299" data-claire-element-id="164299"><td id="r-164294" data-claire-element-id="164293"><p id="r-164291" data-claire-element-id="164291">Unix**</p></td><td id="r-164297" data-claire-element-id="164297"><p id="r-164296" data-claire-element-id="164296">libopengl.a<br> libglu.a</p></td></tr></tbody></table><p id="r-164306" data-claire-element-id="164306">* Si vous utilisez Visual Studio, vous devez déjà avoir l'équivalent en .lib.<br>** Nous verrons lors de la création de notre premier programme quoi rajouter exactement sous Linux.</p><h5 id="r-les-fichiers-necessaires-pour-executer" data-claire-element-id="164323">Les fichiers nécessaires pour exécuter</h5><ul id="r-164321" data-claire-element-id="164321"><li id="r-164316" data-claire-element-id="164316"><p id="r-164310" data-claire-element-id="164310">Sous <strong>Windows</strong> sauf cas rare très exceptionnel vous avez déjà les .dll nécessaires soit : opengl32.dll et glu32.dll. Vous n'aurez pas à les fournir avec votre exécutable, car ils sont présents par défaut sous Windows.</p><aside id="r-164314" data-claire-element-id="164314" data-claire-semantic="warning"><p id="r-164312" data-claire-element-id="164312">Vous devrez continuer à fournir les .dll de la SDL.</p></aside></li><li id="r-164319" data-claire-element-id="164319"><p id="r-164318" data-claire-element-id="164318">Sous <strong>Linux</strong> il vous faut les .so associés au .a.</p></li></ul><h5 id="r-verifier-que-l-acceleration-3d-est-activee" data-claire-element-id="164327">Vérifier que l'accélération 3D est activée</h5><p id="r-164325" data-claire-element-id="164325">Avoir les bons fichiers ne signifie pas forcément que les applications 3D tourneront parfaitement. Si l'accélération matérielle n'est pas activée, les performances en seront très fortement diminuées.<br> Vérifiez donc que vous avez bien installé les derniers drivers de votre carte graphique. Sous Windows si vous avez l'habitude de jouer à des jeux vidéos sans problèmes c'est que c'est bon ! :D <br> Sous Linux utilisez le fameux programme glxgears pour tester. Les instructions étant trop dépendantes de votre distribution et de votre carte, reportez-vous aux nombreuses ressources disponibles sur Internet.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
<span class="arrow"></span>
<span class="next">Qu'est-ce qu'OpenGL ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
<span class="next">Première application OpenGL avec SDL</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="PremireapplicationOpenGLavecSDL"></a><h2>Première application OpenGL avec SDL</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
<span class="arrow"></span>
<span class="next">Que dois-je installer ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">
<span class="next">Notions de base</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-premiere-application-opengl-avec-sdl" data-claire-element-id="164450">Première application OpenGL avec SDL</h4><p id="r-164331" data-claire-element-id="164331">Je vous l'ai dit plus haut nous allons utiliser OpenGL dans un contexte SDL. La première chose à faire est donc de créer un projet SDL de base (comme expliqué dans le tuto de M@teo). Nous viendrons y remplacer tout le code et compléter les options de compilation pour rajouter OpenGL lors de la phase d'édition des liens.</p><aside id="r-164333" data-claire-element-id="164333" data-claire-semantic="warning"><p id="r-164332" data-claire-element-id="164332">Si vous utilisez un IDE qui fournit des templates de projet (comme Code::Blocks), ne choisissez pas un projet OpenGL mais bien SDL. Nous le compléterons pour avoir un projet SDL/OpenGL.</p></aside><p id="r-164336" data-claire-element-id="164336">Je fournirai d'ailleurs <em>en fin de chapitre</em> le projet final utilisé et vous pourrez vous en servir comme point de départ pour vos applications OpenGL créées en suivant ce tutoriel.</p><h5 id="r-code-de-depart" data-claire-element-id="164345">Code de départ</h5><p id="r-164337" data-claire-element-id="164337">Souvenez-vous du code minimal pour ouvrir une fenêtre SDL :</p><pre id="r-164338" data-claire-element-id="164338"><code data-claire-semantic="cpp">#include &lt;SDL/SDL.h&gt;

int main(int argc, char *argv[])
{
    SDL_Init(SDL_INIT_VIDEO);

    SDL_Surface* ecran = SDL_SetVideoMode(640, 480, 32, SDL_HWSURFACE);

    SDL_Flip(ecran);

    bool continuer = true;
    SDL_Event event;

    while (continuer)
    {
        SDL_WaitEvent(&amp;event);
        switch(event.type)
        {
            case SDL_QUIT:
                continuer = false;
        }
    }

    SDL_Quit();

    return 0;
}</code></pre><aside id="r-164342" data-claire-element-id="164342" data-claire-semantic="information"><p id="r-164340" data-claire-element-id="164340">Je ne respecte volontairement pas les règles du C car je compile en C++ et vous inviterai à en faire autant dans le futur pour suivre ce tutoriel. En effet les concepts que nous verrons plus tard seront beaucoup plus facilement implémentables en C++. Si vous ne connaissez que le C pour l'instant, rassurez-vous, nous introduirons le concept « objet » de manière simple et intuitive.</p></aside><h5 id="r-initialiser-sdl-en-mode-opengl" data-claire-element-id="164357">Initialiser SDL en mode OpenGL</h5><p id="r-164348" data-claire-element-id="164348">La première chose à changer est au niveau de l'initialisation de mode vidéo. Nous allons utiliser SDL_OPENGL au lieu de SDL_HWSURFACE :</p><pre id="r-164349" data-claire-element-id="164349"><code data-claire-semantic="cpp">SDL_SetVideoMode(640, 480, 32, SDL_OPENGL);</code></pre><div id="r-164352" data-claire-element-id="164353" data-claire-semantic="question"><p id="r-164351" data-claire-element-id="164351">Que devient le SDL_DOUBLEBUF utilisé avec la SDL normalement pour activer le double-buffering (cf. <a href="http://www.siteduzero.com/tuto-3-5790-1-la-gestion-des-evenements-clavier-et-souris.html#ss_part_3">Travailler avec le double buffer</a>) ?</p></div><p id="r-164354" data-claire-element-id="164354">L'équivalent avec OpenGL <em>reviendrait</em> à appeler SDL_GL_SetAttribute( SDL_GL_DOUBLEBUFFER, 1 ); mais il s'avère qu'il est <strong>déjà activé par défaut</strong> pour OpenGL. Rien de spécial à faire donc.</p><h5 id="r-le-premier-dessin" data-claire-element-id="164372">Le premier dessin</h5><p id="r-164360" data-claire-element-id="164360">Ensuite nous allons faire nos premiers appels OpenGL pour dessiner un simple triangle.<br> Nous rajoutons donc les headers nécessaires :</p><pre id="r-164362" data-claire-element-id="164362"><code data-claire-semantic="cpp">#include &lt;GL/gl.h&gt;
#include &lt;GL/glu.h&gt;</code></pre><aside id="r-164364" data-claire-element-id="164364" data-claire-semantic="warning"><p id="r-164363" data-claire-element-id="164363">Avec <strong>Visual Studio</strong> (uniquement), il faut rajouter #include &lt;windows.h&gt; avant d'inclure les headers OpenGL.</p></aside><p id="r-164366" data-claire-element-id="164366">Voici le code du triangle qui vous sera expliqué dans le prochaine chapitre :</p><pre id="r-164367" data-claire-element-id="164367"><code data-claire-semantic="cpp">glClear(GL_COLOR_BUFFER_BIT);

    glBegin(GL_TRIANGLES);
        glColor3ub(255,0,0);    glVertex2d(-0.75,-0.75);
        glColor3ub(0,255,0);    glVertex2d(0,0.75);
        glColor3ub(0,0,255);    glVertex2d(0.75,-0.75);
    glEnd();</code></pre><p id="r-164368" data-claire-element-id="164368">SDL_Flip(ecran); disparaît au profit de l'appel suivant :</p><pre id="r-164369" data-claire-element-id="164369"><code data-claire-semantic="cpp">glFlush();
    SDL_GL_SwapBuffers();</code></pre><p id="r-164371" data-claire-element-id="164371">La première commande, glFlush, vient s'assurer que toutes les commandes OpenGL ont été exécutées, et SDL_GL_SwapBuffers est l'équivalent de l'ancien SDL_Flip.</p><h5 id="r-le-code-complet-1" data-claire-element-id="164374">Le code complet</h5><pre id="r-164373" data-claire-element-id="164373"><code data-claire-semantic="cpp">#include &lt;SDL/SDL.h&gt;
#include &lt;GL/gl.h&gt;
#include &lt;GL/glu.h&gt;

int main(int argc, char *argv[])
{
    SDL_Init(SDL_INIT_VIDEO);
    SDL_WM_SetCaption("Mon premier programme OpenGL !",NULL);
    SDL_SetVideoMode(640, 480, 32, SDL_OPENGL);

    bool continuer = true;
    SDL_Event event;

    while (continuer)
    {
        SDL_WaitEvent(&amp;event);
        switch(event.type)
        {
            case SDL_QUIT:
                continuer = false;
        }

         glClear(GL_COLOR_BUFFER_BIT);

        glBegin(GL_TRIANGLES);
            glColor3ub(255,0,0);    glVertex2d(-0.75,-0.75);
            glColor3ub(0,255,0);    glVertex2d(0,0.75);
            glColor3ub(0,0,255);    glVertex2d(0.75,-0.75);
        glEnd();

        glFlush();
        SDL_GL_SwapBuffers();
    }

    SDL_Quit();

    return 0;
}</code></pre><h5 id="r-compilation-4" data-claire-element-id="164436">Compilation</h5><p id="r-164375" data-claire-element-id="164375">Pour compiler il nous faut rajouter les fichiers cités plus haut. Dans nos options de projet nous rajoutons donc :</p><table id="r-164434" data-claire-element-id="164434"><thead id="r-164384" data-claire-element-id="164384"><tr id="r-164381" data-claire-element-id="164381"><th id="r-164378" data-claire-element-id="164378"><p id="r-164377" data-claire-element-id="164377">IDE / Compilateur</p></th><th id="r-164380" data-claire-element-id="164380"><p id="r-164379" data-claire-element-id="164379">lib</p></th></tr></thead><tbody id="r-164433" data-claire-element-id="164433"><tr id="r-164394" data-claire-element-id="164394"><td id="r-164388" data-claire-element-id="164388"><p id="r-164386" data-claire-element-id="164386">Code::Blocks Windows</p></td><td id="r-164392" data-claire-element-id="164392"><p id="r-164391" data-claire-element-id="164391">opengl32<br> glu32</p></td></tr><tr id="r-164404" data-claire-element-id="164404"><td id="r-164398" data-claire-element-id="164398"><p id="r-164396" data-claire-element-id="164396">DevC++ Windows</p></td><td id="r-164401" data-claire-element-id="164401"><p id="r-164400" data-claire-element-id="164400">-lopengl32<br> -lglu32</p></td></tr><tr id="r-164414" data-claire-element-id="164413"><td id="r-164407" data-claire-element-id="164407"><p id="r-164406" data-claire-element-id="164406">Visual Studio Windows</p></td><td id="r-164412" data-claire-element-id="164412"><p id="r-164410" data-claire-element-id="164410">opengl32.lib<br> glu32.lib</p></td></tr><tr id="r-164424" data-claire-element-id="164424"><td id="r-164418" data-claire-element-id="164418"><p id="r-164416" data-claire-element-id="164416">Code::Blocks Linux</p></td><td id="r-164422" data-claire-element-id="164422"><p id="r-164420" data-claire-element-id="164420">GL<br> GLU</p></td></tr><tr id="r-164431" data-claire-element-id="164431"><td id="r-164427" data-claire-element-id="164427"><p id="r-164426" data-claire-element-id="164426">gcc / g++ Linux</p></td><td id="r-164430" data-claire-element-id="164430"><p id="r-164429" data-claire-element-id="164429">-lGL -lGLU</p></td></tr></tbody></table><h5 id="r-resultat-3" data-claire-element-id="164448">Résultat</h5><figure id="r-164440" data-claire-element-id="164441"><img id="r-164439" data-claire-element-id="164439" src="./Tutoriel_sdz_kayl_OpenGL/10174.png" alt="Image utilisateur"></figure><p id="r-164443" data-claire-element-id="164443"><a href="http://62.4.17.167/uploads/fr/ftp/kayl/sdz_01_intro.zip">Téléchargez le projet Code::Blocks final, l'exécutable Windows et le Makefile Unix (116 Ko)</a></p><aside id="r-164445" data-claire-element-id="164445" data-claire-semantic="information"><p id="r-164444" data-claire-element-id="164444">Pour les utilisateurs de Code::Blocks, vous pouvez ouvrir le projet fourni et faire Project &gt; Save project as user-template pour créer un projet de départ pour toutes vos applications SDL/OpenGL. Ainsi plus tard vous n'aurez qu'à faire File &gt; New Project... &gt; (Onglet) User templates &gt; Votre template pour créer un projet opérationnel immédiatement.</p></aside><p id="r-164447" data-claire-element-id="164447">Et voilà ce n'était pas sorcier ! :p Direction le prochain chapitre pour comprendre le code OpenGL que nous avons utilisé et pour dessiner plein de jolies choses.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
<span class="arrow"></span>
<span class="next">Que dois-je installer ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">
<span class="next">Notions de base</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Notionsdebase"></a><h2>Notions de base</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
<span class="arrow"></span>
<span class="next">Première application OpenGL avec SDL</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
<span class="next">Couleur et interpolation</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div class="content">
<p id="r-164455" data-claire-element-id="164455">Nous allons voir dans ce chapitre quelques concepts de base en OpenGL.<br> Bien que les exemples donnés soient en 2D vous verrez qu'ils seront toujours applicables quand nous passerons à la vraie 3D.</p>
</div><a name="Couleuretinterpolation"></a><h2>Couleur et interpolation</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">
<span class="arrow"></span>
<span class="next">Notions de base</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
<span class="next">Vertices et polygones</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-couleur-et-interpolation" data-claire-element-id="164504">Couleur et interpolation</h4><p id="r-164457" data-claire-element-id="164457">Dans le screenshot final du chapitre précédent (le triangle coloré) vous avez pu admirer la pureté et la beauté des couleurs en OpenGL.</p><p id="r-164459" data-claire-element-id="164459">Pour définir la couleur d'un vertex on utilise :</p><pre id="r-164460" data-claire-element-id="164460"><code data-claire-semantic="cpp">glColor3ub(rouge, vert, bleu);</code></pre><p id="r-164462" data-claire-element-id="164462">Les valeurs de rouge, vert et bleu sont des entiers entre 0 et 255.<br> Nous aurions pu aussi bien utiliser glColor3f (avec donc des composantes de couleurs entre 0 et 1) mais la plage de valeur [0..255] est plus facile à comprendre car fortement utilisée dans les logiciels de dessins.</p><p id="r-164464" data-claire-element-id="164464">À partir d'une couleur précise, pour connaître ses composantes RVB (ou RGB en anglais) il suffit d'utiliser la palette de couleurs de Windows (par exemple en utilisant Paint).</p><figure id="r-164467" data-claire-element-id="164469"><img id="r-164465" data-claire-element-id="164465" src="./Tutoriel_sdz_kayl_OpenGL/10202.png" alt="Image utilisateur"></figure><p id="r-164472" data-claire-element-id="164472">Un appel à glColor affecte la couleur courante, celle qui sera utilisée pour les vertices qui seront définis après. On peut ainsi changer de couleur à chaque vertex ou juste de temps en temps.</p><div id="r-164475" data-claire-element-id="164475" data-claire-semantic="question"><p id="r-164473" data-claire-element-id="164473">Et pour les points qui ne sont pas des sommets, comment la couleur est-elle définie ?</p></div><p id="r-164477" data-claire-element-id="164477">Les couleurs des points qui constituent une face sont calculées par <strong>interpolation</strong> des couleurs des sommets.</p><p id="r-164478" data-claire-element-id="164478"><cite>Citation : Dictionnaire</cite></p><blockquote id="r-164482" data-claire-element-id="164482"><p id="r-164480" data-claire-element-id="164480">Interpolation : évaluation de la valeur d'une fonction entre deux points de valeurs connues.</p></blockquote><p id="r-164483" data-claire-element-id="164483">Cela donne donc lieu à de jolis dégradés entre les sommets.</p><h5 id="r-exercice-16" data-claire-element-id="164485">Exercice</h5><p id="r-164484" data-claire-element-id="164484">Modifier le code du chapitre précédent pour dessiner un rectangle avec un dégradé bleu/rouge.</p><h5 id="r-corrige-4" data-claire-element-id="164501">Corrigé</h5><pre id="r-164486" data-claire-element-id="164486"><code data-claire-semantic="cpp">#include &lt;SDL/SDL.h&gt;
#include &lt;GL/gl.h&gt;
#include &lt;GL/glu.h&gt;
 
int main(int argc, char *argv[])
{
    SDL_Init(SDL_INIT_VIDEO);
    SDL_WM_SetCaption("Un joli \"carr\u00E9\"",NULL);
    SDL_SetVideoMode(640, 480, 32, SDL_OPENGL);
 
    bool continuer = true;
    SDL_Event event;
 
    while (continuer)
    {
        SDL_WaitEvent(&amp;event);
        switch(event.type)
        {
            case SDL_QUIT:
                continuer = false;
        }
 
         glClear(GL_COLOR_BUFFER_BIT);
 
        glBegin(GL_QUADS);
            glColor3ub(0,0,255);
            glVertex2d(-0.75,-0.75);
            glVertex2d(-0.75,0.75);
            glColor3ub(255,0,0);
            glVertex2d(0.75,0.75);
            glVertex2d(0.75,-0.75);
        glEnd();
 
        glFlush();
        SDL_GL_SwapBuffers();
    }
 
    SDL_Quit();
 
    return 0;
}</code></pre><figure id="r-164489" data-claire-element-id="164491"><img id="r-164488" data-claire-element-id="164488" src="./Tutoriel_sdz_kayl_OpenGL/10204.png" alt="Image utilisateur"></figure><p id="r-164492" data-claire-element-id="164492">Un dégradé très facilement avec OpenGL</p><p id="r-164493" data-claire-element-id="164493"><a href="http://sdz.tdct.org/sdz/medias/www.siteduzero.com_uploads_fr_ftp_kayl_sdlgl_02_carre.zip">Téléchargez le projet Code::Blocks, l'exécutable Windows et le Makefile Unix (116 Ko)</a></p><div id="r-164495" data-claire-element-id="164496" data-claire-semantic="question"><p id="r-164494" data-claire-element-id="164494">Euh oui mais ton carré n'est pas vraiment carré là !?</p></div><p id="r-164498" data-claire-element-id="164498">En effet par défaut les coordonnées vont de -1 à 1 à la fois sur X et sur Y quel que soit le ratio (rapport largeur/hauteur) de la fenêtre. Nous verrons plus tard comment tenir compte du ratio de la fenêtre et changer les coordonnées min/max.</p><p id="r-164500" data-claire-element-id="164500">Vous pouvez dès à présent vous amuser à dessiner des formes en 2D dans cet intervalle de coordonnées. Jouez avec les couleurs, les formes, les dégradés.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">
<span class="arrow"></span>
<span class="next">Notions de base</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
<span class="next">Vertices et polygones</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Verticesetpolygones"></a><h2>Vertices et polygones</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
<span class="arrow"></span>
<span class="next">Couleur et interpolation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
<span class="next">Fonctions et types</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-vertices-et-polygones" data-claire-element-id="164676">Vertices et polygones</h4><p id="r-164512" data-claire-element-id="164512">En OpenGL tout est à base de polygones, le polygone de base le plus utilisé étant le triangle.<br> Même un model 3D se représente avec des polygones qui en composent les faces.</p><figure id="r-164517" data-claire-element-id="164518"><img id="r-164514" data-claire-element-id="164514" src="./Tutoriel_sdz_kayl_OpenGL/10200.png" alt="Image utilisateur"></figure><p id="r-164521" data-claire-element-id="164521">Terrain en mode filaire*</p><p id="r-164522" data-claire-element-id="164522">* Nous verrons dans la partie II de ce tuto comment générer un terrain en OpenGL.</p><p id="r-164524" data-claire-element-id="164524">Pour dessiner un polygone il faut :</p><ul id="r-164530" data-claire-element-id="164530"><li id="r-164526" data-claire-element-id="164526"><p id="r-164525" data-claire-element-id="164525">définir tous les sommets qui le composent ;</p></li><li id="r-164528" data-claire-element-id="164528"><p id="r-164527" data-claire-element-id="164527">indiquer à OpenGL comment il doit utiliser ses sommets.</p></li></ul><aside id="r-164534" data-claire-element-id="164534" data-claire-semantic="information"><p id="r-164532" data-claire-element-id="164532"><em>Sommet</em> se dit <strong>vertex</strong> en anglais, vertices au pluriel. Pour rester proches du langage OpenGl et du monde de la 3D, nous garderons l'appellation anglaise. Ça fait plus pro, isn't it ? :soleil:</p></aside><p id="r-164536" data-claire-element-id="164536">Regardons la 1re ligne du code barbare du chapitre précedent :</p><pre id="r-164537" data-claire-element-id="164537"><code data-claire-semantic="cpp">glBegin(GL_TRIANGLES);</code></pre><p id="r-164538" data-claire-element-id="164538">Avec GL_TRIANGLES on indique à OpenGL qu'il doit faire des triangles avec les vertices qui seront déclarés.</p><p id="r-164539" data-claire-element-id="164539">Voici la liste des modes que nous pouvons utiliser :</p><table id="r-164640" data-claire-element-id="164640"><thead id="r-164549" data-claire-element-id="164549"><tr id="r-164547" data-claire-element-id="164547"><th id="r-164542" data-claire-element-id="164542"><p id="r-164540" data-claire-element-id="164540">mode</p></th><th id="r-164545" data-claire-element-id="164545"><p id="r-164543" data-claire-element-id="164543">détail</p></th></tr></thead><tbody id="r-164637" data-claire-element-id="164637"><tr id="r-164558" data-claire-element-id="164558"><td id="r-164551" data-claire-element-id="164551"><p id="r-164550" data-claire-element-id="164550">GL_POINTS</p></td><td id="r-164555" data-claire-element-id="164555"><p id="r-164553" data-claire-element-id="164553">chaque vertex sera représenté comme un point</p></td></tr><tr id="r-164568" data-claire-element-id="164568"><td id="r-164562" data-claire-element-id="164562"><p id="r-164560" data-claire-element-id="164560">GL_LINES</p></td><td id="r-164566" data-claire-element-id="164566"><p id="r-164565" data-claire-element-id="164564">les vertices seront reliés <strong>2 à 2</strong> pour faire des lignes. Si on définit 4 vertices, le 1er sera relié avec le 2nd, le 3e avec le 4e, mais en aucun cas le 2e ne sera relié au 3e</p></td></tr><tr id="r-164574" data-claire-element-id="164574"><td id="r-164570" data-claire-element-id="164570"><p id="r-164569" data-claire-element-id="164569">GL_LINE_STRIP</p></td><td id="r-164572" data-claire-element-id="164572"><p id="r-164571" data-claire-element-id="164571">les vertices sont connectés par des lignes du 1er au dernier. Si on définit 3 vertices, le 1er sera relié avec le 2nd et le 2nd avec le 3e</p></td></tr><tr id="r-164581" data-claire-element-id="164581"><td id="r-164576" data-claire-element-id="164576"><p id="r-164575" data-claire-element-id="164575">GL_LINE_LOOP</p></td><td id="r-164579" data-claire-element-id="164579"><p id="r-164578" data-claire-element-id="164578">identique à GL_LINE_STRIP, mais le dernier vertex est aussi relié au 1er (on réalise une boucle : loop)</p></td></tr><tr id="r-164591" data-claire-element-id="164591"><td id="r-164585" data-claire-element-id="164585"><p id="r-164584" data-claire-element-id="164584">GL_TRIANGLES</p></td><td id="r-164589" data-claire-element-id="164589"><p id="r-164588" data-claire-element-id="164588">les triplets de vertices sont utilisés pour former des triangles pleins. Ce mode sera le plus utilisé lorsque nous représenterons des objets complexes à base de faces triangulaires</p></td></tr><tr id="r-164601" data-claire-element-id="164601"><td id="r-164595" data-claire-element-id="164595"><p id="r-164594" data-claire-element-id="164594">GL_TRIANGLE_STRIP</p></td><td id="r-164599" data-claire-element-id="164599"><p id="r-164597" data-claire-element-id="164596">Les triangles se touchent, c'est-à-dire qu'il faut 3 vertices pour faire un premier triangle, et un 4e vertex suffit pour en définir un autre car les 2 derniers vertices seront aussi utilisés</p></td></tr><tr id="r-164609" data-claire-element-id="164609"><td id="r-164604" data-claire-element-id="164604"><p id="r-164602" data-claire-element-id="164602">GL_TRIANGLE_FAN</p></td><td id="r-164607" data-claire-element-id="164607"><p id="r-164606" data-claire-element-id="164606">les triangles se touchent et ont en commun le 1er vertex défini. Si on définit 4 vertices, le 1er le 2e et le 3e forment un triangle, le 1er le 3e et le 4e forment un deuxième triangle.</p></td></tr><tr id="r-164619" data-claire-element-id="164619"><td id="r-164613" data-claire-element-id="164613"><p id="r-164611" data-claire-element-id="164611">GL_QUADS</p></td><td id="r-164617" data-claire-element-id="164617"><p id="r-164615" data-claire-element-id="164615">les quadruplets de vertices forment des quadrilatères pleins</p></td></tr><tr id="r-164628" data-claire-element-id="164627"><td id="r-164621" data-claire-element-id="164621"><p id="r-164620" data-claire-element-id="164620">GL_QUAD_STRIP</p></td><td id="r-164625" data-claire-element-id="164625"><p id="r-164623" data-claire-element-id="164623">tout comme précédemment, les quadrilatères sont connectés, il suffit de 2 nouveaux vertices pour en définir un nouveau, les 2 derniers vertices du quadrilatère précédents étant utilisés</p></td></tr><tr id="r-164635" data-claire-element-id="164635"><td id="r-164632" data-claire-element-id="164632"><p id="r-164631" data-claire-element-id="164630">GL_POLYGON</p></td><td id="r-164634" data-claire-element-id="164634"><p id="r-164633" data-claire-element-id="164633">tous les vertices forment un polygone convexe (comme un pentagone ou tout autre polygone ayant plus de 4 sommets)</p></td></tr></tbody></table><p id="r-164642" data-claire-element-id="164642">Une fois le mode de dessin défini, il faut déclarer les vertices avec glVertex :</p><pre id="r-164644" data-claire-element-id="164644"><code data-claire-semantic="cpp">glVertex2d(-0.75,-0.75);
glVertex2d(0,0.75);
glVertex2d(0.75,-0.75);</code></pre><p id="r-164645" data-claire-element-id="164645">Nous l'avons plus haut, une même fonction OpenGL, ici glVertex, peut être appelée avec un nombre variable d'arguments. Ici nous en utilisons 2 (d'où le 2d) donc nous définissions le X et le Y du sommet en question et le Z est automatiquement mis à 0.</p><p id="r-164646" data-claire-element-id="164646">Il va sans dire que l'ordre de définition des vertices est important. Il faut suivre le contour du polygone si on ne veut pas se retrouver avec des aberrations.</p><p id="r-164648" data-claire-element-id="164648">Pour finir il faut fermer le bloc ouvert par glBegin avec glEnd :</p><pre id="r-164649" data-claire-element-id="164649"><code data-claire-semantic="cpp">glEnd();</code></pre><aside id="r-164652" data-claire-element-id="164652" data-claire-semantic="warning"><p id="r-164651" data-claire-element-id="164651">Oublier de fermer un bloc ouvert avec glBegin par glEnd rendra le bloc invalide et rien ne sera dessiné.</p></aside><h6 id="r-quelques-options" data-claire-element-id="164658">Quelques options</h6><p id="r-164653" data-claire-element-id="164653">Si vous êtes amenés à travailler avec des points ou des lignes, vous aurez sûrement envie d'en changer la taille... OpenGL a pensé à vous :</p><pre id="r-164655" data-claire-element-id="164655"><code data-claire-semantic="cpp">glPointSize( taille );
glLineWidth( largeur );</code></pre><p id="r-164656" data-claire-element-id="164656">taille et largeur sont des réels qui valent 1.0 par défaut.</p><h6 id="r-comparatif" data-claire-element-id="164672">Comparatif</h6><p id="r-164659" data-claire-element-id="164659">Pour comprendre l'influence du mode sur le rendu, voici une animation du rendu de 6 vertices avec des modes différents :</p><figure id="r-164662" data-claire-element-id="164664"><img id="r-164661" data-claire-element-id="164661" src="./Tutoriel_sdz_kayl_OpenGL/10201.gif" alt="Image utilisateur"></figure><p id="r-164667" data-claire-element-id="164667">Certains modes n'ont pas été utilisés car ils n'avaient que peu d'intérêt dans cet exemple.</p><aside id="r-164670" data-claire-element-id="164670" data-claire-semantic="information"><p id="r-164669" data-claire-element-id="164669">Dans le mode GL_QUADS, comme nous avons 6 vertices, les 4 premiers forment un rectangle, mais les 2 autres sont inutilisés.</p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
<span class="arrow"></span>
<span class="next">Couleur et interpolation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
<span class="next">Fonctions et types</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Fonctionsettypes"></a><h2>Fonctions et types</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
<span class="arrow"></span>
<span class="next">Vertices et polygones</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">
<span class="next">Les transformations</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-fonctions-et-types" data-claire-element-id="164750">Fonctions et types</h4><p id="r-164685" data-claire-element-id="164685">Dans le chapitre précédent nous avons rencontré nos premières fonctions OpenGL.<br> Par exemple nous avions :</p><pre id="r-164686" data-claire-element-id="164686"><code data-claire-semantic="cpp">glBegin(GL_TRIANGLES);
glColor3ub(255,0,0);    glVertex2d(-0.75,-0.75);</code></pre><p id="r-164688" data-claire-element-id="164688">Pour pouvoir les différencier des autres fonctions, les fonctions OpenGL ont une syntaxe particulière dans leur nom :</p><p id="r-164690" data-claire-element-id="164690">glNom[NbType] ( [ Paramètres ] );</p><p id="r-164692" data-claire-element-id="164692">J'imagine qu'une petite explication de la formule barbare du dessus n'est pas de refus. ;)</p><ul id="r-164732" data-claire-element-id="164732"><li id="r-164696" data-claire-element-id="164696"><p id="r-164694" data-claire-element-id="164694"><strong>gl</strong> ou <strong>glu</strong> : préfixes communs à toutes les fonctions OpenGL ;</p></li><li id="r-164699" data-claire-element-id="164699"><p id="r-164697" data-claire-element-id="164697"><strong>Nom</strong> : il s'agit du nom de la fonction comme Begin ou encore Vertex ;</p></li><li id="r-164704" data-claire-element-id="164704"><p id="r-164701" data-claire-element-id="164701"><strong>Nb</strong> : pour les fonctions à nombre de paramètres variables définit le nombre de paramètres qui vont suivre (ex : pour Begin aucun, pour Vertex 2) ;</p></li><li id="r-164726" data-claire-element-id="164726"><p id="r-164706" data-claire-element-id="164706"><strong>Type</strong> : pour les fonctions à type variable définit le type des paramètres utilisés. Nous utiliserons notamment :</p><ul id="r-164723" data-claire-element-id="164722"><li id="r-164710" data-claire-element-id="164710"><p id="r-164708" data-claire-element-id="164708">i pour integer (entier) ;</p></li><li id="r-164714" data-claire-element-id="164714"><p id="r-164712" data-claire-element-id="164712">f pour float (réel) ;</p></li><li id="r-164716" data-claire-element-id="164716"><p id="r-164715" data-claire-element-id="164715">d pour double (réel plus précis) ;</p></li><li id="r-164720" data-claire-element-id="164720"><p id="r-164719" data-claire-element-id="164719">ub pour unsigned byte (entier entre 0 et 255).</p></li></ul></li><li id="r-164730" data-claire-element-id="164730"><p id="r-164728" data-claire-element-id="164728"><strong>Paramètres</strong> : pour finir si la fonction a besoin de paramètres il faut les rentrer.</p></li></ul><p id="r-164736" data-claire-element-id="164736">Avec ce formalisme vous comprenez maintenant que glVertex2i est une fonction qui a besoin de deux paramètres de type entier.</p><p id="r-164738" data-claire-element-id="164738">Dans nos codes nous serons amenés à rencontrer des constantes OpenGL. On les reconnaît facilement car leur nom est intégralement en majuscules.<br> Ex : GL_TRUE, GL_FALSE qui sont les équivalents de true, et false (vrai et faux).<br> Si vous vous rappelez bien, nous sommes déjà passés devant une constante sans nous en rendre compte :</p><pre id="r-164739" data-claire-element-id="164739"><code data-claire-semantic="cpp">glClear(GL_COLOR_BUFFER_BIT);</code></pre><p id="r-164741" data-claire-element-id="164741">Nous disions ici à OpenGL d'effacer le tampon d'affichage en passant en paramètre de glClear une constante qui lui permet de savoir quel tampon effacer.</p><p id="r-164743" data-claire-element-id="164743">À tout moment, n'hésitez pas à consulter la documentation pour avoir plus de détails sur l'utilisation d'une fonction.<br> La documention est disponible sur le site d'OpenGL :</p><p id="r-164745" data-claire-element-id="164745"><a href="http://www.opengl.org/documentation/specs/man_pages/hardcopy/GL/html/">Documentation OpenGL</a>*</p><p id="r-164747" data-claire-element-id="164747">* par exemple pour avoir le détail sur glVertex nous cliquons sur <a href="http://www.opengl.org/documentation/specs/man_pages/hardcopy/GL/html/gl/">gl</a> puis cherchons <a href="http://www.opengl.org/documentation/specs/man_pages/hardcopy/GL/html/gl/vertex.html">Vertex</a>.</p><p id="r-164749" data-claire-element-id="164749">Vous voyez l'OpenGL ce n'est pas si compliqué !<br> Dans le prochain chapitre nous restons en 2D pour nous attaquer aux transformations.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
<span class="arrow"></span>
<span class="next">Vertices et polygones</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">
<span class="next">Les transformations</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Lestransformations"></a><h2>Les transformations</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
<span class="arrow"></span>
<span class="next">Fonctions et types</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
<span class="next">Un brin de folie mathématique</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div class="content">
<p id="r-164760" data-claire-element-id="164760">J'imagine votre impatience de débuter réellement la 3D. Mon but est de vous y emmener au plus vite mais avec un petit bagage technique nécessaire pour que vous puissiez tout de suite vous amuser et surtout comprendre ce que vous faites.<br> Ce chapitre vient introduire la notion de <strong>transformation</strong>, notion que nous pourrons dès à présent appliquer en 2D.</p><p id="r-164762" data-claire-element-id="164762">Si vous avez la tête qui tourne lors de la lecture de ce chapitre, c'est normal ! Ce sont les effets de la rotation que nous allons découvrir. ;)</p>
</div><a name="Unbrindefoliemathmatique"></a><h2>Un brin de folie mathématique</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">
<span class="arrow"></span>
<span class="next">Les transformations</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
<span class="next">Les matrices OpenGL</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-un-brin-de-folie-mathematique" data-claire-element-id="164850">Un brin de folie mathématique</h4><p id="r-164763" data-claire-element-id="164763">Les transformations... un bien grand mot. En prenant notre bon vieux bouquin de Maths de 4e ou 3e nous trouvons comme transformations élémentaires :</p><ul id="r-164780" data-claire-element-id="164780"><li id="r-164766" data-claire-element-id="164767"><p id="r-164765" data-claire-element-id="164765">la translation ;</p></li><li id="r-164771" data-claire-element-id="164770"><p id="r-164769" data-claire-element-id="164769">la rotation ;</p></li><li id="r-164774" data-claire-element-id="164774"><p id="r-164772" data-claire-element-id="164772">la symétrie* ;</p></li><li id="r-164778" data-claire-element-id="164778"><p id="r-164776" data-claire-element-id="164776">le changement d'échelle.</p></li></ul><p id="r-164783" data-claire-element-id="164783">* la symétrie centrale équivaut à une rotation de 180° et certaines symétries axiales sont définissables <em>via</em> des changements d'échelle (nous y reviendrons lorsque nous verrons comment réaliser un miroir en OpenGL)</p><p id="r-164785" data-claire-element-id="164785">Je ne vais pas m'étaler sur l'explication des actions de ces transformations sur les angles, les longueurs... c'était le boulot de votre prof de collège ! :diable: <br> Pour ma part je vais vous parler des matrices, car c'est sous cette forme que sont utilisées les transformations en OpenGL (et dans la géométrie spatiale en général).<br> Les matrices vous connaissez ? Oui euh... non, pas <strong>la</strong><em>la matrice</em> ok... c'est pas gagné... Image utilisateur</p><p id="r-164787" data-claire-element-id="164787">Une matrice se représente sous la forme d'un tableau de nombres... mais attention son sens et son utilisation vont au-delà de sa représentation. <strong>Ce n'est pas qu'un « tableau ».</strong><br> D'une manière générale une matrice représente une transformation. La matrice définit la manière d'évoluer d'un système.<br> Ici ce qui nous intéresse c'est l'<em>utilisation géométrique des matrices</em> pour prédire <strong>numériquement</strong> le résultat d'une transformation.</p><p id="r-164790" data-claire-element-id="164791">Je prendrai l'exemple de la rotation 2D car il est facilement compréhensible et représentable. Le principe est le même pour la 3D, avec une dimension en plus bien évidemment.</p><figure id="r-164795" data-claire-element-id="164796"><img id="r-164792" data-claire-element-id="164793" src="./Tutoriel_sdz_kayl_OpenGL/10378.png" alt="Image utilisateur"></figure><p id="r-164798" data-claire-element-id="164798">La rotation d'angle thêta sur le plan (voir dessin ci-dessus), s'écrit matriciellement :</p><figure id="r-164801" data-claire-element-id="164803"><img id="r-164799" data-claire-element-id="164799" src="./Tutoriel_sdz_kayl_OpenGL/10379.png" alt="Image utilisateur"></figure><p id="r-164805" data-claire-element-id="164805">En prenant le cas particulier de la rotation d'angle thêta = 90°, le matrice devient :</p><figure id="r-164808" data-claire-element-id="164810"><img id="r-164807" data-claire-element-id="164807" src="./Tutoriel_sdz_kayl_OpenGL/10380.png" alt="Image utilisateur"></figure><p id="r-164813" data-claire-element-id="164813">Maintenant prenons un vecteur de base, disons le vecteur V de coordonnées V=(1,1).</p><figure id="r-164816" data-claire-element-id="164818"><img id="r-164815" data-claire-element-id="164815" src="./Tutoriel_sdz_kayl_OpenGL/10381.png" alt="Image utilisateur"></figure><p id="r-164819" data-claire-element-id="164819">Appliquons-lui la « transformation » décrite par la matrice. Pour ce faire calculons simplement le produit* matrice x vecteur : V' = M x V</p><p id="r-164821" data-claire-element-id="164821">* Un produit matrice x vecteur est assez simple, le dessin ci-dessous l'explique en couleur.</p><figure id="r-164824" data-claire-element-id="164826"><img id="r-164823" data-claire-element-id="164822" src="./Tutoriel_sdz_kayl_OpenGL/10382.png" alt="Image utilisateur"></figure><figure id="r-164830" data-claire-element-id="164832"><img id="r-164828" data-claire-element-id="164828" src="./Tutoriel_sdz_kayl_OpenGL/10383.png" alt="Image utilisateur"></figure><p id="r-164834" data-claire-element-id="164834">On obtient comme vous le voyez le vecteur V'=(-1,1).</p><figure id="r-164838" data-claire-element-id="164839"><img id="r-164836" data-claire-element-id="164836" src="./Tutoriel_sdz_kayl_OpenGL/10384.png" alt="Image utilisateur"></figure><p id="r-164840" data-claire-element-id="164840">Et en effet en vérifiant graphiquement, le vecteur rouge est bien obtenu par rotation de 90° du vecteur noir comme nous l'avions prévu par le calcul.</p><figure id="r-164844" data-claire-element-id="164845"><img id="r-164842" data-claire-element-id="164842" src="./Tutoriel_sdz_kayl_OpenGL/10385.png" alt="Image utilisateur"></figure><p id="r-164848" data-claire-element-id="164848">Ici nous avons vu comment une matrice pouvait être utilisée pour réaliser une rotation.<br> En réalité les matrices utilisées sont des matrices 4x4 qui peuvent représenter à la fois une rotation, une translation et une « mise à l'échelle ». Je ne détaillerai pas ici les mathématiques des matrices 3D, mon but étant juste pour l'instant de vous faire comprendre qu'une matrice peut être (et sera) utilisée pour faire des transformations géométriques.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">
<span class="arrow"></span>
<span class="next">Les transformations</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
<span class="next">Les matrices OpenGL</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="LesmatricesOpenGL"></a><h2>Les matrices OpenGL</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
<span class="arrow"></span>
<span class="next">Un brin de folie mathématique</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
<span class="next">Les transformations</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-matrices-opengl" data-claire-element-id="164921">Les matrices OpenGL</h4><p id="r-164856" data-claire-element-id="164856">La plupart du temps, avec OpenGL, nous ne manipulerons pas directement ces matrices mais vous devez savoir qu'il existe trois matrices que nous serons amenés à utiliser <em>via</em> des appels de fonctions simples :</p><table id="r-164886" data-claire-element-id="164886"><tbody id="r-164883" data-claire-element-id="164883"><tr id="r-164864" data-claire-element-id="164864"><td id="r-164859" data-claire-element-id="164859"><p id="r-164857" data-claire-element-id="164857">GL_PROJECTION</p></td><td id="r-164862" data-claire-element-id="164862"><p id="r-164861" data-claire-element-id="164861">dans laquelle nous définissons le mode de projection (orthogonale, perspective)</p></td></tr><tr id="r-164875" data-claire-element-id="164875"><td id="r-164869" data-claire-element-id="164869"><p id="r-164867" data-claire-element-id="164867">GL_MODELVIEW</p></td><td id="r-164874" data-claire-element-id="164874"><p id="r-164872" data-claire-element-id="164871">pour positionner les objets dans la scène (caméra, vertices, lumières et autres effets). C'est celle que nous manipulerons le plus.</p></td></tr><tr id="r-164882" data-claire-element-id="164882"><td id="r-164878" data-claire-element-id="164878"><p id="r-164877" data-claire-element-id="164877">GL_TEXTURE</p></td><td id="r-164880" data-claire-element-id="164880"><p id="r-164879" data-claire-element-id="164879">pour les textures. Nous verrons lors du chapitre sur les textures comment le fait de définir une translation grâce à cette matrice nous permettra de faire des textures animées.</p></td></tr></tbody></table><h5 id="r-transformations-cumulatives" data-claire-element-id="164891">Transformations cumulatives</h5><p id="r-164888" data-claire-element-id="164888">Comme je vous l'ai dit tout à l'heure en OpenGL on modifie rarement la matrice directement (en affectant des valeurs). On vient plutôt modifier la matrice existante grâce à un appel de fonction. Par exemple si la transformation actuellement stockée dans la matrice est rotation de 90° et qu'on vient demander à faire une rotation de -10°, la matrice contiendra en fait la transformation cumulée c'est-à-dire rotation de 80°.</p><p id="r-164890" data-claire-element-id="164890">Pour éviter de cumuler des transformations et repartir à zéro en quelque sorte il faut réinitialiser la matrice (toute analogie avec un film est purement fortuite...).</p><h5 id="r-reinitialiser-une-matrice" data-claire-element-id="164901">Réinitialiser une matrice</h5><p id="r-164893" data-claire-element-id="164893">Avant de faire des modifications sur la matrice de transformation, il faut être sûr de son état de départ. Pour cela on la réinitialise avec la <strong>matrice d'identité</strong>.*</p><p id="r-164895" data-claire-element-id="164895">* La transformée d'un point par la matrice d'identité est lui-même, en gros elle ne transforme rien.</p><p id="r-164897" data-claire-element-id="164897">Pour ce faire on utilise la fonction :<br>glLoadIdentity();</p><p id="r-164899" data-claire-element-id="164899">Ainsi nous rajouterons ce morceau de code avant de faire un quelconque dessin :</p><pre id="r-164900" data-claire-element-id="164900"><code data-claire-semantic="cpp">glMatrixMode( GL_MODELVIEW );
glLoadIdentity( );</code></pre><h5 id="r-pile-de-matrices" data-claire-element-id="164918">Pile de matrices</h5><p id="r-164903" data-claire-element-id="164903">Vous l'avez compris maintenant, appliquer une transformation en OpenGL revient à multiplier la matrice actuelle par la matrice de notre nouvelle transformation.<br> Avant d'effectuer une transformation, il faut savoir si nous allons l'appliquer uniquement à un objet, ou à tous ceux qui seront définis par la suite.<br> En effet si on applique une rotation à un triangle, et qu'on dessine un carré juste après il subira aussi cette transformation.<br> Deux fonctions permettent d'éviter ça :</p><ul id="r-164911" data-claire-element-id="164911"><li id="r-164906" data-claire-element-id="164906"><p id="r-164904" data-claire-element-id="164904">glPushMatrix( ) : sauvegarde la matrice actuelle ;</p></li><li id="r-164909" data-claire-element-id="164909"><p id="r-164908" data-claire-element-id="164908">glPopMatrix( ) : restitue la matrice sauvegardée.</p></li></ul><p id="r-164912" data-claire-element-id="164912">Après un glPushMatrix, on continue à travailler avec l'état actuel de la matrice, on a juste rajouté la possibilité de revenir en arrière.<br> On peut toujours, à tout moment, recommencer à zéro et réinitialiser la matrice de transformation à la matrice identité : glLoadIdentity();</p><p id="r-164913" data-claire-element-id="164913">Quand une matrice est sauvegardée, elle est mise en tête de la pile (de sauvegarde) des matrices.<br> Un appel à glPopMatrix prend la matrice en tête, l'enlève de la pile et l'utilise comme matrice de transformation actuelle.</p><p id="r-164915" data-claire-element-id="164915">La profondeur de cette pile est de 32 matrices pour GL_MODELVIEW, on peut donc faire 32 appels consécutifs à glPushMatrix.</p><p id="r-164917" data-claire-element-id="164917">Maintenant que nous savons comment préserver notre matrice, voyons tout de même ce qui nous intéresse ici... la modifier pour appliquer des transformations.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
<span class="arrow"></span>
<span class="next">Un brin de folie mathématique</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
<span class="next">Les transformations</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Lestransformations"></a><h2>Les transformations</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
<span class="arrow"></span>
<span class="next">Les matrices OpenGL</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
<span class="next">Exercice : une grue</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-transformations-3" data-claire-element-id="165009">Les transformations</h4><p id="r-164925" data-claire-element-id="164925">Transformation = changement de repère.<br>Transformation = changement de repère.<br>Transformation = changement de repère.<br> Ah oui au fait, saviez-vous que : transformation = changement de repère ? :p</p><p id="r-164926" data-claire-element-id="164926">Je me permets d'insister (lourdement), car c'est ce qu'il faut assimiler pour devenir le roi des transformations.<br> Dans la vraie vie pour appliquer une transformation à un objet nous le placerions d'abord dans le monde puis nous le ferions tourner par exemple. Ici il faut réfléchir en terme de repère : par des modifications successives de la matrice GL_MODELVIEW nous plaçons, tournons, dimensionnons le repère dans lequel sera ensuite dessiné notre objet.<br> Ainsi nous appliquons d'abord les transformations que nous voulons, puis au dernier moment nous dessinons notre objet.</p><p id="r-164928" data-claire-element-id="164928">J'illustrerai donc les transformations sur la modification apportée au repère. Et pour marquer les esprits sur le fait que les transformations sont accumulées tant que la matrice n'est pas réinitialisée, j'effectuerai les transformations les unes à la suite des autres.</p><p id="r-164929" data-claire-element-id="164929">Partons donc du repère de base, ici représenté uniquement dans le plan (X,Y) par souci de simplicité.</p><figure id="r-164932" data-claire-element-id="164934"><img id="r-164931" data-claire-element-id="164931" src="./Tutoriel_sdz_kayl_OpenGL/10386.png" alt="Image utilisateur"></figure><p id="r-164937" data-claire-element-id="164936">Repère de base</p><h5 id="r-translation" data-claire-element-id="164954">Translation</h5><p id="r-164938" data-claire-element-id="164938">La translation permet de déplacer le repère actuel selon un vecteur V = (x,y,z) ou x, y, et z sont réels. Même si on ne veut déplacer que selon une composante, il faut définir les autres (en les mettant à 0).</p><p id="r-164940" data-claire-element-id="164940">glTranslatef ( x , y, z );</p><p id="r-164942" data-claire-element-id="164942">Exemple ici :</p><pre id="r-164943" data-claire-element-id="164943"><code data-claire-semantic="cpp">glTranslated(-2,-1,0);</code></pre><p id="r-164945" data-claire-element-id="164945">Donne :</p><figure id="r-164948" data-claire-element-id="164950"><img id="r-164947" data-claire-element-id="164946" src="./Tutoriel_sdz_kayl_OpenGL/10387.png" alt="Image utilisateur"></figure><p id="r-164952" data-claire-element-id="164952">Repère après translation</p><h5 id="r-rotation-2" data-claire-element-id="164977">Rotation</h5><p id="r-164959" data-claire-element-id="164959">La rotation fait tourner le repère actuel d'un angle thêta (exprimé <strong>en degré</strong>) selon l'axe défini par le vecteur V = (x,y,z) ou x, y, et z sont des réels :</p><p id="r-164961" data-claire-element-id="164961">glRotated ( thêta, x , y, z );</p><p id="r-164962" data-claire-element-id="164962">Généralement on ne fait tourner qu'autour <strong>d'un des axes principaux</strong> (X Y ou Z) <strong>à la fois</strong>.<br> Les rotations sur le plan (X,Y) se font autour de l'axe Z, donc pour faire tourner notre repère de 45° il faut faire :</p><pre id="r-164965" data-claire-element-id="164965"><code data-claire-semantic="cpp">glRotated(45,0,0,1);</code></pre><figure id="r-164968" data-claire-element-id="164970"><img id="r-164966" data-claire-element-id="164966" src="./Tutoriel_sdz_kayl_OpenGL/10388.png" alt="Image utilisateur"></figure><p id="r-164972" data-claire-element-id="164972">Repère après rotation</p><aside id="r-164975" data-claire-element-id="164975" data-claire-semantic="information"><p id="r-164973" data-claire-element-id="164973">Je vous l'ai dit tout à l'heure, chaque transformation modifie la matrice. Si on ne revient pas en arrière (remise à zéro, ou restitution d'une matrice sauvegardée), les transformations se combinent. C'est pour ça qu'ici le repère a tourné à partir de la position qui lui avait été donnée après la translation.</p></aside><h5 id="r-changement-d-echelle" data-claire-element-id="164992">Changement d'échelle</h5><p id="r-164981" data-claire-element-id="164981">Ce n'est pas vraiment une homothétie car on peut changer d'échelle différemment selon les axes.<br> Elle permet de transformer les axes du repère afin de grossir, diminuer, étirer les objets qui y seront dessinés (« scale » en anglais).<br> Ainsi si l'on appelle<br>glScalef ( i, j, k );<br> le nouveau repère sera tel que x' = i * x, y' = j * y, z' = k * z.</p><p id="r-164983" data-claire-element-id="164983">Si l'on souhaite ne pas modifier un axe en particulier (par exemple Z quand on fait de la 2D) il faut mettre 1 et non 0.<br> Généralement on applique le même facteur à tous les axes pour ne pas déformer, mais rien ne nous empêche de transformer différemment les axes :</p><pre id="r-164985" data-claire-element-id="164985"><code data-claire-semantic="cpp">glScalef(2,0.5,1);</code></pre><figure id="r-164988" data-claire-element-id="164990"><img id="r-164986" data-claire-element-id="164986" src="./Tutoriel_sdz_kayl_OpenGL/10389.png" alt="Image utilisateur"></figure><p id="r-164991" data-claire-element-id="164991">Repère après changement d'échelle</p><h5 id="r-importance-de-l-ordre-des-transformations" data-claire-element-id="165005">Importance de l'ordre des transformations</h5><p id="r-164993" data-claire-element-id="164993">Il est important que vous réfléchissiez à l'ordre dans lequel vous appliquez vos transformations. Par exemple faire une translation suivie d'une rotation n'a pas forcément le même résultat que de faire la rotation puis la translation.</p><pre id="r-164994" data-claire-element-id="164994"><code data-claire-semantic="cpp">glPushMatrix();
glTranslated(-2,0,0);
glRotated(45,0,0,1);
dessin1(); //triangle rouge
glPopMatrix();

glRotated(45,0,0,1);
glTranslated(-2,0,0);
dessin2(); //triangle bleu</code></pre><figure id="r-164996" data-claire-element-id="164997"><img id="r-164995" data-claire-element-id="164995" src="./Tutoriel_sdz_kayl_OpenGL/10390.png" alt="Image utilisateur"></figure><p id="r-164998" data-claire-element-id="164998">Ordre des transformations</p><aside id="r-165001" data-claire-element-id="165001" data-claire-semantic="information"><p id="r-165000" data-claire-element-id="165000">Remarquez au passage l'utilisation qui a été faite de glPushMatrix( ) et glPopMatrix( ), qui nous ont permis, après avoir dessiné le triangle rouge, de revenir au repère de base afin d'entamer les transformations pour le triangle bleu.</p></aside><p id="r-165004" data-claire-element-id="165004">Pour être sûr que vous ayez bien saisi les finesses des transformations, rien de tel qu'un exercice pratique et rigolo !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
<span class="arrow"></span>
<span class="next">Les matrices OpenGL</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
<span class="next">Exercice : une grue</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Exerciceunegrue"></a><h2>Exercice : une grue</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
<span class="arrow"></span>
<span class="next">Les transformations</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">
<span class="next">Enfin de la 3D (Partie 1/2)</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-exercice-une-grue" data-claire-element-id="165129">Exercice : une grue</h4><p id="r-165015" data-claire-element-id="165015">Je vous propose de vous familiariser avec les transformations par l'intermédiaire d'un petit exercice simple : la construction d'une grue 2D contrôlée par le clavier.</p><figure id="r-165017" data-claire-element-id="165019"><img id="r-165016" data-claire-element-id="165016" src="./Tutoriel_sdz_kayl_OpenGL/10393.png" alt="Image utilisateur"></figure><p id="r-165020" data-claire-element-id="165020">La grue est assez simple et est composée :</p><ul id="r-165037" data-claire-element-id="165037"><li id="r-165023" data-claire-element-id="165023"><p id="r-165021" data-claire-element-id="165021">d'une base ;</p></li><li id="r-165026" data-claire-element-id="165026"><p id="r-165025" data-claire-element-id="165025">d'un grand bras ;</p></li><li id="r-165028" data-claire-element-id="165028"><p id="r-165027" data-claire-element-id="165027">d'un petit bras ;</p></li><li id="r-165031" data-claire-element-id="165031"><p id="r-165030" data-claire-element-id="165030">d'un fil ;</p></li><li id="r-165035" data-claire-element-id="165035"><p id="r-165033" data-claire-element-id="165033">d'une caisse.</p></li></ul><figure id="r-165042" data-claire-element-id="165044"><img id="r-165041" data-claire-element-id="165041" src="./Tutoriel_sdz_kayl_OpenGL/10394.png" alt="Image utilisateur"></figure><p id="r-165047" data-claire-element-id="165047">Je vous conseille de contrôler la grue au <a href="http://www.siteduzero.com/tuto-3-5790-1-la-gestion-des-evenements-clavier-et-souris.html#ss_part_2">clavier</a> et ainsi de pouvoir modifier :</p><ul id="r-165057" data-claire-element-id="165057"><li id="r-165049" data-claire-element-id="165049"><p id="r-165048" data-claire-element-id="165048">l'angle entre le bras et la base ;</p></li><li id="r-165053" data-claire-element-id="165053"><p id="r-165051" data-claire-element-id="165051">l'angle entre le petit bras et le grand bras ;</p></li><li id="r-165056" data-claire-element-id="165056"><p id="r-165054" data-claire-element-id="165054">la longueur du fil (pour faire monter et descendre la caisse).</p></li></ul><h5 id="r-gestion-du-clavier" data-claire-element-id="165079">Gestion du clavier</h5><p id="r-165060" data-claire-element-id="165060">Je vous laisse libres du choix des touches. Pour ma part j'ai utilisé les flèches directionnelles : haut/bas pour le fil, gauche/droite pour les bras (shift enfoncé pour le grand bras).</p><p id="r-165061" data-claire-element-id="165061">Une réception des événements avec SDL_WaitEvent suffit car on veut ne faire bouger la grue que lors de l'appui sur une touche.<br> Pensez toutefois à activer la répétition des touches au préalable* :</p><pre id="r-165062" data-claire-element-id="165062"><code data-claire-semantic="cpp">SDL_EnableKeyRepeat(10,10);</code></pre><p id="r-165063" data-claire-element-id="165063">* les valeurs proposées par SDL (SDL_DEFAULT_REPEAT_DELAY et SDL_DEFAULT_REPEAT_INTERVAL) sont trop lentes. Avec 10, 10 vous aurez un mouvement plus fluide.</p><p id="r-165064" data-claire-element-id="165064">Pour avoir quelque chose d'un chouilla réaliste, je vous conseille de limiter la plage de valeurs que peuvent prendre vos variables (angles et longueur). J'utilise :</p><ul id="r-165076" data-claire-element-id="165076"><li id="r-165067" data-claire-element-id="165067"><p id="r-165066" data-claire-element-id="165066">angle grand bras/base entre 10° et 90° ;</p></li><li id="r-165069" data-claire-element-id="165069"><p id="r-165068" data-claire-element-id="165068">angle petit bras/grand bras entre -90° et 90° ;</p></li><li id="r-165074" data-claire-element-id="165073"><p id="r-165072" data-claire-element-id="165072">longueur entre 10 et 100.</p></li></ul><h5 id="r-dessin-de-la-grue" data-claire-element-id="165114">Dessin de la grue</h5><p id="r-165082" data-claire-element-id="165083">Nous restons encore en 2D mais pour faciliter les choses il serait bien de pouvoir avoir des coordonnées de l'ordre des pixels. Pour ce faire nous allons modifier la matrice de projection pour faire de la projection 2D dont nous spécifierons cette fois les dimensions (alors qu'elles étaient par défaut entre -1 et 1 au préalable).</p><pre id="r-165084" data-claire-element-id="165084"><code data-claire-semantic="cpp">SDL_WM_SetCaption("Exercice : une grue", NULL);
SDL_SetVideoMode(LARGEUR_ECRAN, HAUTEUR_ECRAN, 32, SDL_OPENGL);

glMatrixMode( GL_PROJECTION );
glLoadIdentity( );
gluOrtho2D(0,LARGEUR_ECRAN,0,HAUTEUR_ECRAN);</code></pre><p id="r-165086" data-claire-element-id="165086">De cette manière nous aurons l'espace de coordonnées suivant :</p><figure id="r-165089" data-claire-element-id="165091"><img id="r-165087" data-claire-element-id="165087" src="./Tutoriel_sdz_kayl_OpenGL/10395.png" alt="Image utilisateur"></figure><p id="r-165093" data-claire-element-id="165093">Enfin dernier conseil avant de vous lâcher dans la nature, il peut être utile à tout moment de savoir où est le repère actuel et comment il est orienté. Pour ce faire voici une petite fonction que vous pouvez appeler n'importe quand dans votre dessin pour « déboguer » et mieux visualiser vos transformations.</p><pre id="r-165095" data-claire-element-id="165095"><code data-claire-semantic="cpp">/*
    Dessine le repère actuel pour faciliter
    la compréhension des transformations.
    Utiliser « echelle » pour avoir un repère bien orienté et positionné
    mais avec une échelle différente.
*/
void dessinerRepere(unsigned int echelle = 1)
{
    glPushMatrix();
    glScalef(echelle,echelle,echelle);
    glBegin(GL_LINES);
    glColor3ub(0,0,255);
    glVertex2i(0,0);
    glVertex2i(1,0);
    glColor3ub(0,255,0);
    glVertex2i(0,0);
    glVertex2i(0,1);
    glEnd();
    glPopMatrix();
}</code></pre><p id="r-165097" data-claire-element-id="165097">Par exemple, après avoir dessiné ma base si j'appelle</p><pre id="r-165099" data-claire-element-id="165099"><code data-claire-semantic="cpp">dessinerRepere(50);</code></pre><p id="r-165100" data-claire-element-id="165100">j'obtiens :</p><figure id="r-165104" data-claire-element-id="165105"><img id="r-165102" data-claire-element-id="165102" src="./Tutoriel_sdz_kayl_OpenGL/10396.png" alt="Image utilisateur"></figure><p id="r-165107" data-claire-element-id="165107">Je vois donc ici que je suis prêt à faire la première rotation et dessiner le grand bras.</p><aside id="r-165110" data-claire-element-id="165110" data-claire-semantic="warning"><p id="r-165109" data-claire-element-id="165109">En ce qui concerne le fil, il doit toujours être à la verticale. Il faut donc que vous trouviez, une fois au bout du petit bras, un moyen d'annuler les rotations pour remettre le repère « à l'endroit ».</p></aside><p id="r-165112" data-claire-element-id="165112">Bon courage !</p><h5 id="r-correction-68" data-claire-element-id="165127">Correction</h5><p id="r-165120" data-claire-element-id="165120">Je vous donne ma version de la grue. Ce n'est qu'un guide rien ne vous oblige à faire « exactement » pareil.</p><pre id="r-165121" data-claire-element-id="165121"><code data-claire-semantic="cpp">#include &lt;SDL/SDL.h&gt;
#include &lt;GL/gl.h&gt;
#include &lt;GL/glu.h&gt;
#include &lt;cstdlib&gt;

#define LARGEUR_BASE 50
#define HAUTEUR_BASE 20

#define LARGEUR_BRAS_1 150
#define HAUTEUR_BRAS_1 15

#define LARGEUR_BRAS_2 50
#define HAUTEUR_BRAS_2 10

#define TAILLE_CAISSE 10

#define LARGEUR_ECRAN (LARGEUR_BASE + LARGEUR_BRAS_1 + HAUTEUR_BRAS_2 + 50)
#define HAUTEUR_ECRAN (HAUTEUR_BASE + LARGEUR_BRAS_1 + HAUTEUR_BRAS_2 + 50)

int angle1 = 45;
int angle2 = -20;
int longueur = 50;

void Dessiner();

int main(int argc, char *argv[])
{
    SDL_Event event;

    SDL_Init(SDL_INIT_VIDEO);
    atexit(SDL_Quit);

    SDL_WM_SetCaption("Exercice : une grue", NULL);
    SDL_SetVideoMode(LARGEUR_ECRAN, HAUTEUR_ECRAN, 32, SDL_OPENGL);

    glMatrixMode( GL_PROJECTION );
    glLoadIdentity( );
    gluOrtho2D(0,LARGEUR_ECRAN,0,HAUTEUR_ECRAN);

    SDL_EnableKeyRepeat(10,10);

    Dessiner();

    while(SDL_WaitEvent(&amp;event))
    {
        switch(event.type)
        {
            case SDL_QUIT:
            exit(0);
            break;
            case SDL_KEYDOWN:
            switch (event.key.keysym.sym)
            {
                case SDLK_UP:
                longueur --;
                if (longueur &lt; 10)
                    longueur = 10;
                break;
                case SDLK_DOWN:
                longueur ++;
                if (longueur &gt; 100)
                    longueur = 100;
                break;
                case SDLK_LEFT:
                if ((event.key.keysym.mod &amp; KMOD_LSHIFT) == KMOD_LSHIFT)
                {
                    angle1++;
                    if (angle1 &gt; 90)
                        angle1 = 90;
                }
                else
                {
                    angle2++;
                    if (angle2 &gt; 90)
                        angle2 = 90;
                }
                break;
                case SDLK_RIGHT:
                if ((event.key.keysym.mod &amp; KMOD_LSHIFT) == KMOD_LSHIFT)
                {
                    angle1--;
                    if (angle1 &lt; 10)
                        angle1 = 10;
                }
                else
                {
                    angle2--;
                    if (angle2 &lt; -90)
                        angle2 = -90;
                }
                break;
            }
            break;
        }
        Dessiner();
    }



    return 0;
}

/*
    Dessine un rectangle avec comme point de référence
    le milieu du côté gauche
*/
void dessineRectangle(double largeur,double hauteur)
{
    glBegin(GL_QUADS);
    glVertex2d(0,-hauteur/2);
    glVertex2d(0,hauteur/2);
    glVertex2d(largeur,hauteur/2);
    glVertex2d(largeur,-hauteur/2);
    glEnd();
}

/*
    Dessine le repère actuel pour faciliter
    la compréhension des transformations.
    Utiliser "echelle" pour avoir un repère bien orienté et positionné
    mais avec une échelle différente.
*/
void dessinerRepere(unsigned int echelle = 1)
{
    glPushMatrix();
    glScalef(echelle,echelle,echelle);
    glBegin(GL_LINES);
    glColor3ub(0,0,255);
    glVertex2i(0,0);
    glVertex2i(1,0);
    glColor3ub(0,255,0);
    glVertex2i(0,0);
    glVertex2i(0,1);
    glEnd();
    glPopMatrix();
}

void Dessiner()
{
    glClear( GL_COLOR_BUFFER_BIT );

    glMatrixMode( GL_MODELVIEW );
    glLoadIdentity( );

    /* Je déplace mon répère initial (actuellement
    en bas à gauche de l'écran) */
    glTranslated(LARGEUR_BASE/2,HAUTEUR_BASE,0);

    // La base
    glColor3ub(254,128,1);
    dessineRectangle(LARGEUR_BASE,HAUTEUR_BASE);

    //Je me place en haut au milieu de la base
    glTranslated(LARGEUR_BASE/2,HAUTEUR_BASE/2,0);

    // Le grand bras
    glRotated(angle1,0,0,1);
    glColor3ub(248,230,7);
    dessineRectangle(LARGEUR_BRAS_1,HAUTEUR_BRAS_1);

    // Je me place au bout du grand bras
    glTranslated(LARGEUR_BRAS_1,0,0);

    // Puis m'occupe du petit bras
    glRotated(angle2,0,0,1);
    glColor3ub(186,234,21);
    dessineRectangle(LARGEUR_BRAS_2,HAUTEUR_BRAS_2);

    // Je me place au bout du petit bras
    glTranslated(LARGEUR_BRAS_2,0,0);
    /* J'annule les rotations pour avoir mon repère aligné
    avec le repère d'origine */
    glRotated(-angle1-angle2,0,0,1);

    // Je dessine le fil
    glColor3ub(255,255,255);
    glBegin(GL_LINES);
    glVertex2i(0,0);
    glVertex2i(0,-longueur);
    glEnd();

    /* Je descends en bas du fil (avec un petit décalage
    sur X pour anticiper le dessin de la caisse */
    glTranslated(-TAILLE_CAISSE/2,-longueur,0);

    // Et je dessine enfin la caisse
    glColor3ub(175,175,85);
    dessineRectangle(TAILLE_CAISSE,TAILLE_CAISSE);

    glFlush();
    SDL_GL_SwapBuffers();
}</code></pre><p id="r-165123" data-claire-element-id="165123"><a href="http://sdz.tdct.org/sdz/medias/www.siteduzero.com_uploads_fr_ftp_kayl_sdlgl_03_grue.zip">Téléchargez le projet Code::Blocks, l'exécutable Windows et le Makefile Unix (118 Ko)</a></p><p id="r-165125" data-claire-element-id="165125">Voilà, si vous avez fait l'exercice proposé vous êtes maintenant les rois des transformations OpenGL.<br> Nous allons enfin pouvoir nous attaquer à ce que nous attendons tant : <strong>la 3D</strong>.<br> Direction le prochain chapitre pour voir comment paramétrer et utiliser la caméra.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
<span class="arrow"></span>
<span class="next">Les transformations</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">
<span class="next">Enfin de la 3D (Partie 1/2)</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Enfindela3DPartie1_2"></a><h2>Enfin de la 3D (Partie 1/2)</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
<span class="arrow"></span>
<span class="next">Exercice : une grue</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
<span class="next">Du réel à l'écran</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div class="content">
<p id="r-165137" data-claire-element-id="165137">Enfin on y est ! On va pouvoir passer à la 3D !<br> Pour faire ce passage en douceur je scinde ce chapitre en deux parties.<br> Nous commencerons donc par <em>comprendre comment il est possible de faire de la 3D</em> sur un écran 2D, ce qu'il nous faut préparer pour « dessiner » en 3D, et dans la seconde partie <em>nous dessinerons un cube</em> et verrons les problèmes que cela pose.</p>
</div><a name="Durell039cran"></a><h2>Du réel à l'écran</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">
<span class="arrow"></span>
<span class="next">Enfin de la 3D (Partie 1/2)</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
<span class="next">La perspective</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-du-reel-a-l-ecran" data-claire-element-id="165180">Du réel à l'écran</h4><p id="r-165139" data-claire-element-id="165139">Quand vous décrivez votre scène 3D en OpenGL (à coup de glVertex), vous décrivez le monde tel qu'il est dans l'absolu, dans son propre repère.<br> Pour passer du monde réel à l'écran, il faut donner quelques indications à OpenGL :</p><ul id="r-165152" data-claire-element-id="165152"><li id="r-165143" data-claire-element-id="165143"><p id="r-165141" data-claire-element-id="165141">définir quelle zone de la fenêtre servira pour le rendu* ;</p></li><li id="r-165146" data-claire-element-id="165146"><p id="r-165145" data-claire-element-id="165145">définir le mode de projection (perspective par exemple) ;</p></li><li id="r-165150" data-claire-element-id="165150"><p id="r-165149" data-claire-element-id="165149">placer la caméra dans le monde réel.</p></li></ul><p id="r-165154" data-claire-element-id="165154">* Cette phase est automatiquement réalisée à la création de la fenêtre. Nous verrons dans la partie II comment la changer pour faire du split-screen (plusieurs écrans de rendu sur la même fenêtre).</p><p id="r-165155" data-claire-element-id="165155">Grâce à ces informations, OpenGL pourra déterminer les transformations à faire subir aux objets du monde réel à 3 dimensions pour les dessiner sur l'écran à 2 dimensions.</p><figure id="r-165158" data-claire-element-id="165159"><img id="r-165156" data-claire-element-id="165156" src="./Tutoriel_sdz_kayl_OpenGL/10414.png" alt="Image utilisateur"></figure><p id="r-165162" data-claire-element-id="165162">Dans le monde réel on travaille au niveau des vertices, et sur l'écran au niveau des pixels. Sur le dessin du haut vous avez peut-être remarqué que je n'ai pas fait apparaître de Z écran. C'était juste pour ne pas vous embrouiller car l'écran est bien à 2 dimensions. Mais le Z écran sert tout de même à donner une information de profondeur des pixels.</p><figure id="r-165165" data-claire-element-id="165166"><img id="r-165163" data-claire-element-id="165163" src="./Tutoriel_sdz_kayl_OpenGL/10415.png" alt="Image utilisateur"></figure><aside id="r-165170" data-claire-element-id="165170" data-claire-semantic="information"><p id="r-165168" data-claire-element-id="165168">Le repère X,Y,Z de l'écran n'est pas direct : si on applique la règle de la main droite. L'axe Z devrait aller de l'écran vers nous. Cependant la convention a été prise en synthèse d'image que l'axe Z s'enfonce dans l'écran.</p></aside><div id="r-165173" data-claire-element-id="165173" data-claire-semantic="question"><p id="r-165172" data-claire-element-id="165172">Quelle est l'unité de distance en OpenGL ?</p></div><p id="r-165175" data-claire-element-id="165175">Réponse : <strong>celle que vous voulez</strong> ! En effet quand nous y pensons qu'est-ce qui fait que quelque chose est grand ou petit en réalité ? Sans référentiel il nous est difficile de déterminer visuellement la taille d'un objet. Nous savons qu'il est petit car il y a un autre objet à côté dont nous connaissons la taille. Nous savons comparer.<br> Comment savoir que quelque chose est loin ? Parce que quand nous bougeons, sa taille ne varie pas beaucoup et parce que nous mettons du temps à nous en approcher.</p><p id="r-165177" data-claire-element-id="165177">Ainsi en OpenGL se dire que « 1 » est 1 mètre comme 1 millimètre ou comme 1 kilomètre <strong>revient au même</strong> du moment que les proportions sont gardées et que les vitesses des mouvements sont adaptées. En effet si on fait face à un cube de « 1 » de largeur et qu'appuyer une fois sur la touche « avancer » nous fait bouger de 10000 on se dira : soit je vais très vite, soit l'objet était (car on vient de le perdre) très très petit en fait.</p><p id="r-165178" data-claire-element-id="165178">Cependant il est parfois utile de se rapporter à des unités connues. Si 1 unité OpenGL est 1 mètre, alors il sera facile d'utiliser un moteur physique qui utilise des vraies unités.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">
<span class="arrow"></span>
<span class="next">Enfin de la 3D (Partie 1/2)</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
<span class="next">La perspective</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Laperspective"></a><h2>La perspective</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
<span class="arrow"></span>
<span class="next">Du réel à l'écran</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
<span class="next">Placer la caméra</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-la-perspective" data-claire-element-id="165254">La perspective</h4><p id="r-165182" data-claire-element-id="165182">Le passage le plus important dans la 3D est la <strong>projection</strong>. Pour passer d'un monde décrit en 3D à une fenêtre avec des pixels 2D il nous faut perdre une dimension et donc projeter.</p><p id="r-165183" data-claire-element-id="165183">La méthode de projection que nous utiliserons en 3D est la perspective. La perspective est définie par la pyramide ci-dessous :</p><figure id="r-165187" data-claire-element-id="165188"><img id="r-165185" data-claire-element-id="165185" src="./Tutoriel_sdz_kayl_OpenGL/10416.png" alt="Image utilisateur"></figure><p id="r-165190" data-claire-element-id="165190"><em>pyramide de clipping</em></p><p id="r-165191" data-claire-element-id="165191">Cette pyramide s'appelle la <strong>pyramide de clipping</strong>. C'est-à-dire que tout objet ne se trouvant pas à l'intérieur de la zone bleue ne sera pas dessiné. De plus sa forme permet de définir comment projeter les objets sur l'écran en faisant un parallèle avec la pyramide réelle qui a pour sommet l'<strong>oeil</strong> de l'utilisateur et coupe son <strong>écran</strong> :</p><figure id="r-165196" data-claire-element-id="165197"><img id="r-165194" data-claire-element-id="165194" src="./Tutoriel_sdz_kayl_OpenGL/10417.png" alt="Image utilisateur"></figure><p id="r-165200" data-claire-element-id="165200"><em>pyramide réelle (ici vue du dessus)</em></p><p id="r-165202" data-claire-element-id="165202">Le <strong>ratio</strong> (vu dans le schéma plus haut) est un rapport entre la largeur et la hauteur. Pour une télévision ce ratio vaut 4/3, des fois 16/9. Pour les tailles informatiques standards (1024x768, 800x600, 640x480) il est aussi de 4/3. Mais votre fenêtre n'est pas obligée d'utiliser tout l'écran et peut donc avoir ses propres proportions et il existe aussi de plus en plus d'écrans avec des ratios spéciaux. Il est donc important de ne pas le prendre comme acquis dans vos applications et toujours le définir en fonction de la taille de la fenêtre que vous créez (je ferai une annexe SDL sur comment détecter les modes disponibles pour le plein écran).</p><p id="r-165204" data-claire-element-id="165204">Les paramètres <strong>near</strong> et <strong>far</strong> déterminent les distances minimales et maximales des objets. En dehors de cet intervalle les objets ne seront pas affichés. Cela posera parfois problème si la valeur de far est trop petite, l'utilisateur risque de voir disparaître des objets quand il s'éloigne, ou pire voir la scène apparaître subitement. Nous verrons dans la partie II comment utiliser le <em><strong>brouillard</strong></em> pour parer à ce problème. Pour l'instant une valeur grande (vis-à-vis de la taille de votre scène) suffira amplement.</p><p id="r-165206" data-claire-element-id="165206">Le seul paramètre qui peut vous échapper ici est l'<strong>angle</strong>. Il s'agit de l'angle de vision entre les plans haut et bas de la pyramide (souvent dénoté <strong>fovy</strong> pour <em>field of view</em> sur l'axe y). Généralement on utilise une valeur aux alentours de <strong>70</strong>°. Lors de la sortie d' Half-Life 2 il y a eu toute une polémique sur l'angle de vue mal choisi (90°) qui rendait certaines personnes mal à l'aise.<br> Pour voir l'influence de cet angle, je vous ai fait 3 rendus d'une même scène avec des angles différents :</p><figure id="r-165211" data-claire-element-id="165213"><img id="r-165210" data-claire-element-id="165210" src="./Tutoriel_sdz_kayl_OpenGL/10418.jpg" alt="Image utilisateur"></figure><figure id="r-165218" data-claire-element-id="165219"><img id="r-165216" data-claire-element-id="165216" src="./Tutoriel_sdz_kayl_OpenGL/10420.jpg" alt="Image utilisateur"></figure><figure id="r-165224" data-claire-element-id="165226"><img id="r-165222" data-claire-element-id="165222" src="./Tutoriel_sdz_kayl_OpenGL/10421.jpg" alt="Image utilisateur"></figure><aside id="r-165231" data-claire-element-id="165231" data-claire-semantic="information"><p id="r-165229" data-claire-element-id="165229">On constate que si l'on donne un <em>angle petit</em>, ça donne un effet de <em>zoom</em>. Et je ne vous cacherai pas que c'est <strong>exactement</strong> ce qui est utilisé dans les jeux pour faire un zoom (jumelles ou sniper).</p></aside><h5 id="r-application-en-opengl" data-claire-element-id="165251">Application en OpenGL</h5><p id="r-165233" data-claire-element-id="165233">Pour définir la perspective comme mode de projection il suffit d'appeler la fonction</p><p id="r-165235" data-claire-element-id="165235">gluPerspective( fovy, ratio, near, far );</p><p id="r-165236" data-claire-element-id="165236">Par exemple pour une fenêtre de 640x480 :</p><pre id="r-165238" data-claire-element-id="165238"><code data-claire-semantic="cpp">gluPerspective(70,(double)640/480,1,1000);</code></pre><aside id="r-165243" data-claire-element-id="165243" data-claire-semantic="warning"><p id="r-165240" data-claire-element-id="165241">Cet appel modifie la matrice courante, même s'il ne s'agit pas de la matrice de projection. Il faut donc bien veiller à sélectionner la matrice GL_PROJECTION, l'initialiser et ensuite appeler gluPerspective.</p></aside><p id="r-165245" data-claire-element-id="165245">Voici donc notre nouveau code d'initialisation de notre application OpenGL :</p><pre id="r-165247" data-claire-element-id="165247"><code data-claire-semantic="cpp">SDL_Init(SDL_INIT_VIDEO);
SDL_WM_SetCaption("SDL GL Application", NULL);
SDL_SetVideoMode(640, 480, 32, SDL_OPENGL);
glMatrixMode( GL_PROJECTION );
glLoadIdentity( );
gluPerspective(70,(double)640/480,1,1000);</code></pre><aside id="r-165250" data-claire-element-id="165250" data-claire-semantic="information"><p id="r-165248" data-claire-element-id="165248">Comme la définition de la perspective ne concerne que la matrice GL_PROJECTION nous pouvons nous contenter de l'initialiser une seule fois et non pas à chaque image. Bien sûr si le ratio de la fenêtre venait à changer dynamiquement il faudrait redéfinir la perspective au risque de voir tous les objets déformés.</p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
<span class="arrow"></span>
<span class="next">Du réel à l'écran</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
<span class="next">Placer la caméra</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Placerlacamra"></a><h2>Placer la caméra</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
<span class="arrow"></span>
<span class="next">La perspective</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">
<span class="next">Enfin de la 3D (Partie 2/2)</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-placer-la-camera" data-claire-element-id="165315">Placer la caméra</h4><p id="r-165257" data-claire-element-id="165257">Maintenant que nous savons comment projeter, il serait bien de pouvoir placer le point de vue n'importe où dans la scène. Pour cela nous utilisons une sorte de <strong>caméra</strong> virtuelle avec l'appel de :</p><p id="r-165258" data-claire-element-id="165258">gluLookAt( camX, camY, camZ, cibleX, cibleY, cibleZ, vertX, vertY, vertZ );</p><p id="r-165259" data-claire-element-id="165259"><strong>camX</strong>, <strong>camY</strong> et <strong>camZ</strong> définissent la position de la caméra ;<br><strong>cibleX</strong>, <strong>cibleY</strong> et <strong>cibleZ</strong> définissent la position du point que fixe la caméra (le point correspondant se trouvera au centre de la fenêtre d'affichage) ;<br><strong>vertX</strong>, <strong>vertY</strong> et <strong>vertZ</strong> définissent le vecteur vertical.</p><p id="r-165261" data-claire-element-id="165261">Voici 3 images prises avec des paramètres différents de la caméra pour que vous compreniez l'utilité de chaque paramètre :</p><figure id="r-165263" data-claire-element-id="165264"><img id="r-165262" data-claire-element-id="165262" src="./Tutoriel_sdz_kayl_OpenGL/10424.png" alt="Image utilisateur"></figure><p id="r-165267" data-claire-element-id="165267">gluLookAt(1.5, 1.5, 5, 0, 0, 0, 0, 1, 0);<br> La caméra est en (1.5,1.5,5) et regarde en (0,0,0).</p><figure id="r-165270" data-claire-element-id="165272"><img id="r-165269" data-claire-element-id="165269" src="./Tutoriel_sdz_kayl_OpenGL/10427.png" alt="Image utilisateur"></figure><p id="r-165274" data-claire-element-id="165274">gluLookAt(1.5, 1.5, 5, 1.5, 1.5, 0, 0, 1, 0);<br> La caméra est en (1.5,1.5,5) et regarde en (1.5,1.5,0) c'est-à-dire droit devant elle (contrairement à l'image précédente).</p><figure id="r-165277" data-claire-element-id="165279"><img id="r-165276" data-claire-element-id="165276" src="./Tutoriel_sdz_kayl_OpenGL/10428.png" alt="Image utilisateur"></figure><p id="r-165282" data-claire-element-id="165282">gluLookAt(1.5, 1.5, 5, 0, 0, 0, 1, 1, 0);<br> Même position et regard que précédemment mais son vecteur vertical est (1,1,0), or la scène a été pensée avec une verticale de (0,1,0), l'image est donc « penchée » sur le côté.</p><h5 id="r-l-importance-de-la-verticale" data-claire-element-id="165300">L'importance de la verticale</h5><p id="r-165283" data-claire-element-id="165283">Vous l'avez vu, l'appel à gluLookAt vous permet de définir la verticale que vous voulez pour votre scène. Le tout est d'être cohérent et de concevoir votre scène en conséquence.<br> Il est néanmoins <strong>beaucoup plus pratique</strong> de choisir comme verticale un vecteur du repère de base X (1,0,0), Y (0,1,0) ou Z (0,0,1).</p><div id="r-165287" data-claire-element-id="165287" data-claire-semantic="question"><p id="r-165285" data-claire-element-id="165285">Entre <strong>Y</strong> et <strong>Z</strong> lequel est le meilleur choix ?</p></div><p id="r-165289" data-claire-element-id="165289">Bonne question. L'un ou l'autre sont des choix valables : on peut imaginer le passage à la 3e dimension comme l'ajout de la <strong>profondeur</strong> tout comme l'ajout de la <strong>hauteur</strong>. Dans le monde de la synthèse d'image il n'est pas rare de voir l'un ou l'autre.</p><p id="r-165292" data-claire-element-id="165291"><strong>À l'avenir</strong>, j'essayerai de respecter le choix <strong>verticale = Z</strong> car il a été fait dans de nombreux jeux et OpenGL semble l'avoir favorisé (nous le verrons lors du chapitre sur les <strong>quadriques</strong>...).</p><figure id="r-165295" data-claire-element-id="165297"><img id="r-165294" data-claire-element-id="165294" src="./Tutoriel_sdz_kayl_OpenGL/10429.jpg" alt="Image utilisateur"></figure><p id="r-165299" data-claire-element-id="165299">Éditeur de FarCry, Z est la verticale</p><h5 id="r-quand-l-appeler-1" data-claire-element-id="165312">Quand l'appeler ?</h5><p id="r-165304" data-claire-element-id="165304">Placer la caméra revient à déplacer tout le monde pour qu'il soit centré sur la caméra et orienté selon l'axe du regard. Cela influe donc logiquement sur la matrice GL_MODELVIEW et vous ne serez pas étonnés donc que l'appel de la caméra soit <strong>juste après</strong> la réinitialisation de GL_MODELVIEW.</p><pre id="r-165306" data-claire-element-id="165306"><code data-claire-semantic="cpp">void Dessiner()
{
    glClear( GL_COLOR_BUFFER_BIT );

    glMatrixMode( GL_MODELVIEW );
    glLoadIdentity( );

    gluLookAt(3,3,3,0,0,0,0,0,1); //exemple

    /* Dessin 3D ici */

    glFlush();
    SDL_GL_SwapBuffers();
}</code></pre><p id="r-165307" data-claire-element-id="165307">Voilà vous savez maintenant comment il est possible de passer d'un monde 3D à un écran 2D et savez placer la caméra.<br> Pour récapituler, notre nouveau squelette de programme pour dessiner de la 3D :</p><pre id="r-165309" data-claire-element-id="165309"><code data-claire-semantic="cpp">#include &lt;SDL/SDL.h&gt;
#include &lt;GL/gl.h&gt;
#include &lt;GL/glu.h&gt;
#include &lt;cstdlib&gt;

void Dessiner();

int main(int argc, char *argv[])
{
    SDL_Event event;

    SDL_Init(SDL_INIT_VIDEO);
    atexit(SDL_Quit);
    SDL_WM_SetCaption("SDL GL Application", NULL);
    SDL_SetVideoMode(640, 480, 32, SDL_OPENGL);

    glMatrixMode( GL_PROJECTION );
    glLoadIdentity();
    gluPerspective(70,(double)640/480,1,1000);

    Dessiner();

    for (;;)
    {
        SDL_WaitEvent(&amp;event);

        switch(event.type)
        {
            case SDL_QUIT:
            exit(0);
            break;
        }
        Dessiner();

    }

    return 0;
}

void Dessiner()
{
    glClear( GL_COLOR_BUFFER_BIT );

    glMatrixMode( GL_MODELVIEW );
    glLoadIdentity( );

    gluLookAt(3,3,3,0,0,0,0,0,1);

    /* Dessin 3D */

    glFlush();
    SDL_GL_SwapBuffers();
}</code></pre><p id="r-165311" data-claire-element-id="165310">Maintenant il ne reste plus qu'à remplir la partie dessin. Et pour ça direction le chapitre suivant avec notre premier dessin 3D : <strong>un cube</strong> !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
<span class="arrow"></span>
<span class="next">La perspective</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">
<span class="next">Enfin de la 3D (Partie 2/2)</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Enfindela3DPartie2_2"></a><h2>Enfin de la 3D (Partie 2/2)</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
<span class="arrow"></span>
<span class="next">Placer la caméra</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
<span class="next">Un cube</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div class="content">
<p id="r-165321" data-claire-element-id="165321">Dans le dernier chapitre nous nous sommes préparés à passer à la 3D, il est donc temps de s'y mettre et d'entamer notre premier dessin : un cube ! En dessinant notre cube et en l'animant, nous rencontrerons des problèmes, prévus d'avance rassurez-vous ^^ , et nous verrons comment les résoudre.</p>
</div><a name="Uncube"></a><h2>Un cube</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">
<span class="arrow"></span>
<span class="next">Enfin de la 3D (Partie 2/2)</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
<span class="next">Le Z-Buffer</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-un-cube" data-claire-element-id="165385">Un cube</h4><p id="r-165322" data-claire-element-id="165322">L'exemple du cube est assez simple et nous continuerons avec lors de la création de notre première scène texturée.</p><p id="r-165323" data-claire-element-id="165323">Voyons tout d'abord comment est constitué un cube :</p><figure id="r-165326" data-claire-element-id="165327"><img id="r-165324" data-claire-element-id="165324" src="./Tutoriel_sdz_kayl_OpenGL/10431.png" alt="Image utilisateur"></figure><p id="r-165328" data-claire-element-id="165328"><em>Coordonnées des sommets du cube</em></p><p id="r-165330" data-claire-element-id="165330">Un cube est composé de 8 sommets et 6 faces, chaque face faisant intervenir 4 sommets.<br> Nous n'allons pas nous contenter de dessiner chacun des 8 sommets, nous n'aurions pas de faces pleines. Il nous faut donc décrire les faces une par une, en indiquant les sommets qu'elles font intervenir.</p><h5 id="r-decrire-des-sommets-en-3d" data-claire-element-id="165340">Décrire des sommets en 3D</h5><p id="r-165332" data-claire-element-id="165332">Ici nous devons définir 3 coordonnées pour chaque sommet : X, Y et Z. Nous ne pouvons donc plus utiliser le basique glVertex2d que nous utilisions auparavant. Il va falloir donc utiliser la version avec 3 arguments soit glVertex3d.</p><p id="r-165333" data-claire-element-id="165333">Exemple :</p><pre id="r-165335" data-claire-element-id="165335"><code data-claire-semantic="cpp">glVertex3d(1,1,1);</code></pre><aside id="r-165338" data-claire-element-id="165338" data-claire-semantic="warning"><p id="r-165337" data-claire-element-id="165337">Le 3d de glVertex3d ne veut pas dire « <em>ouais je fais de la 3D !</em> ». Rappelez-vous le chapitre <a href="http://www.siteduzero.com/tuto-3-6094-1-notions-de-base.html#ss_part_1">Notions de base</a>, 3 spécifie le nombre d'arguments et d le fait que les arguments donnés soient des double (réels).</p></aside><h5 id="r-decrire-le-cube" data-claire-element-id="165377">Décrire le cube</h5><p id="r-165343" data-claire-element-id="165343">Les faces étant des carrés, nous allons utiliser le mode GL_QUADS pour décrire les vertices.<br> Pour différencier les faces nous leur attribuerons une couleur différente ; nous ferons la première (celle avec les flèches) en rouge. En ce qui concerne la caméra, j'ai choisi de la placer en (3,4,2) pour regarder le cube centré en (0,0,0), car cela donnera un bon angle de vue (c'est la position utilisée pour le schéma plus haut).</p><p id="r-165344" data-claire-element-id="165344">Ce qui donne donc :</p><pre id="r-165346" data-claire-element-id="165346"><code data-claire-semantic="cpp">void Dessiner()
{
    glClear( GL_COLOR_BUFFER_BIT );

    glMatrixMode( GL_MODELVIEW );
    glLoadIdentity( );

    gluLookAt(3,4,2,0,0,0,0,0,1);

    glBegin(GL_QUADS);

    glColor3ub(255,0,0); //face rouge
    glVertex3d(1,1,1);
    glVertex3d(1,1,-1);
    glVertex3d(-1,1,-1);
    glVertex3d(-1,1,1);
    glEnd();

    glFlush();
    SDL_GL_SwapBuffers();
}</code></pre><p id="r-165347" data-claire-element-id="165347">Facile ! Il suffit de choisir un point de départ et de suivre le contour de la face pour décrire les sommets un par un.</p><aside id="r-165349" data-claire-element-id="165349" data-claire-semantic="information"><p id="r-165348" data-claire-element-id="165348">Je vous conseille, pour les décrire, de vous imaginer faisant face à la face (hum... Image utilisateur ) et de les énumérer un à un dans le sens inverse des aiguilles d'une montre. En effet nous verrons plus tard que cela nous sera utile quand nous voudrons éviter de dessiner les faces cachées. Encore une fois quelque soit le sens que vous décidez d'utiliser, le tout est d'être <strong>cohérents</strong> et de garder le même sens.</p></aside><p id="r-165350" data-claire-element-id="165350">Continuons donc avec la 2e face, disons celle à gauche de la première (quand on regarde le schéma) et faisons-la en vert.</p><pre id="r-165351" data-claire-element-id="165351"><code data-claire-semantic="cpp">glColor3ub(0,255,0); //face verte
    glVertex3d(1,-1,1);
    glVertex3d(1,-1,-1);
    glVertex3d(1,1,-1);
    glVertex3d(1,1,1);</code></pre><p id="r-165352" data-claire-element-id="165352">Ce qui me donne le résultat suivant :</p><figure id="r-165355" data-claire-element-id="165357"><img id="r-165353" data-claire-element-id="165353" src="./Tutoriel_sdz_kayl_OpenGL/10432.png" alt="Image utilisateur"></figure><p id="r-165360" data-claire-element-id="165360">Bon maintenant parce que je veux vous montrer un problème important, attaquons-nous à la face de derrière que nous ferons... devinez... en bleu ! ;)</p><p id="r-165361" data-claire-element-id="165361">Rien de compliqué, il suffit de suivre le schéma de tout à l'heure pour avoir rapidement les coordonnées et écrire le code approprié.</p><pre id="r-165363" data-claire-element-id="165363"><code data-claire-semantic="cpp">glColor3ub(0,0,255); //face bleue
    glVertex3d(-1,-1,1);
    glVertex3d(-1,-1,-1);
    glVertex3d(1,-1,-1);
    glVertex3d(1,-1,1);</code></pre><p id="r-165365" data-claire-element-id="165364">Et voilà le résultat :</p><figure id="r-165368" data-claire-element-id="165369"><img id="r-165366" data-claire-element-id="165366" src="./Tutoriel_sdz_kayl_OpenGL/10433.png" alt="Image utilisateur"></figure><p id="r-165372" data-claire-element-id="165372">o_O o_O o_O</p><p id="r-165373" data-claire-element-id="165373">En effet vous ne rêvez pas, la face bleue qui était censée être derrière, donc en majeure partie cachée par la rouge et la verte vient se dessiner par-dessus ces dernières.<br> Et c'est tout à fait logique, OpenGL dessine les carrés <em>dans l'ordre dans lequel on les définit</em>. Il ne se soucie pour l'instant pas de savoir s'il y a déjà quelque chose là où il dessine et vient donc écraser les faces précédentes.</p><p id="r-165375" data-claire-element-id="165375">La solution ? <strong>Le Z-Buffer</strong> !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">
<span class="arrow"></span>
<span class="next">Enfin de la 3D (Partie 2/2)</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
<span class="next">Le Z-Buffer</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="LeZ-Buffer"></a><h2>Le Z-Buffer</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
<span class="arrow"></span>
<span class="next">Un cube</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
<span class="next">Animation</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-le-z-buffer" data-claire-element-id="165466">Le Z-Buffer</h4><p id="r-165389" data-claire-element-id="165389">Le Z-Buffer ou <strong>Depth-Buffer</strong> (pour tampon de profondeur) sert à éviter le problème que nous venons de rencontrer.</p><h5 id="r-principe-du-z-buffer" data-claire-element-id="165410">Principe du Z-Buffer</h5><p id="r-165391" data-claire-element-id="165391">Le Z-Buffer est un tampon (buffer) qui stocke la profondeur (d'où le Z, X et Y sur l'écran étant la position en pixel) de chaque pixel affiché à l'écran.<br> Ensuite quand OpenGL demande à dessiner un pixel à un endroit, il compare la profondeur du point à afficher et celle présente dans le buffer. Si le nouveau pixel est situé devant l'ancien, alors il est dessiné et la valeur de la profondeur dans le buffer est mise à jour. Sinon, le pixel était alors <strong>situé derrière</strong> et n'a donc <strong>pas</strong> lieu d'être <strong>affiché</strong>.</p><p id="r-165393" data-claire-element-id="165393">Pour bien comprendre, suivons le cheminement qui est fait.</p><ul id="r-165408" data-claire-element-id="165408"><li id="r-165397" data-claire-element-id="165398"><img id="r-165398" data-claire-element-id="165397" src="./Tutoriel_sdz_kayl_OpenGL/10436.png" alt="Image utilisateur"><p id="r-165395" data-claire-element-id="165395">Au départ le buffer (ici de taille 3x3 pour l'exemple) est initialisé à des distances infinies (le plus loin possible vers le fond de votre écran).</p></li><li id="r-165402" data-claire-element-id="165403"><img id="r-165403" data-claire-element-id="165402" src="./Tutoriel_sdz_kayl_OpenGL/10437.png" alt="Image utilisateur"><p id="r-165400" data-claire-element-id="165400">OpenGL demande à dessiner un pixel en (2,2,5).<br> Valeur demandée : 5.<br> Valeur présente : infini.<br> 5 &lt; infini =&gt; OK pour dessin<br> Dessin du pixel + Mise à jour du Z-buffer avec la valeur 5.</p></li><li id="r-165406" data-claire-element-id="165406"><p id="r-165405" data-claire-element-id="165405">Demande de dessin d'un pixel en (2,2,10).<br> Valeur demandée : 10.<br> Valeur présente : 5.<br> 10 &gt; 5 =&gt; Dessin refusé</p></li></ul><h5 id="r-application-dans-opengl" data-claire-element-id="165443">Application dans OpenGL</h5><p id="r-165413" data-claire-element-id="165413">Heureusement pour nous <em>OpenGL gère très bien cette technique</em>, il nous faut juste modifier notre programme pour l'activer et bien l'utiliser !</p><p id="r-165416" data-claire-element-id="165416">Pour cela il nous faut :</p><ul id="r-165429" data-claire-element-id="165429"><li id="r-165420" data-claire-element-id="165420"><p id="r-165417" data-claire-element-id="165417">activer son utilisation : après la création de la fenêtre OpenGL il faut simplement appeler :</p><pre id="r-165419" data-claire-element-id="165419"><code data-claire-semantic="cpp">glEnable(GL_DEPTH_TEST);</code></pre></li><li id="r-165426" data-claire-element-id="165426"><p id="r-165422" data-claire-element-id="165422">le réinitialiser à chaque nouvelle image, en même temps que le buffer des pixels :</p><pre id="r-165424" data-claire-element-id="165424"><code data-claire-semantic="cpp">glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT) ;</code></pre></li></ul><p id="r-165431" data-claire-element-id="165431">Ce qui nous donne un code complet (avec le début de notre cube) :</p><pre id="r-165432" data-claire-element-id="165432"><code data-claire-semantic="cpp">#include &lt;SDL/SDL.h&gt;
#include &lt;GL/gl.h&gt;
#include &lt;GL/glu.h&gt;
#include &lt;cstdlib&gt;

void Dessiner();

int main(int argc, char *argv[])
{
    SDL_Event event;

    SDL_Init(SDL_INIT_VIDEO);
    atexit(SDL_Quit);
    SDL_WM_SetCaption("SDL GL Application", NULL);
    SDL_SetVideoMode(640, 480, 32, SDL_OPENGL);

    glMatrixMode( GL_PROJECTION );
    glLoadIdentity();
    gluPerspective(70,(double)640/480,1,1000);
    glEnable(GL_DEPTH_TEST);

    Dessiner();

    for (;;)
    {
        SDL_WaitEvent(&amp;event);

        switch(event.type)
        {
            case SDL_QUIT:
            exit(0);
            break;
        }
        Dessiner();

    }

    return 0;
}

void Dessiner()
{
    glClear( GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT );

    glMatrixMode( GL_MODELVIEW );
    glLoadIdentity( );

    gluLookAt(3,4,2,0,0,0,0,0,1);

    glBegin(GL_QUADS);

    glColor3ub(255,0,0); //face rouge
    glVertex3d(1,1,1);
    glVertex3d(1,1,-1);
    glVertex3d(-1,1,-1);
    glVertex3d(-1,1,1);

    glColor3ub(0,255,0); //face verte
    glVertex3d(1,-1,1);
    glVertex3d(1,-1,-1);
    glVertex3d(1,1,-1);
    glVertex3d(1,1,1);

    glColor3ub(0,0,255); //face bleue
    glVertex3d(-1,-1,1);
    glVertex3d(-1,-1,-1);
    glVertex3d(1,-1,-1);
    glVertex3d(1,-1,1);

    glEnd();

    glFlush();
    SDL_GL_SwapBuffers();
}</code></pre><p id="r-165433" data-claire-element-id="165433">Et en effet en exécutant notre nouveau code nous obtenons ceci :</p><figure id="r-165438" data-claire-element-id="165439"><img id="r-165435" data-claire-element-id="165435" src="./Tutoriel_sdz_kayl_OpenGL/10438.png" alt="Image utilisateur"></figure><p id="r-165441" data-claire-element-id="165441">Ouf ! Nous avons enfin ce que nous désirions. Bien pratique ce z-buffer !</p><h5 id="r-finir-le-cube" data-claire-element-id="165465">Finir le cube</h5><p id="r-165445" data-claire-element-id="165445">À ce stade il ne vous reste plus qu'à compléter le code avec les 3 faces restantes et leur choisir de belles couleurs.<br> N'oubliez pas que vous pouvez utiliser le schéma du début pour facilement trouver les coordonnées des sommets de la face en cours.</p><p id="r-165447" data-claire-element-id="165447">Voici mon code pour ceux qui ne veulent pas essayer eux-mêmes, ou simplement pour comparer :</p><pre id="r-165449" data-claire-element-id="165449"><code data-claire-semantic="cpp">glBegin(GL_QUADS);

    glColor3ub(255,0,0); //face rouge
    glVertex3d(1,1,1);
    glVertex3d(1,1,-1);
    glVertex3d(-1,1,-1);
    glVertex3d(-1,1,1);

    glColor3ub(0,255,0); //face verte
    glVertex3d(1,-1,1);
    glVertex3d(1,-1,-1);
    glVertex3d(1,1,-1);
    glVertex3d(1,1,1);

    glColor3ub(0,0,255); //face bleue
    glVertex3d(-1,-1,1);
    glVertex3d(-1,-1,-1);
    glVertex3d(1,-1,-1);
    glVertex3d(1,-1,1);

    glColor3ub(255,255,0); //face jaune
    glVertex3d(-1,1,1);
    glVertex3d(-1,1,-1);
    glVertex3d(-1,-1,-1);
    glVertex3d(-1,-1,1);

    glColor3ub(0,255,255); //face cyan
    glVertex3d(1,1,-1);
    glVertex3d(1,-1,-1);
    glVertex3d(-1,-1,-1);
    glVertex3d(-1,1,-1);

    glColor3ub(255,0,255); //face magenta
    glVertex3d(1,-1,1);
    glVertex3d(1,1,1);
    glVertex3d(-1,1,1);
    glVertex3d(-1,-1,1);

    glEnd();</code></pre><p id="r-165451" data-claire-element-id="165451">Et le résultat graphique correspondant :</p><figure id="r-165456" data-claire-element-id="165457"><img id="r-165453" data-claire-element-id="165453" src="./Tutoriel_sdz_kayl_OpenGL/10439.png" alt="Image utilisateur"></figure><figure id="r-165461" data-claire-element-id="165462"><img id="r-165459" data-claire-element-id="165459" src="./Tutoriel_sdz_kayl_OpenGL/10440.png" alt="Image utilisateur"></figure><p id="r-165463" data-claire-element-id="165463">Comme vous avez le code sous les yeux vous savez que vous n'avez pas triché et que le code fait bien un cube 3D. Mais personnellement je vois 3 quadrilatères de couleur, je peux faire pareil sous Paint en 30 secondes, la preuve :<br> Ok c'est moche et mal fait mais avec un peu de soin j'aurais pu avoir pareil ! :honte:</p><p id="r-165464" data-claire-element-id="165464">Il est donc temps de profiter de la puissance de la 3D temps réel et d'animer notre cube pour le voir sous toutes les coutures !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
<span class="arrow"></span>
<span class="next">Un cube</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
<span class="next">Animation</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Animation"></a><h2>Animation</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
<span class="arrow"></span>
<span class="next">Le Z-Buffer</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">
<span class="next">Les textures</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-animation-1" data-claire-element-id="165601">Animation</h4><p id="r-165467" data-claire-element-id="165467">Pour animer notre cube nous allons simplement le faire tourner en utilisant ce que vous connaissez déjà par coeur : <strong>la rotation</strong> !</p><p id="r-165469" data-claire-element-id="165469">Au niveau du dessin nous n'avons vraiment pas grand chose à changer, juste à faire tourner le repère avant de dessiner le cube. Nous allons le faire tourner à la fois sur Z (la verticale) et X donc nous avons besoin de 2 variables globales* pour chacun des angles à contrôler.</p><figure id="r-165473" data-claire-element-id="165474"><img id="r-165471" data-claire-element-id="165471" src="./Tutoriel_sdz_kayl_OpenGL/10441.png" alt="Image utilisateur"></figure><p id="r-165476" data-claire-element-id="165476">* En général en programmation on essaye d'éviter les variables globales mais ici nous faisons en quelque sorte du prototypage pour apprendre et tester les concepts OpenGL, ce n'est donc vraiment pas bien grave.</p><p id="r-165477" data-claire-element-id="165477">Le code, simplifié, du programme devient alors :</p><pre id="r-165479" data-claire-element-id="165479"><code data-claire-semantic="cpp">#include &lt;SDL/SDL.h&gt;
#include &lt;GL/gl.h&gt;
#include &lt;GL/glu.h&gt;
#include &lt;cstdlib&gt;

void Dessiner();

double angleZ = 0;
double angleX = 0;

int main(int argc, char *argv[])
{
   //le code du main
}

void Dessiner()
{
    glClear( GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT );

    glMatrixMode( GL_MODELVIEW );
    glLoadIdentity( );

    gluLookAt(3,4,2,0,0,0,0,0,1);

    glRotated(angleZ,0,0,1);
    glRotated(angleX,1,0,0);

    //dessin du cube

    glFlush();
    SDL_GL_SwapBuffers();
}</code></pre><p id="r-165481" data-claire-element-id="165481">En terme de code SDL nous voulons que ces angles soient modifiés automatiquement avec le temps. On ne peut donc plus se permettre d'<em>attendre</em> les événements avec SDL_WaitEvent et nous allons en conséquence utiliser SDL_PollEvent pour récupérer les événements s'il y en a puis animer notre cube.</p><p id="r-165482" data-claire-element-id="165482">Nous modifions donc le code de notre boucle d'affichage pour incrémenter nos angles à chaque image :</p><pre id="r-165484" data-claire-element-id="165484"><code data-claire-semantic="cpp">for (;;)
    {
        while (SDL_PollEvent(&amp;event))
        {

            switch(event.type)
            {
                case SDL_QUIT:
                exit(0);
                break;
            }
        }

        angleZ += 1;
        angleX += 1;

        Dessiner();

    }</code></pre><h5 id="r-gerer-la-vitesse-d-animation" data-claire-element-id="165540">Gérer la vitesse d'animation</h5><p id="r-165485" data-claire-element-id="165485">En testant le code actuel vous voyez que le cube tourne beaucoup trop vite, nous n'avons franchement rien le temps de voir.<br> Il faut donc introduire des vitesses de rotation. Ces vitesses ne doivent pas dépendre de l'ordinateur sur lequel le programme est lancé et donc doivent prendre en compte le temps réel.<br> Pour ce faire, à chaque image (chaque passage dans la boucle donne lieu à une image), il faut déterminer combien de temps il s'est passé depuis la dernière image et faire bouger le cube en conséquence.</p><p id="r-165486" data-claire-element-id="165486">Nous avons donc besoin de 3 variables :</p><ul id="r-165498" data-claire-element-id="165498"><li id="r-165489" data-claire-element-id="165489"><p id="r-165487" data-claire-element-id="165487">une pour garder en mémoire le temps qu'il était lors de la dernière image : last_time ;</p></li><li id="r-165492" data-claire-element-id="165492"><p id="r-165490" data-claire-element-id="165490">une pour avoir le temps de l'image actuelle : current_time ;</p></li><li id="r-165496" data-claire-element-id="165495"><p id="r-165494" data-claire-element-id="165494">une (par commodité) pour le temps écoulé : ellapsed_time.</p></li></ul><aside id="r-165501" data-claire-element-id="165501" data-claire-semantic="information"><p id="r-165499" data-claire-element-id="165499">Pour connaître le temps écoulé, en millisecondes, depuis le lancement de l'application nous utiliserons l'instruction SDL_GetTicks();</p></aside><p id="r-165503" data-claire-element-id="165503">Le principe est alors le suivant.</p><ol id="r-165523" data-claire-element-id="165523"><li id="r-165506" data-claire-element-id="165506"><p id="r-165504" data-claire-element-id="165504">On initialise <em>une première fois</em>, avant de rentrer dans notre boucle d'affichage last_time avec le temps actuel.</p></li><li id="r-165509" data-claire-element-id="165509"><p id="r-165508" data-claire-element-id="165508">À chaque image on récupère le temps actuel dans current_time.</p></li><li id="r-165512" data-claire-element-id="165512"><p id="r-165511" data-claire-element-id="165511">On utilise la différence entre le temps actuel et le temps qu'il était lors de l'ancien passage pour savoir combien de temps s'est écoulé. On stocke le résultat dans ellapsed_time.</p></li><li id="r-165516" data-claire-element-id="165516"><p id="r-165514" data-claire-element-id="165514">On réalise nos mouvements en fonction du temps écoulé.</p></li><li id="r-165519" data-claire-element-id="165519"><p id="r-165518" data-claire-element-id="165518">On finit par affecter à last_time la valeur de current_time car nous passons à une nouvelle image et donc le présent devient du passé ( :'( c'est beau !)</p></li><p id="r-165521" data-claire-element-id="165521">.</p></ol><p id="r-165527" data-claire-element-id="165527">En ce qui concerne l'unité de mesure des <strong>vitesses</strong>, comme le temps écoulé est donné en <em>millisecondes</em> et que les angles utilisés dans glRotate sont en <em>degrés</em>, il s'agit tout simplement de <strong>degrés par milliseconde</strong>.</p><p id="r-165529" data-claire-element-id="165529">Dans notre cas j'utiliserai 0.05 °/ms.</p><p id="r-165531" data-claire-element-id="165531">La traduction en code du principe tout juste évoqué est la suivante :</p><pre id="r-165532" data-claire-element-id="165533"><code data-claire-semantic="cpp">Uint32 last_time = SDL_GetTicks();
    Uint32 current_time,ellapsed_time;

    for (;;)
    {
        while (SDL_PollEvent(&amp;event))
        {

            switch(event.type)
            {
                case SDL_QUIT:
                exit(0);
                break;
            }
        }

        current_time = SDL_GetTicks();
        ellapsed_time = current_time - last_time;
        last_time = current_time;

        angleZ += 0.05 * ellapsed_time;
        angleX += 0.05 * ellapsed_time;

        Dessiner();

    }</code></pre><figure id="r-165536" data-claire-element-id="165538"><img id="r-165534" data-claire-element-id="165534" src="./Tutoriel_sdz_kayl_OpenGL/10442.png" alt="Image utilisateur"></figure><h5 id="r-ne-pas-monopoliser-le-cpu" data-claire-element-id="165593">Ne pas monopoliser le CPU</h5><div id="r-165547" data-claire-element-id="165547" data-claire-semantic="question"><p id="r-165545" data-claire-element-id="165545">Ça rame ! Le programme prend 100% du CPU rien que pour faire tourner un simple cube, je ne vais jamais pouvoir faire un jeu !</p></div><p id="r-165548" data-claire-element-id="165548">En effet si on regarde la charge du processeur imposée par notre application on voit qu'il est totalement occupé à gérer notre programme :</p><figure id="r-165551" data-claire-element-id="165552"><img id="r-165550" data-claire-element-id="165550" src="./Tutoriel_sdz_kayl_OpenGL/10443.png" alt="Image utilisateur"></figure><p id="r-165553" data-claire-element-id="165553">Cela ne veut pas dire que votre programme est lent c'est juste que nous bouclons en permanence et que nous ne prenons jamais de pause. En réalité nous n'avons pas vraiment besoin de boucler tout le temps. Nous allons utiliser <strong>une</strong> technique possible (celle que je préfère et donc souhaite vous expliquer) : <strong>limiter les FPS</strong> (frames per second - images par seconde).<br> En effet pour avoir une animation très fluide il nous suffit de 50 images par seconde.</p><p id="r-165555" data-claire-element-id="165555">En fixant le nombre d'images par secondes désirées par votre application, il est alors possible de la faire s'endormir un certain temps si elle va plus vite que nécessaire, ce qui soulagera (même s'il ne s'en plaint pas) le processeur.<br> Pour ce faire nous allons calculer à chaque image combien de temps nous avons mis pour la dessiner, si nous avons été plus rapides que le temps moyen nécessaire, nous stopperons l'exécution pour un certain temps.</p><p id="r-165557" data-claire-element-id="165557">Par exemple, autoriser 50 images par seconde donne à chaque image 20 millisecondes pour s'afficher. Imaginons qu'une image mette 5 ms à s'afficher réellement, il reste alors 15 ms à tuer. Plutôt que de passer directement à l'image suivante, nous allons <strong>endormir l'application</strong> pendant ces 15 ms.</p><p id="r-165559" data-claire-element-id="165558">En terme de code nous allons utiliser SDL_GetTicks comme auparavant pour déterminer le temps écoulé entre le début et la fin de la création de l'image. Nous utiliserons SDL_Delay pour suspendre temporairement l'application.</p><pre id="r-165560" data-claire-element-id="165560"><code data-claire-semantic="cpp">Uint32 start_time; //nouvelle variable

    for (;;)
    {
        start_time = SDL_GetTicks(); 
        while (SDL_PollEvent(&amp;event))
        {

            switch(event.type)
            {
                case SDL_QUIT:
                exit(0);
                break;
                case SDL_KEYDOWN:
                animation = !animation;
                break;
            }
        }

        current_time = SDL_GetTicks();
        ellapsed_time = current_time - last_time;
        last_time = current_time;

        angleZ += 0.05 * ellapsed_time;
        angleX += 0.05 * ellapsed_time;

        Dessiner();

        ellapsed_time = SDL_GetTicks() - start_time;
        if (ellapsed_time &lt; 10)
        {
            SDL_Delay(10 - ellapsed_time);
        }

    }

    return 0;
}</code></pre><p id="r-165562" data-claire-element-id="165562">Notez qu'ici nous ne voulons pas savoir combien de temps il s'est passé depuis la dernière fois mais combien de temps notre image a pris à se dessiner (j'y ai inclus la gestion des événements). Il y a donc un appel à SDL_GetTicks au début de notre boucle et un appel à la toute fin. Je réutilise ellapsed_time par commodité mais pas les autres variables pour ne pas mélanger les 2 concepts : limitation des FPS et gestion du temps dans les animations.</p><p id="r-165563" data-claire-element-id="165563"><strong>Code final :</strong></p><pre id="r-165564" data-claire-element-id="165564"><code data-claire-semantic="cpp">#include &lt;SDL/SDL.h&gt;
#include &lt;GL/gl.h&gt;
#include &lt;GL/glu.h&gt;
#include &lt;cstdlib&gt;

void Dessiner();

double angleZ = 0;
double angleX = 0;

int main(int argc, char *argv[])
{
    SDL_Event event;

    SDL_Init(SDL_INIT_VIDEO);
    atexit(SDL_Quit);
    SDL_WM_SetCaption("SDL GL Application", NULL);
    SDL_SetVideoMode(640, 480, 32, SDL_OPENGL);

    glMatrixMode( GL_PROJECTION );
    glLoadIdentity();
    gluPerspective(70,(double)640/480,1,1000);

    glEnable(GL_DEPTH_TEST);

    Dessiner();

    Uint32 last_time = SDL_GetTicks();
    Uint32 current_time,ellapsed_time;
    Uint32 start_time;

    for (;;)
    {
        start_time = SDL_GetTicks();
        while (SDL_PollEvent(&amp;event))
        {

            switch(event.type)
            {
                case SDL_QUIT:
                exit(0);
                break;
            }
        }

        current_time = SDL_GetTicks();
        ellapsed_time = current_time - last_time;
        last_time = current_time;

        angleZ += 0.05 * ellapsed_time;
        angleX += 0.05 * ellapsed_time;

        Dessiner();

        ellapsed_time = SDL_GetTicks() - start_time;
        if (ellapsed_time &lt; 10)
        {
            SDL_Delay(10 - ellapsed_time);
        }

    }

    return 0;
}

void Dessiner()
{
    glClear( GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT );

    glMatrixMode( GL_MODELVIEW );
    glLoadIdentity( );

    gluLookAt(3,4,2,0,0,0,0,0,1);

    glRotated(angleZ,0,0,1);
    glRotated(angleX,1,0,0);

    glBegin(GL_QUADS);

    glColor3ub(255,0,0); //face rouge
    glVertex3d(1,1,1);
    glVertex3d(1,1,-1);
    glVertex3d(-1,1,-1);
    glVertex3d(-1,1,1);

    glColor3ub(0,255,0); //face verte
    glVertex3d(1,-1,1);
    glVertex3d(1,-1,-1);
    glVertex3d(1,1,-1);
    glVertex3d(1,1,1);

    glColor3ub(0,0,255); //face bleue
    glVertex3d(-1,-1,1);
    glVertex3d(-1,-1,-1);
    glVertex3d(1,-1,-1);
    glVertex3d(1,-1,1);

    glColor3ub(255,255,0); //face jaune
    glVertex3d(-1,1,1);
    glVertex3d(-1,1,-1);
    glVertex3d(-1,-1,-1);
    glVertex3d(-1,-1,1);

    glColor3ub(0,255,255); //face cyan
    glVertex3d(1,1,-1);
    glVertex3d(1,-1,-1);
    glVertex3d(-1,-1,-1);
    glVertex3d(-1,1,-1);

    glColor3ub(255,0,255); //face magenta
    glVertex3d(1,-1,1);
    glVertex3d(1,1,1);
    glVertex3d(-1,1,1);
    glVertex3d(-1,-1,1);

    glEnd();

    glFlush();
    SDL_GL_SwapBuffers();
}</code></pre><p id="r-165566" data-claire-element-id="165566">En comparaison, pour une animation de la même fluidité, la charge moyenne du processeur est <strong>négligeable</strong> :</p><figure id="r-165570" data-claire-element-id="165571"><img id="r-165568" data-claire-element-id="165568" src="./Tutoriel_sdz_kayl_OpenGL/10444.png" alt="Image utilisateur"></figure><p id="r-165573" data-claire-element-id="165573"><strong>Notes diverses :</strong></p><ul id="r-165585" data-claire-element-id="165585"><li id="r-165577" data-claire-element-id="165577"><p id="r-165575" data-claire-element-id="165574">il est <em>aussi</em> possible d'utiliser des timers pour limiter les FPS (voir la doc de <a href="http://www.libsdl.org/cgi/docwiki.cgi/SDL_5fAddTimer">SDL_AddTimer</a> ainsi que son exemple). Ce n'est pas la solution retenue ici ;</p></li><li id="r-165579" data-claire-element-id="165579"><p id="r-165578" data-claire-element-id="165578">les adeptes de la doc ne manqueront pas de signaler le problème de la granularité du temps de pause (cf. <a href="http://www.libsdl.org/cgi/docwiki.cgi/SDL_5fDelay">SDL_Delay</a>). Dans les tests effectués pour rédiger ce tutoriel, le temps de pause <strong>réel</strong> n'excédait jamais le temps <strong>demandé</strong> de plus de 1 milliseconde. Le nombre réel d'images par seconde est donc égal (ou très proche) au nombre fixé ;</p></li><li id="r-165583" data-claire-element-id="165583"><p id="r-165581" data-claire-element-id="165581">en terme d'ergonomie cela peut faire peur à certains de faire s'endormir le programme un certain temps. Qu'ils soient rassurés, même dans une application 3D bien plus complexe, la gestion des événements n'est en rien altérée.</p></li></ul><p id="r-165587" data-claire-element-id="165587"><a href="http://sdz.tdct.org/sdz/medias/www.siteduzero.com_uploads_fr_ftp_kayl_sdlgl_05_cube.zip">Téléchargez le projet Code::Blocks, l'exécutable Windows et le Makefile Unix (117 Ko)</a></p><p id="r-165589" data-claire-element-id="165589"><a href="http://62.4.17.167/uploads/fr/ftp/kayl/rotation_cube.avi">Téléchargez la vidéo au format avi/Xvid (414 Ko)</a></p><p id="r-165590" data-claire-element-id="165590">Voilà le mystère de la 3D en OpenGL est enfin tombé !<br> Vous savez maintenant créer de toutes pièces un objet 3D et réaliser une animation.<br> En attendant le prochain chapitre sur les textures vous pouvez, si vous le souhaitez, améliorer votre programme pour <em>créer de multiples</em> objets, en <em>animer</em> certains grâce <em>au clavier</em>, et par exemple faire tourner la <em>caméra autour de votre scène</em>.<br> Bonne création !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
<span class="arrow"></span>
<span class="next">Le Z-Buffer</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">
<span class="next">Les textures</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Lestextures"></a><h2>Les textures</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
<span class="arrow"></span>
<span class="next">Animation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
<span class="next">Charger une texture</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div class="content">
<p id="r-165607" data-claire-element-id="165607">Maintenant que nous savons faire des objets en 3D, en couleur certes mais un peu moches il faut l'avouer :lol: , il est temps de les habiller grâce aux textures. Nous verrons donc dans ce chapitre les rudiments du <em>texturing</em>, comment charger une texture et l'appliquer sur un objet. De quoi nous ouvrir la voie vers des scènes 3D de plus en plus réalistes.</p>
</div><a name="Chargerunetexture"></a><h2>Charger une texture</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">
<span class="arrow"></span>
<span class="next">Les textures</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
<span class="next">Plaquage de texture</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-charger-une-texture" data-claire-element-id="165669">Charger une texture</h4><p id="r-165608" data-claire-element-id="165608">Grâce à notre choix d'utiliser OpenGL avec la SDL, vous allez voir que la phase de chargement des textures nous sera hautement simplifiée.</p><p id="r-165610" data-claire-element-id="165610">Mais avant même de pouvoir charger une quelconque texture, encore faut-il en avoir... Pour cela je vous propose de travailler avec ce <a href="http://berneyboy.planetquake.gamespy.com/textures.htm">pack de textures hautes résolutions</a>. Il est assez volumineux (124 Mo) mais assez complet et contient des textures photoréalistes classées dans diverses catégories : sols, caisses, végétaux, métaux, pierres, etc.</p><figure id="r-165612" data-claire-element-id="165614"><img id="r-165611" data-claire-element-id="165611" src="./Tutoriel_sdz_kayl_OpenGL/10522.jpg" alt="Image utilisateur"></figure><p id="r-165617" data-claire-element-id="165617"><em>Exemples de textures incluses dans le pack</em></p><aside id="r-165621" data-claire-element-id="165620" data-claire-semantic="information"><p id="r-165619" data-claire-element-id="165619">Que vous le téléchargiez ou non je fournirai quand même les textures utilisées dans l'exemple en fin de chapitre. Vous pouvez donc vous en contenter.</p></aside><h5 id="r-format-et-taille" data-claire-element-id="165629">Format et taille</h5><p id="r-165623" data-claire-element-id="165623">Nous utiliserons principalement deux formats pour les textures :<strong> .jpg et .png</strong>.<br> Le format <strong>.jpg</strong> est parfait pour les textures, car il donne les plus petites tailles de fichier sur des images complexes (comme les textures photoréalistes).<br> Le format <strong>.png (24 bits)</strong> quant à lui est utilisé, car il gère très bien la transparence.</p><p id="r-165625" data-claire-element-id="165625">La largeur et la hauteur des textures doivent <strong>impérativement</strong> être des puissances de 2 (64,128,512,1024). En effet si elles ne le sont pas, les textures seront de toute façon redimensionnées en interne pour respecter cette contrainte et vous risquez donc de <strong>perdre</strong> inutilement en <strong>qualité</strong>.</p><p id="r-165627" data-claire-element-id="165627">En terme de <strong>qualité visuelle</strong>, plus la résolution de la texture est grande, meilleur est le résultat. Le pack que je vous fournis contient principalement des textures haute-résolution (512x512) avec lesquelles vous n'aurez pas de mal à avoir des rendus de meilleure qualité que Half-Life premier du nom :soleil: (effets de lumière mis à part pour l'instant).</p><h5 id="r-utiliser-sdl-image-pour-charger-une-texture" data-claire-element-id="165653">Utiliser SDL_Image pour charger une texture</h5><p id="r-165631" data-claire-element-id="165631">Le code nécessaire pour créer une texture OpenGL à partir d'un tableau de pixels n'est pas extrêmement compliqué. Cependant la phase la plus pénible est le chargement d'un fichier image (.jpg, .bmp, .tga ou autre).<br> Heureusement pour nous <strong>SDL_Image</strong> est là ; nous aurons simplement à l'utiliser pour qu'elle nous retourne une SDL_Surface à partir d'un nom de fichier.</p><p id="r-165634" data-claire-element-id="165634">Une fois cette surface créée, elle doit être <strong>retournée verticalement</strong> car SDL et OpenGL n'ont pas les mêmes conventions. Vous avez dû le remarquer lors du chapitre sur les transformations car le (0,0) en OpenGL était en bas à gauche alors que celui en SDL (comme indiqué dans le cours de M@teo) est en haut à gauche.</p><p id="r-165637" data-claire-element-id="165636">La dernière chose à faire est de convertir le tableau de pixels contenus dans la surface en texture OpenGL par des appels OpenGL appropriés.</p><div id="r-165639" data-claire-element-id="165639" data-claire-semantic="question"><p id="r-165638" data-claire-element-id="165638">Oh là là ! Ça a l'air compliqué tout ça... Image utilisateur :( Je vais réussir à faire ça moi ?</p></div><p id="r-165642" data-claire-element-id="165642">Savoir coder vous-mêmes cette phase n'est pas nécessaire pour la compréhension de la suite du chapitre. Le plus important est <strong>l'utilisation des textures</strong> créées. Nous reviendrons plus en détail sur les appels en question lorsque nous verrons les textures procédurales mais pour l'instant je vous donne tout ça sur un plateau d'argent, voilà :</p><p id="r-165645" data-claire-element-id="165644"><a href="http://sdz.tdct.org/sdz/medias/www.siteduzero.com_uploads_fr_ftp_kayl_sdz_sdlglutils.zip">Téléchargez le code pour charger une texture (3 Ko)</a></p><p id="r-165646" data-claire-element-id="165646">Dans l'archive, je vous fournis deux fichiers : sdlglutils.h et sdlglutils.cpp. J'ai choisi ce nom car j'y rajouterai petit à petit des fonctions utiles pour ce tuto qui ne sont là que pour nous simplifier la vie mais que vous auriez pu faire vous-mêmes avec un peu plus de connaissances.</p><p id="r-165647" data-claire-element-id="165647">La fonction qui nous intéresse pour l'instant est loadTexture qui s'utilise très simplement :</p><pre id="r-165649" data-claire-element-id="165649"><code data-claire-semantic="cpp">#include "sdlglutils.h"
GLuint identifiant_texture = loadTexture("ma_texture.jpg");</code></pre><p id="r-165650" data-claire-element-id="165650">Si vous êtes curieux vous pouvez regarder le code derrière mais il n'a rien de compliqué, juste ce que je vous ai expliqué plus haut (chargement de l'image, retournement, et création texture OpenGL).</p><p id="r-165651" data-claire-element-id="165651">Le type renvoyé est GLuint soit l'équivalent d'un unsigned int. Cependant je n'utiliserai jamais le type unsigned int pour les textures pour ne pas être tenté dans mon code de faire des calculs dessus, en effet ce nombre retourné a une signification bien précise : c'est <strong>l'identifiant de la texture</strong> OpenGL créée. À chaque fois que nous voudrons utiliser cette texture, il suffira d'utiliser cet identifiant.</p><h5 id="r-activer-le-texturing" data-claire-element-id="165667">Activer le texturing</h5><p id="r-165659" data-claire-element-id="165659">Comme nous avons déjà créé des scènes en 3D sans texture nous savons que le texturing n'est pas activé par défaut. Pour l'activer il suffit donc d'appeler :</p><pre id="r-165661" data-claire-element-id="165661"><code data-claire-semantic="cpp">glEnable(GL_TEXTURE_2D);</code></pre><aside id="r-165665" data-claire-element-id="165665" data-claire-semantic="information"><p id="r-165662" data-claire-element-id="165662">Vous pouvez avoir envie dans vos scènes de faire cohabiter des objets texturés avec des objets non texturés (pourquoi pas après tout...). Pour ce faire il suffit de désactiver le texturing temporairement avec :</p><pre id="r-165664" data-claire-element-id="165664"><code data-claire-semantic="cpp">glDisable(GL_TEXTURE_2D);</code></pre></aside><p id="r-165666" data-claire-element-id="165666">Voilà nous sommes prêts, nous savons charger une texture, nous savons activer le texturing. Maintenant voyons comment, en reprenant notre cube 3D du chapitre précédent, appliquer une texture sur un objet.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">
<span class="arrow"></span>
<span class="next">Les textures</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
<span class="next">Plaquage de texture</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Plaquagedetexture"></a><h2>Plaquage de texture</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
<span class="arrow"></span>
<span class="next">Charger une texture</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
<span class="next">Texture répétitive</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-plaquage-de-texture" data-claire-element-id="165764">Plaquage de texture</h4><p id="r-165672" data-claire-element-id="165672">Partons du code que nous avions pour définir la première face de notre cube :</p><pre id="r-165674" data-claire-element-id="165674"><code data-claire-semantic="cpp">glBegin(GL_QUADS);
glVertex3d(1,1,1);
glVertex3d(1,1,-1);
glVertex3d(-1,1,-1);
glVertex3d(-1,1,1);
glEnd();</code></pre><p id="r-165676" data-claire-element-id="165676">Nous allons utiliser la texture « stainedglass05.jpg » que vous trouverez dans le pack dans la catégorie window (ou dans l'archive en fin de chapitre).</p><p id="r-165678" data-claire-element-id="165678">Commençons donc par la charger au lancement de notre application comme expliqué précédemment :</p><pre id="r-165680" data-claire-element-id="165680"><code data-claire-semantic="cpp">GLuint texture1; //en variable globale

int main(int argc, char *argv[])
{
    // ... lancement de l'application
    glEnable(GL_DEPTH_TEST);
    glEnable(GL_TEXTURE_2D);
    texture1 = loadTexture("stainedglass05.jpg"); // pendant l'initialisation d'OpenGL, avant la boucle d'affichage
    //... boucle d'affichage et de gestion des événements
}</code></pre><p id="r-165681" data-claire-element-id="165681">Dans le code du dessin, avant de définir les vertices de notre première face texturée, il nous faut dire à OpenGL que l'on veut utiliser cette texture en appelant glBindTexture avec l'identifiant de notre texture :</p><pre id="r-165683" data-claire-element-id="165683"><code data-claire-semantic="cpp">glBindTexture(GL_TEXTURE_2D, texture1);</code></pre><p id="r-165684" data-claire-element-id="165684">Et maintenant nous allons réaliser le <em>plaquage</em> proprement dit de la texture sur la face en faisant correspondre à chaque vertex composant notre face <strong>une coordonnée sur la texture</strong> comme représenté sur le schéma ci-dessous :</p><figure id="r-165687" data-claire-element-id="165688"><img id="r-165686" data-claire-element-id="165686" src="./Tutoriel_sdz_kayl_OpenGL/6034.jpg" alt="Image utilisateur"></figure><p id="r-165689" data-claire-element-id="165689"><em>Correspondance coordonnées texture / coordonnées réelles</em></p><p id="r-165691" data-claire-element-id="165691">Pour définir les coordonnées du vertex nous savons utiliser glVertex, eh bien pour définir les coordonnées de texture nous utiliserons :</p><p id="r-165692" data-claire-element-id="165692">glTexCoord2d (double x_texture, double y_texture);</p><p id="r-165693" data-claire-element-id="165693">L'espace de coordonnées sur la texture est en 2D, le coin en bas à gauche a les coordonnées (0,0) et le coin en haut à droite est en (1,1), quelque soit la taille en pixels de l'image.</p><p id="r-165695" data-claire-element-id="165695">Ici je vais commencer par définir le vertex (1,1,1) auquel je veux plaquer le coin haut gauche de la texture soit (0,1).<br> Je fais donc :</p><pre id="r-165696" data-claire-element-id="165696"><code data-claire-semantic="cpp">glBegin(GL_QUADS);
    glTexCoord2d(0,1);  glVertex3d(1,1,1);</code></pre><aside id="r-165699" data-claire-element-id="165699" data-claire-semantic="information"><p id="r-165698" data-claire-element-id="165698">glTexCoord2d, comme glColor3ub, s'applique à tous les vertices définis par la suite. Il ne faut donc pas oublier d'y faire à nouveau appel avant chaque vertex.</p></aside><p id="r-165700" data-claire-element-id="165700">En continuant avec les autres sommets de la face cela donne donc le code complet suivant :</p><pre id="r-165701" data-claire-element-id="165701"><code data-claire-semantic="cpp">glBindTexture(GL_TEXTURE_2D, texture1);
    glBegin(GL_QUADS);
    glTexCoord2d(0,1);  glVertex3d(1,1,1);
    glTexCoord2d(0,0);  glVertex3d(1,1,-1);
    glTexCoord2d(1,0);  glVertex3d(-1,1,-1);
    glTexCoord2d(1,1);  glVertex3d(-1,1,1);
    glEnd();</code></pre><aside id="r-165707" data-claire-element-id="165707" data-claire-semantic="warning"><p id="r-165703" data-claire-element-id="165703">Il n'est pas possible de changer de texture en cours de définition d'une face. Pour appliquer une texture différente à la face suivante il faut donc terminer le bloc de vertices par un appel à glEnd(), changer la texture puis définir la prochaine face :</p><pre id="r-165704" data-claire-element-id="165704"><code data-claire-semantic="cpp">glBindTexture(GL_TEXTURE_2D, texture1);
    glBegin(GL_QUADS); //première face
    //définition des vertices
    glEnd();
    glBindTexture(GL_TEXTURE_2D, texture2); //changement de texture
    glBegin(GL_QUADS); //deuxième face
    //définition des vertices
    glEnd();</code></pre><p id="r-165706" data-claire-element-id="165706">Ce n'est bien sûr pas nécessaire si vous souhaitez garder la même texture.</p></aside><h5 id="r-erreurs-frequentes" data-claire-element-id="165720">Erreurs fréquentes</h5><p id="r-165708" data-claire-element-id="165708">Une mauvaise utilisation de glTexCoord2d (mauvaises coordonnées, oublié de redéfinir glTexCoord2d pour le vertex suivant) donne lieu à de drôles de résultats :</p><figure id="r-165712" data-claire-element-id="165713"><img id="r-165710" data-claire-element-id="165710" src="./Tutoriel_sdz_kayl_OpenGL/10524.jpg" alt="Image utilisateur"></figure><p id="r-165715" data-claire-element-id="165715"><em>Erreur en oubliant de redéfinir </em>glTexCoord2d<em> pour le dernier vertex</em></p><p id="r-165718" data-claire-element-id="165718">:waw: :p Ne rigolez pas ces erreurs sont fréquentes au début et je suis prêt à parier que ça vous arrivera au moins une fois :lol: . Vous saurez au moins d'où vient le problème...</p><h5 id="r-cas-d-un-triangle" data-claire-element-id="165737">Cas d'un triangle</h5><p id="r-165722" data-claire-element-id="165722">Dans les jeux vidéos, la primitive de base la plus utilisée est le triangle (nous verrons pourquoi quand nous importerons des models 3D). Le plaquage de texture fonctionne de la même manière en ne choisissant que <strong>3 points sur la texture</strong>, points qui ne sont donc pas forcément des coins de l'image.</p><table id="r-165735" data-claire-element-id="165735"><tbody id="r-165734" data-claire-element-id="165734"><tr id="r-165732" data-claire-element-id="165732"><td id="r-165725" data-claire-element-id="165725"><pre id="r-165723" data-claire-element-id="165723"><code data-claire-semantic="cpp">glBindTexture(GL_TEXTURE_2D, texture2);
    glBegin(GL_TRIANGLES);
    glTexCoord2d(0,0);      glVertex3d(1,1,-1);
    glTexCoord2d(1,0);      glVertex3d(-1,1,-1);
    glTexCoord2d(0.5,1);    glVertex3d(0,0,1);
    glEnd();</code></pre></td><td id="r-165728" data-claire-element-id="165730"><img id="r-165729" data-claire-element-id="165728" src="./Tutoriel_sdz_kayl_OpenGL/10525.jpg" alt="Image utilisateur"><img id="r-165726" data-claire-element-id="165726" src="./Tutoriel_sdz_kayl_OpenGL/10525.jpg" alt="Image utilisateur"></td></tr></tbody></table><h5 id="r-utilisation-d-une-partie-de-la-texture" data-claire-element-id="165760">Utilisation d'une partie de la texture</h5><p id="r-165739" data-claire-element-id="165739">Nous venons de le voir dans le cas du triangle, il n'est pas obligatoire d'utiliser toute la texture. C'est une pratique souvent utilisée pour regrouper toutes les textures pour un seul objet dans un seul fichier, comme par exemple ici la skin de Tommy Vercetti dans GTA:Vice City :</p><figure id="r-165741" data-claire-element-id="165742"><img id="r-165740" data-claire-element-id="165740" src="./Tutoriel_sdz_kayl_OpenGL/10526.jpg" alt="Image utilisateur"></figure><p id="r-165744" data-claire-element-id="165744"><em>Texture du héros (une des skins possibles) de <strong>GTA:Vice City</strong></em></p><p id="r-165745" data-claire-element-id="165745">Il suffit alors, à coup de glTexCoord2d bien pensés, de délimiter la zone de la texture que l'on souhaite utiliser pour la face courante :</p><table id="r-165757" data-claire-element-id="165757"><tbody id="r-165755" data-claire-element-id="165755"><tr id="r-165753" data-claire-element-id="165753"><td id="r-165748" data-claire-element-id="165748"><pre id="r-165747" data-claire-element-id="165747"><code data-claire-semantic="cpp">glBindTexture(GL_TEXTURE_2D, texture3);
    glBegin(GL_QUADS);
    glTexCoord2d(0,1);  glVertex3d(1,1,1);
    glTexCoord2d(0,0);  glVertex3d(1,1,-1);
    glTexCoord2d(0.33,0);  glVertex3d(-1,1,-1);
    glTexCoord2d(0.33,1);  glVertex3d(-1,1,1);
    glEnd();</code></pre></td><td id="r-165751" data-claire-element-id="165752"><img id="r-165752" data-claire-element-id="165751" src="./Tutoriel_sdz_kayl_OpenGL/10527.jpg" alt="Image utilisateur"><img id="r-165750" data-claire-element-id="165750" src="./Tutoriel_sdz_kayl_OpenGL/10527.jpg" alt="Image utilisateur"></td></tr></tbody></table><aside id="r-165759" data-claire-element-id="165759" data-claire-semantic="information"><p id="r-165758" data-claire-element-id="165758">Comme vous le voyez, la texture utilisée ici n'est pas un carré (384x128) et pourtant le coin en haut à droite a toujours les coordonnées (1,1). Les coordonnées d'un point sur la texture donnent donc une information relative à la taille totale de l'image. Ici on a voulu découper une partie de 128 pixels de large sur les 384 totaux soit un rapport de 1/3 (0.33).</p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
<span class="arrow"></span>
<span class="next">Charger une texture</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
<span class="next">Texture répétitive</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Texturerptitive"></a><h2>Texture répétitive</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
<span class="arrow"></span>
<span class="next">Plaquage de texture</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
<span class="next">Les couleurs</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-texture-repetitive" data-claire-element-id="165806">Texture répétitive</h4><p id="r-165771" data-claire-element-id="165771">Jusqu'à présent nous appliquions tout ou une partie de la texture sur nos objets. Mais si on essaye de créer un sol (un simple carré de 20x20) dans la scène avec la même technique on obtient le résultat suivant :</p><table id="r-165783" data-claire-element-id="165783"><tbody id="r-165781" data-claire-element-id="165781"><tr id="r-165780" data-claire-element-id="165780"><td id="r-165774" data-claire-element-id="165774"><pre id="r-165773" data-claire-element-id="165773"><code data-claire-semantic="cpp">glBindTexture(GL_TEXTURE_2D, texture4);
    glBegin(GL_QUADS);
    glTexCoord2i(0,0);      glVertex3i(-10,-10,-1);
    glTexCoord2i(1,0);     glVertex3i(10,-10,-1);
    glTexCoord2i(1,1);    glVertex3i(10,10,-1);
    glTexCoord2i(0,1);     glVertex3i(-10,10,-1);
    glEnd();</code></pre></td><td id="r-165777" data-claire-element-id="165778"><img id="r-165778" data-claire-element-id="165777" src="./Tutoriel_sdz_kayl_OpenGL/10528.jpg" alt="Image utilisateur"><img id="r-165776" data-claire-element-id="165776" src="./Tutoriel_sdz_kayl_OpenGL/10528.jpg" alt="Image utilisateur"></td></tr></tbody></table><p id="r-165784" data-claire-element-id="165784">Comme vous le voyez la texture n'est pas faite pour être étalée sur une si grande surface. Nous devons donc faire en sorte qu'elle se répète !<br> Dans les exemples que nous avons vus nous n'utilisions que des coordonnées entre 0 et 1. Mais en réalité l'espace de coordonnées de la texture n'a pas de limite :</p><figure id="r-165786" data-claire-element-id="165788"><img id="r-165785" data-claire-element-id="165785" src="./Tutoriel_sdz_kayl_OpenGL/6035.jpg" alt="Image utilisateur"></figure><p id="r-165790" data-claire-element-id="165790"><em>Espace des coordonnées de texture</em></p><p id="r-165791" data-claire-element-id="165791">Quand nous considérions l'image d'origine, nous nous restreignions à une partie de cet espace. Mais ici nous voulons faire répéter la texture 10 fois par exemple donc nous allons prendre des coordonnées entre 0 et 10 tout simplement !</p><p id="r-165792" data-claire-element-id="165792">Et en effet en modifiant le code en conséquence :</p><pre id="r-165793" data-claire-element-id="165793"><code data-claire-semantic="cpp">glBindTexture(GL_TEXTURE_2D, texture4);
    glBegin(GL_QUADS);
    glTexCoord2i(0,0);      glVertex3i(-10,-10,-1);
    glTexCoord2i(10,0);     glVertex3i(10,-10,-1);
    glTexCoord2i(10,10);    glVertex3i(10,10,-1);
    glTexCoord2i(0,10);     glVertex3i(-10,10,-1);
    glEnd();</code></pre><p id="r-165795" data-claire-element-id="165795">Nous obtenons un bien meilleur résultat visuel :</p><figure id="r-165799" data-claire-element-id="165801"><img id="r-165797" data-claire-element-id="165797" src="./Tutoriel_sdz_kayl_OpenGL/10529.jpg" alt="Image utilisateur"></figure><p id="r-165802" data-claire-element-id="165802"><em>Texture du sol répétée 10 fois</em></p><aside id="r-165804" data-claire-element-id="165804" data-claire-semantic="warning"><p id="r-165803" data-claire-element-id="165803">Toutes les textures ne sont pas faites pour être répétées. Il faut en effet qu'elles soient conçues spécialement pour les bords correspondent quand plusieurs répétitions de l'image sont mises bout à bout. Dans le pack de textures, vous pouvez être quasiment sûrs que toutes les textures de sol, de mur, de plafond, d'herbe, de rocher sont susceptibles d'être répétées.</p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
<span class="arrow"></span>
<span class="next">Plaquage de texture</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
<span class="next">Les couleurs</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Lescouleurs"></a><h2>Les couleurs</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
<span class="arrow"></span>
<span class="next">Texture répétitive</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">
<span class="next">Les quadriques</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-couleurs" data-claire-element-id="165896">Les couleurs</h4><p id="r-165810" data-claire-element-id="165810">Je n'ai volontairement pas mentionné les couleurs depuis le début de ce chapitre pour rester concentré sur la nouveauté du moment : les textures. Mais nos bonnes vielles couleurs ne sont pas mortes pour autant.</p><h5 id="r-combiner-texture-et-couleur" data-claire-element-id="165890">Combiner texture et couleur</h5><p id="r-165812" data-claire-element-id="165812">Nous savons depuis le début de ce tuto définir la couleur des vertices à venir avec glColor3ub. Rien ne nous interdit de continuer à l'utiliser en plus de ce que nous venons d'apprendre sur les textures. La définition complète d'un vertex peut donc maintenant contenir jusqu'à 3 lignes :</p><ul id="r-165826" data-claire-element-id="165826"><li id="r-165816" data-claire-element-id="165816"><p id="r-165814" data-claire-element-id="165814">définition de la couleur avec glColor3ub<em>(facultatif)</em> ;</p></li><li id="r-165821" data-claire-element-id="165821"><p id="r-165819" data-claire-element-id="165819">définition des coordonnées sur la texture avec glTexCoord2d<em>(obligatoire sur utilisation d'une texture)</em> ;</p></li><li id="r-165825" data-claire-element-id="165825"><p id="r-165824" data-claire-element-id="165823">définition des coordonnées spatiales du vertex avec glVertex3d.</p></li></ul><p id="r-165827" data-claire-element-id="165827">Il n'est bien sûr pas obligatoire de redéfinir glColor3ub à chaque fois si l'on ne souhaite pas changer de couleur.<br> Appliqué au sol vu précédemment, en affectant des couleurs à chaque sommet on obtient donc :</p><table id="r-165841" data-claire-element-id="165841"><tbody id="r-165840" data-claire-element-id="165839"><tr id="r-165838" data-claire-element-id="165838"><td id="r-165831" data-claire-element-id="165831"><pre id="r-165829" data-claire-element-id="165829"><code data-claire-semantic="cpp">glBindTexture(GL_TEXTURE_2D, texture4);
    glBegin(GL_QUADS);
    glColor3ub(255,0,0); //Nouveau
    glTexCoord2i(0,0);
    glVertex3i(-10,-10,-1);
    glColor3ub(0,255,0); //Nouveau
    glTexCoord2i(10,0);
    glVertex3i(10,-10,-1);
    glColor3ub(255,255,0); //Nouveau
    glTexCoord2i(10,10);
    glVertex3i(10,10,-1);
    glColor3ub(255,0,255); //Nouveau
    glTexCoord2i(0,10);
    glVertex3i(-10,10,-1);
    glEnd();</code></pre></td><td id="r-165834" data-claire-element-id="165836"><img id="r-165835" data-claire-element-id="165834" src="./Tutoriel_sdz_kayl_OpenGL/10532.jpg" alt="Image utilisateur"><img id="r-165833" data-claire-element-id="165833" src="./Tutoriel_sdz_kayl_OpenGL/10532.jpg" alt="Image utilisateur"></td></tr></tbody></table><p id="r-165844" data-claire-element-id="165844">Comme vous le voyez, la couleur agit comme un filtre et vient donner une teinte locale à la texture.<br> Tout semble aller très bien jusqu'à ce que l'on décide d'afficher autre chose <em>juste après</em> avoir défini notre sol, un cube texturé par exemple :</p><figure id="r-165847" data-claire-element-id="165849"><img id="r-165845" data-claire-element-id="165845" src="./Tutoriel_sdz_kayl_OpenGL/10533.jpg" alt="Image utilisateur"></figure><p id="r-165852" data-claire-element-id="165852">Comme vous le voyez le cube est lui aussi affecté par la dernière couleur utilisée. C'est tout à fait logique car glColor3ub par définition est utilisé pour <strong>tous</strong> les vertex définis à la suite (jusqu'au prochain appel à glColor3ub).</p><p id="r-165854" data-claire-element-id="165854">Il faut donc utiliser une <strong>couleur neutre</strong> qui, appliquée comme filtre, ne viendra pas modifier la couleur de la texture. Et cette couleur n'est autre que... le <strong>blanc</strong> !</p><p id="r-165856" data-claire-element-id="165856">Ainsi, pour en quelque sorte « <em>annuler l'effet des couleurs</em> », il suffit d'utiliser le blanc comme prochaine couleur avec un appel à :</p><pre id="r-165858" data-claire-element-id="165858"><code data-claire-semantic="cpp">glColor3ub(255,255,255);</code></pre><p id="r-165859" data-claire-element-id="165859">Et en effet en interposant un appel à glColor3ub(255,255,255); entre la définition du sol et celle du cube, on obtient bien un cube vierge de tout effet de couleur :</p><table id="r-165874" data-claire-element-id="165874"><tbody id="r-165872" data-claire-element-id="165872"><tr id="r-165870" data-claire-element-id="165870"><td id="r-165862" data-claire-element-id="165862"><pre id="r-165860" data-claire-element-id="165860"><code data-claire-semantic="cpp">//... début du sol
    glColor3ub(255,0,255);
    glTexCoord2i(0,10);
    glVertex3i(-10,10,-1);
    glEnd(); //fin du sol

    glColor3ub(255,255,255); //on enlève la couleur

    glBegin(GL_QUADS); //début du cube
    glTexCoord2d(0,1);
    glVertex3d(1,1,1);
    //... fin du cube</code></pre></td><td id="r-165866" data-claire-element-id="165867"><img id="r-165867" data-claire-element-id="165866" src="./Tutoriel_sdz_kayl_OpenGL/10534.jpg" alt="Image utilisateur"><img id="r-165864" data-claire-element-id="165864" src="./Tutoriel_sdz_kayl_OpenGL/10534.jpg" alt="Image utilisateur"></td></tr></tbody></table><p id="r-165877" data-claire-element-id="165877">Voilà vous savez maintenant les précautions qu'il faut prendre lorsque l'on souhaite combiner dans un même code les couleurs et les textures. Rassurez-vous, il ne vous sera pas rare d'oublier de repasser en blanc de temps en temps et vous créerez souvent de jolis effets de couleur involontairement. ;)</p><p id="r-165878" data-claire-element-id="165878">Qui aurait cru que nous passerions aussi rapidement d'objets moches mais joliment colorés à de somptueux objets texturés ?!<br> Comme vous avez pu le voir il n'y a vraiment rien de sorcier dans l'application des textures, il suffit de bien savoir affecter à chaque vertex les bonnes coordonnées sur la texture et le tour est joué.<br> Le meilleur moyen de vous assurer que vous avez bien compris est de vous entraîner à réaliser une petite scène en 3D avec des textures, notamment une caisse de 4x2x2 avec la texture de caisse (voir caisse.jpg dans zip plus bas) utilisée dans ce chapitre.</p><p id="r-165879" data-claire-element-id="165879">Je vous en ai fait une rapidement dont vous pouvez télécharger le code plus bas :</p><figure id="r-165882" data-claire-element-id="165883"><img id="r-165881" data-claire-element-id="165881" src="./Tutoriel_sdz_kayl_OpenGL/5427.jpg" alt="Image utilisateur"></figure><p id="r-165885" data-claire-element-id="165885">Laissez libre cours à votre imagination et n'hésitez pas à poster vos créations dans les commentaires du chapitre ou sur le forum.</p><p id="r-165886" data-claire-element-id="165886"><a href="http://sdz.tdct.org/sdz/medias/www.siteduzero.com_uploads_fr_ftp_kayl_sdlgl_06_textures.zip">Téléchargez les textures utilisées et un exemple de scène texturée (482 Ko)</a></p><p id="r-165887" data-claire-element-id="165887"><a href="http://62.4.17.167/uploads/fr/ftp/kayl/scene_texture.avi">Téléchargez la vidéo au format avi/Xvid (1.10 Mo)</a></p><p id="r-165889" data-claire-element-id="165889">Dans le prochain chapitre nous verrons comment créer des formes un peu plus complexes qu'un simple cube ou une pyramide, toujours dans le but d'enrichir le contenu de nos scènes.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
<span class="arrow"></span>
<span class="next">Texture répétitive</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">
<span class="next">Les quadriques</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Lesquadriques"></a><h2>Les quadriques</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
<span class="arrow"></span>
<span class="next">Les couleurs</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
<span class="next">Principe d'utilisation</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div class="content">
<p id="r-165901" data-claire-element-id="165901">Le mot quadrique, équivalent de « surface quadratique », a une connotation mathématique qui peut faire peur au premier abord. :euh: <br> Mais ce n'est rien d'autre qu'une surface non-linéaire (pas plane), et derrière ce nouveau mot encore plus barbare, OpenGL regroupe en fait la <strong>sphère</strong>, le <strong>cône</strong>, le <strong>cylindre</strong>, et le <strong>disque</strong>.<br> Nous verrons donc dans ce court chapitre comment enrichir un peu plus vos scènes avec ces quelques formes prédéfinies qui nous éviteront bien des efforts.</p>
</div><a name="Principed039utilisation"></a><h2>Principe d'utilisation</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">
<span class="arrow"></span>
<span class="next">Les quadriques</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
<span class="next">Les quadriques</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-principe-d-utilisation" data-claire-element-id="166038">Principe d'utilisation</h4><p id="r-165904" data-claire-element-id="165904">Nous le verrons juste après, il existe dans OpenGL des fonctions toutes faites pour dessiner une sphère, un cylindre, etc.<br> Cependant ces fonctions ont besoin d'informations sur les intentions du codeur : faut-il texturer l'objet à créer, faut-il l'afficher uniquement avec des traits ?<br> Pour cela nous utiliserons un champ (<a href="http://www.siteduzero.com/tuto-3-4350-1-creez-vos-propres-types-de-variables.html#ss_part_1">struct</a>) de <strong>paramètres</strong>. Ces paramètres sont stockés dans une variable de type GLUquadric que l'on se doit d'utiliser d'une manière un peu particulière.</p><h5 id="r-creation-d-une-variable-de-type-gluquadric" data-claire-element-id="165911">Création d'une variable de type GLUquadric</h5><p id="r-165907" data-claire-element-id="165906">Ce n'est pas à nous directement de créer une variable de ce type. On doit utiliser un appel OpenGL qui nous renverra un <a href="http://www.siteduzero.com/tuto-3-3828-1-a-l-assaut-des-pointeurs.html">pointeur</a> sur le GLUquadric créé par OpenGL :</p><pre id="r-165908" data-claire-element-id="165908"><code data-claire-semantic="cpp">GLUquadric* params;
params = gluNewQuadric();</code></pre><p id="r-165909" data-claire-element-id="165909">Nous pouvons donc maintenant utiliser la variable params créée pour paramétrer nos objets et les dessiner.</p><h5 id="r-parametrage-du-gluquadric" data-claire-element-id="166029">Paramétrage du GLUquadric</h5><p id="r-165913" data-claire-element-id="165913">Ce champ n'est pas manipulable directement mais seulement par l'intermédiaire de fonctions. Une fois paramétré il sera utilisé pour tous les appels de dessin de quadriques définis après.</p><h6 id="r-style-d-affichage" data-claire-element-id="165983">Style d'affichage</h6><p id="r-165914" data-claire-element-id="165914">Les fonctions pour définir des quadriques utilisent tout comme nous des appels à glVertex pour définir les vertices des objets. Cependant comme nous n'avons pas accès directement au code, et donc au glBegin, nous ne pouvons pas spécifier par exemple par un glBegin(GL_LINES); que nous voulons que l'affichage soit fait avec des lignes.</p><p id="r-165916" data-claire-element-id="165916">Pour ce faire nous devons utiliser la fonction :</p><p id="r-165917" data-claire-element-id="165917">gluQuadricDrawStyle(params,style);<br> qui permet de définir quel sera le style d'affichage. style peut valoir :</p><table id="r-165977" data-claire-element-id="165977"><thead id="r-165931" data-claire-element-id="165931"><tr id="r-165928" data-claire-element-id="165928"><th id="r-165920" data-claire-element-id="165920"><p id="r-165918" data-claire-element-id="165918">Style</p></th><th id="r-165922" data-claire-element-id="165922"><p id="r-165921" data-claire-element-id="165921">Explication</p></th><th id="r-165926" data-claire-element-id="165926"><p id="r-165924" data-claire-element-id="165924">Exemple</p></th></tr></thead><tbody id="r-165974" data-claire-element-id="165974"><tr id="r-165945" data-claire-element-id="165945"><td id="r-165934" data-claire-element-id="165934"><p id="r-165933" data-claire-element-id="165933">GLU_POINT</p></td><td id="r-165936" data-claire-element-id="165936"><p id="r-165935" data-claire-element-id="165935">L'objet sera dessiné avec des points.</p></td><td id="r-165942" data-claire-element-id="165943"><img id="r-165943" data-claire-element-id="165942" src="./Tutoriel_sdz_kayl_OpenGL/10926.png" alt="Image utilisateur"><img id="r-165939" data-claire-element-id="165939" src="./Tutoriel_sdz_kayl_OpenGL/10926.png" alt="Image utilisateur"></td></tr><tr id="r-165960" data-claire-element-id="165960"><td id="r-165948" data-claire-element-id="165948"><p id="r-165946" data-claire-element-id="165946">GLU_LINE</p></td><td id="r-165952" data-claire-element-id="165952"><p id="r-165951" data-claire-element-id="165950">L'objet sera dessiné avec des lignes.</p></td><td id="r-165955" data-claire-element-id="165957"><img id="r-165957" data-claire-element-id="165956" src="./Tutoriel_sdz_kayl_OpenGL/10927.png" alt="Image utilisateur"><img id="r-165954" data-claire-element-id="165954" src="./Tutoriel_sdz_kayl_OpenGL/10927.png" alt="Image utilisateur"></td></tr><tr id="r-165973" data-claire-element-id="165973"><td id="r-165964" data-claire-element-id="165964"><p id="r-165962" data-claire-element-id="165962">GLU_FILL</p></td><td id="r-165967" data-claire-element-id="165967"><p id="r-165966" data-claire-element-id="165966">L'objet sera dessiné avec des faces pleines.</p></td><td id="r-165971" data-claire-element-id="165972"><img id="r-165972" data-claire-element-id="165971" src="./Tutoriel_sdz_kayl_OpenGL/10928.png" alt="Image utilisateur"><img id="r-165969" data-claire-element-id="165969" src="./Tutoriel_sdz_kayl_OpenGL/10928.png" alt="Image utilisateur"></td></tr></tbody></table><aside id="r-165981" data-claire-element-id="165981" data-claire-semantic="information"><p id="r-165979" data-claire-element-id="165979">La valeur par défaut est GLU_FILL. Pour utiliser des faces pleines il n'est donc pas nécessaire d'appeler gluQuadricDrawStyle si aucun style n'a été précédemment défini.</p></aside><h6 id="r-coordonnees-de-texture-1" data-claire-element-id="166025">Coordonnées de texture</h6><p id="r-165986" data-claire-element-id="165986">Nous l'avons vu dans le précédent chapitre, pour utiliser des textures il faut définir des coordonnées de texture avec glTexCoord2d. Si nous souhaitons utiliser des textures avec nos quadriques, il faut indiquer à OpenGL qu'il doit lui aussi incorporer les appels à glTexCoord2d lorsqu'on demandera de dessiner un quadrique. Nous utilisons donc la fonction :</p><p id="r-165988" data-claire-element-id="165988">gluQuadricTexture(params,texture);</p><p id="r-165989" data-claire-element-id="165989">où texture peut valoir GL_TRUE (vrai : pour activer les coordonnées de texture) ou GL_FALSE (faux : pour ne pas utiliser les coordonnées de texture).</p><aside id="r-165992" data-claire-element-id="165992" data-claire-semantic="information"><p id="r-165991" data-claire-element-id="165991">La valeur par défaut étant GL_FALSE, il n'est nécessaire d'appeler initialement gluQuadricTexture que si nous souhaitons utiliser les textures sur nos quadriques.</p></aside><table id="r-166016" data-claire-element-id="166016"><tbody id="r-166014" data-claire-element-id="166014"><tr id="r-166001" data-claire-element-id="166001"><td id="r-165994" data-claire-element-id="165994"><pre id="r-165993" data-claire-element-id="165993"><code data-claire-semantic="cpp">glBindTexture(GL_TEXTURE_2D,texture1);
    GLUquadric* params = gluNewQuadric();
    //dessin de la sphere... (à venir)
    gluDeleteQuadric(params);</code></pre></td><td id="r-165997" data-claire-element-id="165998"><img id="r-165998" data-claire-element-id="165997" src="./Tutoriel_sdz_kayl_OpenGL/10929.png" alt="Image utilisateur"><img id="r-165996" data-claire-element-id="165996" src="./Tutoriel_sdz_kayl_OpenGL/10929.png" alt="Image utilisateur"></td></tr><tr id="r-166012" data-claire-element-id="166012"><td id="r-166005" data-claire-element-id="166005"><pre id="r-166003" data-claire-element-id="166003"><code data-claire-semantic="cpp">glBindTexture(GL_TEXTURE_2D,texture1);
    GLUquadric* params = gluNewQuadric();
    gluQuadricTexture(params,GL_TRUE);
    //dessin de la sphere... (à venir)
    gluDeleteQuadric(params);</code></pre></td><td id="r-166008" data-claire-element-id="166010"><img id="r-166009" data-claire-element-id="166008" src="./Tutoriel_sdz_kayl_OpenGL/10930.jpg" alt="Image utilisateur"><img id="r-166006" data-claire-element-id="166006" src="./Tutoriel_sdz_kayl_OpenGL/10930.jpg" alt="Image utilisateur"></td></tr></tbody></table><div id="r-166019" data-claire-element-id="166019" data-claire-semantic="question"><p id="r-166018" data-claire-element-id="166018">Sur la première image c'était pas censé être une sphère ? On dirait un simple disque...</p></div><p id="r-166021" data-claire-element-id="166021">Sans texture et <strong>sans lumière</strong>, on ne peut pas comprendre que c'est une sphère. C'est un principe d'optique : la compréhension de la forme d'un objet sur une image 2D utilise pour beaucoup les différences de couleurs dues à l'éclairage (<a href="http://www.google.com/search?hl=fr&amp;amp%3Bq=shape%2Bfrom%2Bshading">Shape from Shading</a>). Nous réglerons donc ce problème dans quelques chapitres lorsque nous verrons la <em>lumière</em>. En attendant, avec les <strong>textures</strong> et le <strong>mouvement</strong> nous n'aurons vraiment pas de mal à discerner la forme de nos objets rassurez-vous.</p><h5 id="r-suppression-du-gluquadric" data-claire-element-id="166036">Suppression du GLUquadric</h5><p id="r-166032" data-claire-element-id="166032">Même si nous n'avons pas nous-mêmes utilisé de malloc (ou new en C++) pour créer le GLUquadric, il faut libérer la mémoire quand on ne souhaite plus l'utiliser par le biais de la fonction (entraperçue dans les exemples de code plus haut) :</p><pre id="r-166033" data-claire-element-id="166033"><code data-claire-semantic="cpp">gluDeleteQuadric(params);</code></pre><p id="r-166035" data-claire-element-id="166035">Maintenant nous savons créer un champ de paramètres pour nos quadriques, le paramétrer et le supprimer. Il est temps de voir ce qui nous intéresse réellement, les quadriques et leurs fonctions de dessin !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">
<span class="arrow"></span>
<span class="next">Les quadriques</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
<span class="next">Les quadriques</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Lesquadriques"></a><h2>Les quadriques</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
<span class="arrow"></span>
<span class="next">Principe d'utilisation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
<span class="next">Exercice : une roquette</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-quadriques" data-claire-element-id="166172">Les quadriques</h4><p id="r-166042" data-claire-element-id="166042">Pour bien comprendre quelles sont les faces et vertices générés par les appels suivants, tous les quadriques seront représentés en filaire. J'inclus aussi une version 3D du repère pour montrer que l'axe Z (bleu) est l'axe principal utilisé par les quadriques.</p><h5 id="r-la-sphere-1" data-claire-element-id="166078">La sphère</h5><figure id="r-166045" data-claire-element-id="166047"><img id="r-166044" data-claire-element-id="166044" src="./Tutoriel_sdz_kayl_OpenGL/10931.png" alt="Image utilisateur"></figure><p id="r-166050" data-claire-element-id="166050">gluSphere(GLUquadric* params,radius,slices,stacks);</p><ul id="r-166066" data-claire-element-id="166066"><li id="r-166053" data-claire-element-id="166053"><p id="r-166051" data-claire-element-id="166051">Le premier paramètre est le champ de type GLUquadric que nous avons paramétré précédemment.</p></li><li id="r-166057" data-claire-element-id="166057"><p id="r-166055" data-claire-element-id="166055">Le deuxième, <strong>radius</strong>, est le plus simple : c'est le <strong>rayon</strong> de la sphère.</p></li><li id="r-166061" data-claire-element-id="166061"><p id="r-166059" data-claire-element-id="166059"><strong>slices</strong> est le nombre de tranches verticales qui composeront la sphère.</p></li><li id="r-166064" data-claire-element-id="166064"><p id="r-166063" data-claire-element-id="166063"><strong>stacks</strong> est aussi un nombre de tranches mais pour les tranches horizontales.</p></li></ul><p id="r-166069" data-claire-element-id="166069">L'influence des ces deux paramètres est résumée par l'image ci-dessous :</p><figure id="r-166072" data-claire-element-id="166073"><img id="r-166071" data-claire-element-id="166071" src="./Tutoriel_sdz_kayl_OpenGL/10932.png" alt="Image utilisateur"></figure><p id="r-166076" data-claire-element-id="166076">Plus ces deux nombres sont grands, plus la sphère est précise et ressemble en effet à une sphère. La valeur choisie (20x20) donne un résultat satisfaisant.</p><h5 id="r-le-cylindre-et-le-cone" data-claire-element-id="166105">Le cylindre et le cône</h5><figure id="r-166081" data-claire-element-id="166083"><img id="r-166079" data-claire-element-id="166079" src="./Tutoriel_sdz_kayl_OpenGL/10933.png" alt="Image utilisateur"></figure><p id="r-166085" data-claire-element-id="166085">gluCylinder(GLUquadric* params,base,top,height,slices,stacks);</p><ul id="r-166099" data-claire-element-id="166099"><li id="r-166088" data-claire-element-id="166088"><p id="r-166087" data-claire-element-id="166087">Le premier paramètre est toujours le même champ de type GLUquadric.</p></li><li id="r-166092" data-claire-element-id="166092"><p id="r-166090" data-claire-element-id="166090"><strong>Base</strong> est le rayon du cylindre en bas, <strong>top</strong> est le rayon du cylindre en haut. Pour avoir un vrai cylindre il faut donc utiliser la même valeur pour les 2, mais en utilisant des valeurs différentes pour base et top, nous aurons un cône ! (voir dessin ci-dessous)</p></li><li id="r-166096" data-claire-element-id="166096"><p id="r-166095" data-claire-element-id="166095"><strong>slices</strong> est, comme pour la sphère, le nombre de divisions autour de l'axe Z et nous choisirons une valeur de l'ordre de 20 pour la même raison.</p></li><li id="r-166098" data-claire-element-id="166098"><p id="r-166097" data-claire-element-id="166097"><strong>stacks</strong> ici ne sert pas à grand chose. Mettre une valeur différente de 1 ne changerait rien au niveau de la précision du cylindre/cône (à part quand on le regarde en filaire).</p></li></ul><figure id="r-166101" data-claire-element-id="166102"><img id="r-166100" data-claire-element-id="166100" src="./Tutoriel_sdz_kayl_OpenGL/10934.png" alt="Image utilisateur"></figure><p id="r-166104" data-claire-element-id="166104">gluCylinder(params,1,0,2,20,1);</p><h5 id="r-le-disque" data-claire-element-id="166151">Le disque</h5><figure id="r-166108" data-claire-element-id="166110"><img id="r-166107" data-claire-element-id="166107" src="./Tutoriel_sdz_kayl_OpenGL/10935.png" alt="Image utilisateur"></figure><p id="r-166112" data-claire-element-id="166112">gluDisk(GLUquadric* params,inner,outer,slices,loops);</p><ul id="r-166126" data-claire-element-id="166126"><li id="r-166114" data-claire-element-id="166114"><p id="r-166113" data-claire-element-id="166113">Le premier paramètre est toujours le même champ de type GLUquadric.</p></li><li id="r-166116" data-claire-element-id="166116"><p id="r-166115" data-claire-element-id="166115"><strong>inner</strong> est le rayon interne du disque, souvent à 0 mais peut (comme sur l'image) avoir une valeur différente.</p></li><li id="r-166118" data-claire-element-id="166118"><p id="r-166117" data-claire-element-id="166117"><strong>outer</strong> est le rayon externe du disque.</p></li><li id="r-166120" data-claire-element-id="166120"><p id="r-166119" data-claire-element-id="166119"><strong>slices</strong> est, comme précédemment, le nombre de divisions autour de l'axe Z.</p></li><li id="r-166124" data-claire-element-id="166124"><p id="r-166122" data-claire-element-id="166122"><strong>loops</strong> ici ne sert pas à grand chose. Mettre une valeur différente de 1 rajouterait des faces à l'intérieur du disque mais ne rajoute pas de précision visible (à part en filaire).</p></li></ul><h6 id="r-le-disque-partiel" data-claire-element-id="166149">Le disque partiel</h6><figure id="r-166130" data-claire-element-id="166132"><img id="r-166129" data-claire-element-id="166129" src="./Tutoriel_sdz_kayl_OpenGL/10936.png" alt="Image utilisateur"></figure><p id="r-166134" data-claire-element-id="166134">gluPartialDisk(GLUquadric* params,inner,outer,slices,loops,start,sweep);</p><p id="r-166136" data-claire-element-id="166136">Le disque partiel est comme le disque normal sauf qu'il ne fait pas nécessairement 360°.</p><ul id="r-166144" data-claire-element-id="166144"><li id="r-166138" data-claire-element-id="166138"><p id="r-166137" data-claire-element-id="166137"><strong>start</strong> est l'angle de départ du disque partiel. Malheureusement pour nous, les concepteurs d'OpenGL n'ont pas suivi la logique mathématique qui voudrait que les angles soient exprimés dans le sens trigonométrique (sens inverse des aiguilles d'une montre) avec 0° sur l'axe X. Ici 0° pour start place le début du disque sur l'axe Y (vert), 90° sur l'axe X (rouge).</p></li><li id="r-166142" data-claire-element-id="166142"><p id="r-166140" data-claire-element-id="166140"><strong>sweep</strong> est la distance angulaire entre le début et la fin du disque partiel (180° sur le dessin plus haut).</p></li></ul><aside id="r-166147" data-claire-element-id="166147" data-claire-semantic="information"><p id="r-166146" data-claire-element-id="166146">La précision donnée par slices s'applique ici au disque partiel uniquement. Cela ne sert donc à rien de mettre une grande valeur (20) si on utilise un disque partiel de 90° seulement. Une précision de 5 peut suffire à avoir le même résultat de qualité sur un angle de 90° (par rapport à une précision de 20 pour un angle de 360°).</p></aside><h5 id="r-un-meme-gluquadric-pour-dessiner-plusieurs-quadriques" data-claire-element-id="166171">Un même GLUquadric pour dessiner plusieurs quadriques</h5><p id="r-166153" data-claire-element-id="166153">Vous l'avez compris maintenant, l'objet GLUquadric n'est pas un quadrique mais simplement un champ de paramètres utilisé lors de l'appel d'une fonction de dessin de quadrique pour spécifier le mode d'affichage. On peut donc tout à fait utiliser <em>le même GLUquadric</em> pour faire dessiner des quadriques tout en changeant, si on le souhaite, les paramètres en cours de route :</p><table id="r-166168" data-claire-element-id="166168"><tbody id="r-166166" data-claire-element-id="166166"><tr id="r-166164" data-claire-element-id="166164"><td id="r-166157" data-claire-element-id="166157"><pre id="r-166155" data-claire-element-id="166155"><code data-claire-semantic="cpp">glBindTexture(GL_TEXTURE_2D,texture1);

    GLUquadric* params = gluNewQuadric();

    gluQuadricDrawStyle(params,GLU_LINE);
    gluCylinder(params,1,1,2,20,1);

    gluQuadricDrawStyle(params,GLU_FILL);
    gluQuadricTexture(params,GL_TRUE);
    glTranslated(0,0,1);
    gluSphere(params,0.75,20,20);

    gluDeleteQuadric(params);</code></pre></td><td id="r-166160" data-claire-element-id="166162"><img id="r-166161" data-claire-element-id="166160" src="./Tutoriel_sdz_kayl_OpenGL/10937.png" alt="Image utilisateur"><img id="r-166158" data-claire-element-id="166158" src="./Tutoriel_sdz_kayl_OpenGL/10937.png" alt="Image utilisateur"></td></tr></tbody></table>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
<span class="arrow"></span>
<span class="next">Principe d'utilisation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
<span class="next">Exercice : une roquette</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Exerciceuneroquette"></a><h2>Exercice : une roquette</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
<span class="arrow"></span>
<span class="next">Les quadriques</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">
<span class="next">Contrôle avancé de la caméra (Partie 1/2)</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-exercice-une-roquette" data-claire-element-id="166283">Exercice : une roquette</h4><p id="r-166177" data-claire-element-id="166177">Ce chapitre n'a rien de compliqué mais jusqu'à présent j'ai fait tout le boulot en vous détaillant les fonctions pour utiliser les quadriques. Maintenant à vous ! :diable: <br> Pour vous faire la main sur ces nouvelles fonctions je vous propose de créer <strong>une roquette</strong>, basée sur celles que l'on trouve dans le jeu Half-Life premier du nom. Mon but n'est pas de faire de vous des apprentis terroristes mais juste des pros des quadriques ! :ange:</p><figure id="r-166181" data-claire-element-id="166183"><img id="r-166179" data-claire-element-id="166179" src="./Tutoriel_sdz_kayl_OpenGL/10940.jpg" alt="Image utilisateur"></figure><p id="r-166185" data-claire-element-id="166185"><em>Une roquette inspirée d'Half-Life</em></p><h5 id="r-les-textures-4" data-claire-element-id="166188">Les textures</h5><p id="r-166186" data-claire-element-id="166186">Les textures sont elles aussi tirées d'Half-Life et légèrement modifiées par mes soins. Vous les trouverez dans le pack ci-dessous (et dans le zip final).</p><p id="r-166187" data-claire-element-id="166187"><a href="http://sdz.tdct.org/sdz/medias/www.siteduzero.com_uploads_fr_ftp_kayl_rocket_textures.zip">Téléchargez les textures pour la roquette (4.53 Ko)</a></p><h5 id="r-schema-de-la-roquette" data-claire-element-id="166215">Schéma de la roquette</h5><figure id="r-166191" data-claire-element-id="166192"><img id="r-166190" data-claire-element-id="166190" src="./Tutoriel_sdz_kayl_OpenGL/10941.png" alt="Image utilisateur"></figure><p id="r-166195" data-claire-element-id="166195">Comme vous pouvez le voir, la roquette est constituée de quatre éléments :</p><ol id="r-166212" data-claire-element-id="166212"><li id="r-166198" data-claire-element-id="166198"><p id="r-166197" data-claire-element-id="166197">un cône supérieur (texture rocket_top.jpg) ;</p></li><li id="r-166202" data-claire-element-id="166202"><p id="r-166200" data-claire-element-id="166200">un cône intermédiaire (texture rocket_middle.jpg) ;</p></li><li id="r-166206" data-claire-element-id="166206"><p id="r-166205" data-claire-element-id="166205">un cône inférieur (texture rocket_bottom.jpg) ;</p></li><li id="r-166211" data-claire-element-id="166211"><p id="r-166209" data-claire-element-id="166209">et enfin, ça ne se voit pas trop sur le schéma, un disque (texture rocket_motor.jpg).</p></li></ol><h5 id="r-methode-pour-la-coder" data-claire-element-id="166259">Méthode pour la coder</h5><p id="r-166218" data-claire-element-id="166218">Pour coder la roquette il nous faut donc procéder en deux étapes :</p><ul id="r-166250" data-claire-element-id="166250"><li id="r-166222" data-claire-element-id="166222"><p id="r-166220" data-claire-element-id="166220">au lancement du programme il faut : charger toutes les textures utilisées ;</p></li><li id="r-166248" data-claire-element-id="166248"><p id="r-166223" data-claire-element-id="166223">au moment de dessiner il faut :</p><ol id="r-166246" data-claire-element-id="166246"><li id="r-166226" data-claire-element-id="166226"><p id="r-166225" data-claire-element-id="166225">créer un GLUquadric ;</p></li><li id="r-166230" data-claire-element-id="166230"><p id="r-166228" data-claire-element-id="166228">paramétrer le quadrique pour qu'il génère les coordonnées de texture automatiquement ;</p></li><li id="r-166233" data-claire-element-id="166233"><p id="r-166232" data-claire-element-id="166232">dessiner le premier objet ;</p></li><li id="r-166235" data-claire-element-id="166235"><p id="r-166234" data-claire-element-id="166234">se translater à la base du deuxième objet ;</p></li><li id="r-166237" data-claire-element-id="166237"><p id="r-166236" data-claire-element-id="166236">dessiner le deuxième objet ;</p></li><li id="r-166240" data-claire-element-id="166240"><p id="r-166239" data-claire-element-id="166239">etc.</p></li><li id="r-166244" data-claire-element-id="166244"><p id="r-166242" data-claire-element-id="166242">détruire le GLUquadric.</p></li></ol></li></ul><aside id="r-166253" data-claire-element-id="166253" data-claire-semantic="warning"><p id="r-166251" data-claire-element-id="166251">La phase <em>se translater</em> est importante. Comme nous l'avons vu sur les schémas des différents types de quadriques, ils sont toujours dessinés à partir de (0,0,0) dans le <strong>repère local</strong>. En utilisant intelligemment les transformations, il est donc possible de placer chaque quadrique où on le souhaite.</p></aside><p id="r-166255" data-claire-element-id="166255">N'oubliez pas non plus de changer de texture entre chaque quadrique pour ne pas vous retrouver avec une roquette uniformément... moche. ;)</p><p id="r-166256" data-claire-element-id="166256">Voilà vous avez tous les outils pour dessiner cette roquette. Référez-vous bien au schéma que je vous donne pour respecter les proportions. Toute roquette déformée ne sera pas acceptée pour une utilisation sur le terrain ! (Hum...)</p><p id="r-166257" data-claire-element-id="166257"><strong>À vous donc !</strong></p><h5 id="r-correction-69" data-claire-element-id="166280">Correction</h5><p id="r-166262" data-claire-element-id="166262">Je ne vous mets ici que le code intéressant. Je pars du principe que vous savez parfaitement charger les textures et initialiser l'application. Je fournis bien entendu le code complet dans l'archive finale.</p><pre id="r-166264" data-claire-element-id="166264"><code data-claire-semantic="cpp">/* J'ai choisi de faire une fonction Dessiner Rocket.
Je pourrai ainsi l'appeler plusieurs fois, et dans n'importe quelle
position initiale du repère initial */
void DrawRocket()
{
    glPushMatrix(); //pour que les transformations soient réversibles

    GLUquadric* params = gluNewQuadric(); //création du quadrique
    gluQuadricTexture(params,GL_TRUE); //activation des coordonnées de texture

    glBindTexture(GL_TEXTURE_2D,top); //texture du haut
    gluCylinder(params,0.5,0,1.6,20,1); //cône 1

    glBindTexture(GL_TEXTURE_2D,middle);
    glTranslated(0,0,-1.05); //je descends pour faire le 2ème cône
    gluCylinder(params,0.15,0.5,1.05,20,1); //cône 2

    glBindTexture(GL_TEXTURE_2D,bottom);
    glTranslated(0,0,-0.25); //je descends enfin tout en bas (sur le schéma)
    gluCylinder(params,0.3,0.15,0.25,20,1); //cône 3

    //et à la même position je dessine le disque de sortie des flammes
    glBindTexture(GL_TEXTURE_2D,motor);
    gluDisk(params,0,0.3,20,1); //disque 4

    gluDeleteQuadric(params); //je supprime le quadrique

    glPopMatrix(); //hop je remets tout comme je l'ai trouvé
}

void DrawGL()
{
    glClear( GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT );

    glMatrixMode( GL_MODELVIEW );
    glLoadIdentity( );
    gluLookAt(3,4,2,0,0,0,0,0,1); //je place la caméra à un endroit idéal

    DrawRocket(); //je dessine la 1ère roquette

    glTranslated(2,0,0); //je me déplace pour la 2ème roquette
    glRotated(90,1,0,0); /*je vais tourner celle-là pour que son axe principal
    soit horizontal */
    DrawRocket(); //et je la dessine

    glFlush();
    SDL_GL_SwapBuffers();
}</code></pre><p id="r-166265" data-claire-element-id="166265">Comme vous le voyez j'ai décidé personnellement de faire une <a href="http://www.siteduzero.com/tuto-3-2842-1-les-fonctions.html">fonction</a> pour dessiner la roquette. Je peux ainsi dessiner autant de roquettes que je veux sans alourdir le code.</p><h6 id="r-ameliorations-9" data-claire-element-id="166277">Améliorations</h6><p id="r-166267" data-claire-element-id="166267">Vous pouvez, si vous le souhaitez, créer une sphère représentant la Terre (avec la texture EarthLow.jpg du pack final) autour de laquelle la roquette tournerait.<br>Conseil : pour faire tourner la roquette autour de la Terre il suffit de bien réfléchir à l'ordre des transformations à faire. Comme ce n'est pas le but de cet exercice, qui se veut simple et rapide, je vous laisse imaginer la solution adéquate.</p><figure id="r-166270" data-claire-element-id="166272"><img id="r-166269" data-claire-element-id="166269" src="./Tutoriel_sdz_kayl_OpenGL/10942.jpg" alt="Image utilisateur"></figure><p id="r-166275" data-claire-element-id="166275"><a href="http://sdz.tdct.org/sdz/medias/www.siteduzero.com_uploads_fr_ftp_kayl_sdlgl_07_roquette.zip">Téléchargez le projet Code::Blocks, l'exécutable Windows et le Makefile Unix (391 Ko)</a></p><p id="r-166276" data-claire-element-id="166276">Les quadriques, c'est fantastique et c'est magique ! Loin d'être mystiques elles sont quand même vachement pratiques ! :soleil: <br> C'est une solution très simple pour ajouter des objets un peu complexes dans vos scènes en attendant de savoir charger de vrais modèles 3D créés dans des logiciels 3D externes (Blender, 3dSmax...).<br> Dans le prochain chapitre nous verrons comment contrôler la caméra de manière plus poussée, et réaliserons entre autres un dérivé de Google Earth sans prétention qui utilisera justement la sphère. Que de bonheur en perspective !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
<span class="arrow"></span>
<span class="next">Les quadriques</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">
<span class="next">Contrôle avancé de la caméra (Partie 1/2)</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="ContrleavancdelacamraPartie1_2"></a><h2>Contrôle avancé de la caméra (Partie 1/2)</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
<span class="arrow"></span>
<span class="next">Exercice : une roquette</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
<span class="next">Principe d'une caméra TrackBall</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div class="content">
<p id="r-166290" data-claire-element-id="166290">Ce chapitre en deux parties vient présenter comment créer des caméras contrôlables dans vos applications OpenGL. Fini donc le calvaire de prévoir précisément dans le code la position/orientation de la caméra.<br> Nous commencerons dans ce chapitre par une caméra <strong>Trackball</strong>, assez simple à implémenter et qui nous permettra d'introduire le concept de classes en C++.</p>
</div><a name="Principed039unecamraTrackBall"></a><h2>Principe d'une caméra TrackBall</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">
<span class="arrow"></span>
<span class="next">Contrôle avancé de la caméra (Partie 1/2)</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
<span class="next">Quelques bases de C++</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-principe-d-une-camera-trackball" data-claire-element-id="166360">Principe d'une caméra TrackBall</h4><p id="r-166292" data-claire-element-id="166292">Le nom <strong>TrackBall</strong> vient de ce périphérique bizarre qui remplace la souris où l'on tourne directement une boule. Ici j'ai librement tiré le terme du logiciel multiplate-forme Google Earth :</p><figure id="r-166295" data-claire-element-id="166297"><img id="r-166294" data-claire-element-id="166294" src="./Tutoriel_sdz_kayl_OpenGL/12031.jpg" alt="Image utilisateur"></figure><p id="r-166299" data-claire-element-id="166299"><em>Google Earth</em></p><p id="r-166301" data-claire-element-id="166301">Dans <a href="http://www.commentcamarche.net/download/telecharger-34055136-google-earth">Google Earth</a> en effet on utilise la souris pour tourner autour de la Terre. Nous allons donc reproduire ce principe qui nous permettra d'avoir une caméra permettant de regarder un objet / une partie d'une scène sous tous les angles.</p><h5 id="r-rotation-a-la-souris" data-claire-element-id="166328">Rotation à la souris</h5><p id="r-166303" data-claire-element-id="166303">En maintenant le bouton gauche de la souris enfoncé, les mouvements de la souris feront tourner la scène :</p><ul id="r-166311" data-claire-element-id="166311"><li id="r-166306" data-claire-element-id="166306"><p id="r-166304" data-claire-element-id="166304">un mouvement horizontal de la souris donne une rotation horizontale de la scène (donc autour de sa verticale).</p></li><li id="r-166309" data-claire-element-id="166309"><p id="r-166308" data-claire-element-id="166308">un mouvement vertical de la souris donne une rotation verticale de la scène.</p></li></ul><p id="r-166313" data-claire-element-id="166313">Ces mouvements sont illustrés par les schémas ci-dessous :</p><figure id="r-166315" data-claire-element-id="166316"><img id="r-166314" data-claire-element-id="166314" src="./Tutoriel_sdz_kayl_OpenGL/12032.png" alt="Image utilisateur"></figure><p id="r-166318" data-claire-element-id="166318"><em>Mouvement horizontal de la souris</em></p><figure id="r-166322" data-claire-element-id="166323"><img id="r-166320" data-claire-element-id="166320" src="./Tutoriel_sdz_kayl_OpenGL/12033.png" alt="Image utilisateur"></figure><p id="r-166324" data-claire-element-id="166324"><em>Mouvement vertical de la souris</em></p><aside id="r-166327" data-claire-element-id="166327" data-claire-semantic="information"><p id="r-166326" data-claire-element-id="166325">Notez au passage, et nous verrons l'équivalent dans le code, que ce n'est pas vraiment la caméra qui <strong>tourne</strong> mais la <strong>scène</strong>, même si cela revient plus ou moins au même. Ce n'est le cas que pour ce type de caméra. Pour la caméra <strong>FreeFly</strong> que nous verrons après c'est bel et bien la caméra et non la scène qui bougera.</p></aside><h5 id="r-zoom-a-la-molette" data-claire-element-id="166347">Zoom à la molette</h5><p id="r-166334" data-claire-element-id="166334">Pour prendre du recul ou au contraire nous rapprocher de l'objet / scène que nous souhaitons visualiser, nous allons tout simplement utiliser la molette. Un coup de molette en avant pour zoomer, un coup de molette en arrière pour dézoomer, rien de plus intuitif :</p><figure id="r-166338" data-claire-element-id="166339"><img id="r-166336" data-claire-element-id="166335" src="./Tutoriel_sdz_kayl_OpenGL/12034.png" alt="Image utilisateur"></figure><p id="r-166341" data-claire-element-id="166341"><em>Rotation de la roulette de la souris</em></p><aside id="r-166345" data-claire-element-id="166345" data-claire-semantic="information"><p id="r-166343" data-claire-element-id="166343">Ici c'est bien la caméra qui bouge, nous verrons une fois encore comment cela se répercute sur le code.</p></aside><h5 id="r-et-le-clavier" data-claire-element-id="166357">Et le clavier ?</h5><p id="r-166350" data-claire-element-id="166350">Il est possible d'arguer que toutes les souris ne possèdent pas de molette. Dans ce cas-là rien ne vous empêche d'utiliser le clavier pour dézoomer.<br> Ici nous n'utiliserons le clavier que pour une chose : réintialiser la rotation de la scène avec la touche</p><figure id="r-166352" data-claire-element-id="166354"><img id="r-166351" data-claire-element-id="166351" src="./Tutoriel_sdz_kayl_OpenGL/12035.png" alt="Image utilisateur"></figure><p id="r-166356" data-claire-element-id="166356">(SDLK_HOME avec SDL).</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">
<span class="arrow"></span>
<span class="next">Contrôle avancé de la caméra (Partie 1/2)</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
<span class="next">Quelques bases de C++</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="QuelquesbasesdeC"></a><h2>Quelques bases de C++</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
<span class="arrow"></span>
<span class="next">Principe d'une caméra TrackBall</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
<span class="next">Implémentation de la caméra</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-quelques-bases-de-c" data-claire-element-id="166468">Quelques bases de C++</h4><p id="r-166363" data-claire-element-id="166363">Maintenant que nous savons ce que nous voulons faire avec notre caméra, il faut faire un petit intermède apprentissage du C++.<br> Nous allons en effet utiliser et regrouper toutes les fonctionnalités de notre caméra dans une <strong>classe</strong> : TrackBallCamera.</p><p id="r-166365" data-claire-element-id="166365">Le cours de M@teo expliquera le concept des classes en détail. Voyons pour l'instant ça comme une extension d'une <a href="http://www.siteduzero.com/tuto-3-4350-1-creez-vos-propres-types-de-variables.html"><strong>structure</strong></a>.</p><p id="r-166367" data-claire-element-id="166367">Rappelez-vous en C un struct permettait de stocker plusieurs champs dans un même type :</p><pre id="r-166368" data-claire-element-id="166368"><code data-claire-semantic="c">struct NomDeVotreStructure
{
    long variable1;
    long variable2;
    int autreVariable;
    double nombreDecimal;
};</code></pre><p id="r-166370" data-claire-element-id="166370">Une classe possède, en plus des <strong>attributs</strong>, des <strong>méthodes</strong>. Ces méthodes sont comme des <strong>fonctions</strong> qui s'appliquent aux <strong>instances</strong> de cette classe.</p><div id="r-166374" data-claire-element-id="166374" data-claire-semantic="question"><p id="r-166372" data-claire-element-id="166372">Ouh là là beaucoup de mots nouveaux ! Instances par exemple c'est quoi ?</p></div><p id="r-166376" data-claire-element-id="166376">Imaginons une classe nommée Chaise. Une chaise a certains attributs : hauteur, nombre de pieds, matière.<br> On écrira donc :</p><pre id="r-166378" data-claire-element-id="166378"><code data-claire-semantic="cpp">class Chaise
{
protected:
        int hauteur;
        int nombre_de_pieds;
        string matiere;
}</code></pre><p id="r-166380" data-claire-element-id="166380">Une fois la classe déclarée, dans le c%u0153ur du programme on veut pouvoir en utiliser (des chaises). On crée donc des « instances » de la classe « Chaise » en déclarant simplement une variable de type Chaise.<br> Exemple :</p><pre id="r-166382" data-claire-element-id="166382"><code data-claire-semantic="cpp">Chaise machaise;</code></pre><aside id="r-166384" data-claire-element-id="166384" data-claire-semantic="information"><p id="r-166383" data-claire-element-id="166383">Notez qu'en C++ les structures et les classes sont automatiquement des types. Nul besoin donc d'écrire un typedef Class Chaise Chaise; par exemple.</p></aside><p id="r-166385" data-claire-element-id="166385">Vous avez pu voir un mot bizarre dans mon exemple : <strong>protected</strong>. Sans rentrer dans le détail, cela veut dire que les attributs déclarés protected ne sont pas accessibles de l'extérieur de la classe mais uniquement par ses méthodes.</p><div id="r-166388" data-claire-element-id="166388" data-claire-semantic="question"><p id="r-166386" data-claire-element-id="166386">Les méthodes justement c'est quoi ?</p></div><p id="r-166389" data-claire-element-id="166389">Une méthode est comme une fonction mais elle s'applique à une instance précise de la classe.<br> Reprenons notre exemple de la chaise. Imaginons que nous voulions enlever un pied à notre chaise.<br> En C nous aurions dû utiliser une fonction enleverPied en passant en paramètre quelle chaise modifier.</p><p id="r-166390" data-claire-element-id="166390">En C++ on appelle directement une méthode sur une instance de la classe.<br> Exemple :</p><p id="r-166392" data-claire-element-id="166392"><em><strong>La déclaration de la classe Chaise dans Chaise.h</strong></em></p><pre id="r-166394" data-claire-element-id="166394"><code data-claire-semantic="cpp">class Chaise
{
public:
        void enleverPied();
protected:
        int hauteur;
        int nombre_de_pieds;
        string matiere;
};</code></pre><p id="r-166396" data-claire-element-id="166396"><em><strong>L'implémentation des méthodes de la classe Chaise dans Chaise.cpp</strong></em></p><pre id="r-166397" data-claire-element-id="166397"><code data-claire-semantic="cpp">#include "chaise.h"

void Chaise::enleverPied()
{
        nombre_de_pieds--;
}</code></pre><p id="r-166398" data-claire-element-id="166398"><em><strong>Appel dans le corps du programme</strong></em><br> Et maintenant ce qui nous intéresse, l'appel de la méthode enleverPied sur une instance :</p><pre id="r-166400" data-claire-element-id="166400"><code data-claire-semantic="cpp">Chaise machaise;
machaise.enleverPied();</code></pre><p id="r-166402" data-claire-element-id="166402">Comme vous le voyez on appelle une méthode comme on utiliserait un attribut : instance.laméthode();<br> Quand le programme entre dans le code de la méthode il l'applique donc à l'instance souhaitée, et utilise donc les attributs propres à l'instance en question.</p><aside id="r-166404" data-claire-element-id="166404" data-claire-semantic="information"><p id="r-166403" data-claire-element-id="166403">Notez qu'ici je mets la méthode en public et non protected pour pouvoir l'appeler de l'extérieur de la classe (c'est-à-dire à partir du corps du programme).</p></aside><h6 id="r-deux-methodes-particulieres" data-claire-element-id="166465">Deux méthodes particulières</h6><p id="r-166406" data-claire-element-id="166406">Il existe deux méthodes particulières qui ne sont pas appelées directement par l'utilisateur : le constructeur et le destructeur.</p><p id="r-166407" data-claire-element-id="166407">Le <strong>constructeur </strong>est appelé lorsque l'objet est initialisé, généralement à sa déclaration.<br> C'est une méthode sans type de retour, qui porte le nom de la classe, et qui permet d'initialiser les attributs à des valeurs initiales :</p><p id="r-166410" data-claire-element-id="166410">Exemple :</p><p id="r-166412" data-claire-element-id="166412"><em><strong>Déclaration du constructeur dans Chaise.h</strong></em></p><pre id="r-166413" data-claire-element-id="166413"><code data-claire-semantic="cpp">Class Chaise
{
public:
        Chaise(); //un constructeur ne renvoit rien mais peut éventuellement avoir des paramètres
        void enleverPied();
protected:
        int hauteur;
        int nombre_de_pieds;
        string matiere;
};</code></pre><p id="r-166415" data-claire-element-id="166415"><em><strong>Implémentation du constructeur dans Chaise.cpp</strong></em></p><pre id="r-166416" data-claire-element-id="166416"><code data-claire-semantic="cpp">Chaise::Chaise()
{
        hauteur = 1;
        nombre_de_pieds = 4;
        matiere = "bois";
}</code></pre><p id="r-166418" data-claire-element-id="166418">Et donc ce constructeur sera appelé dès qu'on instanciera un objet dans le corps principal du programme :</p><pre id="r-166419" data-claire-element-id="166419"><code data-claire-semantic="cpp">Chaise machaise; //déclenche l'appel du constructeur
machaise.enleverPied(); //je sais donc que maintenant elle en a 3 car une chaise a 4 pieds au départ grâce au contructeur</code></pre><p id="r-166420" data-claire-element-id="166420">Le <strong>destructeur</strong> quant à lui est appelé automatiquement quand on détruit l'objet. Dans le cas présent je n'ai rien de spécial à faire dans le destructeur, mais si nous avions alloué de la mémoire dynamiquement (attributs dynamiques de la classe), c'est dans le destructeur qu'il faut les détruire pour ne pas faire de fuite de mémoire. Comme le constructeur, le destructeur porte le nom de la classe précédé du symbole « <strong>~</strong> ». Ici je vais me contenter d'afficher un message lors de la destruction :</p><p id="r-166423" data-claire-element-id="166423"><em><strong>Déclaration du destructeur dans Chaise.h</strong></em></p><pre id="r-166424" data-claire-element-id="166424"><code data-claire-semantic="cpp">Class Chaise
{
public:
        Chaise(); //un constructeur ne renvoie rien mais peut éventuellement avoir des arguments
        void enleverPied();
        ~Chaise(); //un destructeur ne renvoie rien, n'a pas d'arguments, et se précède du symbole ~
protected:
        int hauteur;
        int nombre_de_pieds;
        string matiere;
};</code></pre><p id="r-166426" data-claire-element-id="166426"><em><strong>Implémentation du destructeur dans Chaise.cpp</strong></em></p><pre id="r-166428" data-claire-element-id="166428"><code data-claire-semantic="cpp">#include &lt;iostream&gt;
...
Chaise::~Chaise()
{
        std::cout &lt;&lt; "Au revoir petite chaise." &lt;&lt; std::endl;
}</code></pre><p id="r-166429" data-claire-element-id="166429">Dans le corps du programme l'appel au destructeur est automatique à la fin du bloc où l'instance est déclarée.<br> Exemple :</p><pre id="r-166430" data-claire-element-id="166430"><code data-claire-semantic="cpp">int main()
{
        Chaise machaise; //appel du constructeur
        machaise.enleverPied(); //la pauvre ça doit faire mal

        return 0; //on quitte le bloc du main, donc on détruit toutes les variables -&gt; appel automatique du destructeur de Chaise sur l'instance machaise.
}</code></pre><h5 id="r-allocation-dynamique-2" data-claire-element-id="166442">Allocation dynamique</h5><p id="r-166432" data-claire-element-id="166432">Si vous en êtes à la lecture du tuto OpenGL c'est que vous connaissez sûrement <a href="http://www.siteduzero.com/tuto-3-4830-1-l-allocation-dynamique.html">l'allocation dynamique</a> en C :</p><pre id="r-166434" data-claire-element-id="166434"><code data-claire-semantic="c">struct Chaise * machaise;
machaise = malloc(sizeof(struct Chaise));</code></pre><p id="r-166435" data-claire-element-id="166435">En C++ on utilise généralement l'opérateur <strong>new</strong> comme ceci :</p><pre id="r-166436" data-claire-element-id="166436"><code data-claire-semantic="cpp">Chaise * machaise;
machaise = new Chaise();</code></pre><p id="r-166438" data-claire-element-id="166438">On note ici l'utilisation des ( ) après Chaise qui montre clairement qu'on cherche à construire un objet. Une fois la mémoire allouée, le constructeur de la classe est donc automatiquement appelé.</p><p id="r-166439" data-claire-element-id="166439">Pour la destruction, <strong>delete</strong> remplace le free que vous connaissez :</p><pre id="r-166441" data-claire-element-id="166441"><code data-claire-semantic="cpp">Chaise * machaise;
machaise = new Chaise();
machaise-&gt;enleverPied();
delete machaise;</code></pre><h5 id="r-representation-uml" data-claire-element-id="166461">Représentation UML</h5><p id="r-166445" data-claire-element-id="166445">Je ne vais pas vous faire un cours de modélisation UML mais juste vous présenter une manière graphique de représenter une classe. J'utiliserai ce symbolisme tout au long du tuto pour résumer brièvement les fonctionnalités d'une classe :</p><figure id="r-166449" data-claire-element-id="166451"><img id="r-166447" data-claire-element-id="166447" src="./Tutoriel_sdz_kayl_OpenGL/12036.png" alt="Image utilisateur"></figure><p id="r-166454" data-claire-element-id="166454">Ce qui donne par exemple pour reprendre notre chère chaise :</p><figure id="r-166457" data-claire-element-id="166459"><img id="r-166455" data-claire-element-id="166455" src="./Tutoriel_sdz_kayl_OpenGL/12037.png" alt="Image utilisateur"></figure>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
<span class="arrow"></span>
<span class="next">Principe d'une caméra TrackBall</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
<span class="next">Implémentation de la caméra</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Implmentationdelacamra"></a><h2>Implémentation de la caméra</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
<span class="arrow"></span>
<span class="next">Quelques bases de C++</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
<span class="next">Scène de test</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-implementation-de-la-camera" data-claire-element-id="166636">Implémentation de la caméra</h4><p id="r-166476" data-claire-element-id="166476">Nous allons implémenter la caméra TrackBall avec le concept de classe que nous venons de voir.<br> Nous l'avons vu plus haut il nous faut gérer trois types d'événements :</p><ul id="r-166488" data-claire-element-id="166488"><li id="r-166479" data-claire-element-id="166479"><p id="r-166478" data-claire-element-id="166478">l'appui sur le bouton gauche de la souris : nous n'activerons le mouvement à la souris que si ce bouton est enfoncé ;</p></li><li id="r-166482" data-claire-element-id="166482"><p id="r-166481" data-claire-element-id="166481">le mouvement de la souris : pour changer l'orientation de la scène ;</p></li><li id="r-166486" data-claire-element-id="166486"><p id="r-166485" data-claire-element-id="166485">l'appui sur la touche HOME pour remettre l'orientation de la scène à sa valeur initiale.</p></li></ul><p id="r-166491" data-claire-element-id="166491">Dans le corps principal de notre programme SDL (partie suivante) nous devrons donc envoyer les événements nécessaires au fonctionnement de la caméra.</p><p id="r-166494" data-claire-element-id="166493">Vous savez comment placer une caméra manuellement avec gluLookAt. Ici c'est la méthode look de notre classe TrackBallCamera qui s'occupera d'appeler le gluLookAt pour nous. Dans le code d'affichage de la scène nous n'aurons donc qu'à appeler cette méthode.</p><p id="r-166495" data-claire-element-id="166495">Nous allons aussi rajouter deux autres méthodes pour configurer la sensibilité de notre caméra :</p><ul id="r-166503" data-claire-element-id="166503"><li id="r-166498" data-claire-element-id="166498"><p id="r-166496" data-claire-element-id="166496">setMotionSensivity : pour déterminer la vitesse de rotation de la scène en fonction du mouvement en pixel du curseur de la souris ;</p></li><li id="r-166502" data-claire-element-id="166502"><p id="r-166500" data-claire-element-id="166500">setScrollSensivity : pour déterminer de combien zoomer/dézoomer lorsque l'on utilise la molette de la souris.</p></li></ul><p id="r-166506" data-claire-element-id="166506">Tout cela se traduit donc de la façon suivante en UML et C++ :</p><table id="r-166530" data-claire-element-id="166530"><thead id="r-166516" data-claire-element-id="166516"><tr id="r-166514" data-claire-element-id="166514"><th id="r-166510" data-claire-element-id="166509"><p id="r-166508" data-claire-element-id="166508">UML simplifié</p></th><th id="r-166512" data-claire-element-id="166512"><p id="r-166511" data-claire-element-id="166511">Déclaration C++</p></th></tr></thead><tbody id="r-166528" data-claire-element-id="166528"><tr id="r-166526" data-claire-element-id="166525"><td id="r-166518" data-claire-element-id="166520"><img id="r-166520" data-claire-element-id="166519" src="./Tutoriel_sdz_kayl_OpenGL/12038.png" alt="Image utilisateur"><img id="r-166517" data-claire-element-id="166517" src="./Tutoriel_sdz_kayl_OpenGL/12038.png" alt="Image utilisateur"></td><td id="r-166523" data-claire-element-id="166523"><pre id="r-166521" data-claire-element-id="166521"><code data-claire-semantic="cpp">class TrackBallCamera
{
public:
    TrackBallCamera();

    virtual void OnMouseMotion(const SDL_MouseMotionEvent &amp; event);
    virtual void OnMouseButton(const SDL_MouseButtonEvent &amp; event);
    virtual void OnKeyboard(const SDL_KeyboardEvent &amp; event);

    virtual void look();
    virtual void setMotionSensivity(double sensivity);
    virtual void setScrollSensivity(double sensivity);

    virtual ~TrackBallCamera();
protected:
    double _motionSensivity;
    double _scrollSensivity;
    bool _hold;
    double _distance;
    double _angleY;
    double _angleZ;
    SDL_Cursor * _hand1;
    SDL_Cursor * _hand2;
};;</code></pre></td></tr></tbody></table><p id="r-166532" data-claire-element-id="166532">J'en ai profité pour rajouter tous les attributs que nous allons utiliser. Une petite explication s'impose donc :</p><ul id="r-166557" data-claire-element-id="166557"><li id="r-166536" data-claire-element-id="166536"><p id="r-166534" data-claire-element-id="166534"><strong>double _motionSensivity</strong> : utilisé pour stocker la sensibilité de la caméra aux mouvements de la souris ;</p></li><li id="r-166541" data-claire-element-id="166541"><p id="r-166538" data-claire-element-id="166538"><strong>double _scrollSensivity</strong> : sensibilité de la caméra au scroll de la souris (« pas » d'un déplacement) ;</p></li><li id="r-166545" data-claire-element-id="166545"><p id="r-166543" data-claire-element-id="166543"><strong>bool _hold</strong> : est-on actuellement en train de maintenir le bouton gauche de la souris enfoncé ?</p></li><li id="r-166549" data-claire-element-id="166549"><p id="r-166547" data-claire-element-id="166547"><strong>double _distance</strong> : distance entre la caméra et le centre de la scène ;</p></li><li id="r-166552" data-claire-element-id="166552"><p id="r-166551" data-claire-element-id="166551"><strong>double _angleY</strong> : angle de rotation verticale de la scène (en vert sur le schéma plus haut) ;</p></li><li id="r-166556" data-claire-element-id="166556"><p id="r-166555" data-claire-element-id="166554"><strong>double _angleZ</strong> : angle de rotation horizontale de la scène (donc autour de la verticale, en bleu sur le schéma).</p></li></ul><p id="r-166559" data-claire-element-id="166559">Les deux derniers attributs sont les deux curseurs de la souris que nous utiliserons :</p><figure id="r-166561" data-claire-element-id="166563"><img id="r-166560" data-claire-element-id="166560" src="./Tutoriel_sdz_kayl_OpenGL/12039.png" alt="Image utilisateur"></figure><p id="r-166564" data-claire-element-id="166564"><strong>_hand1</strong> en temps normal, <strong>_hand2</strong> quand le bouton gauche de la souris est enfoncé.</p><aside id="r-166567" data-claire-element-id="166567" data-claire-semantic="information"><p id="r-166566" data-claire-element-id="166566">Vous remarquerez au passage que je précède les attributs de la classe du symbole underscore « _ ». Cela permet dans l'implémentation des méthodes de distinguer plus rapidement variables temporaires (ou paramètres) et attributs. Vous n'êtes bien sûr pas forcés de suivre cette règle.</p></aside><h5 id="r-constructeur-3" data-claire-element-id="166578">Constructeur</h5><p id="r-166569" data-claire-element-id="166569">Dans le constructeur nous allons simplement initialiser tous les attributs à des valeurs initiales connues. Il ne faut rien laisser qui puisse être utilisé sans avoir été initialisé.</p><p id="r-166571" data-claire-element-id="166571">La partie la moins évidente est peut-être la création des deux curseurs. Pour faciliter les choses j'ai relégué tout le travail dans une fonction rajoutée à <em>sdlglutils</em> : cursorFromXPM (fournie dans l'archive finale).</p><pre id="r-166572" data-claire-element-id="166572"><code data-claire-semantic="cpp">TrackBallCamera::TrackBallCamera()
{
    const char *hand1[] =
        {
            /* width height num_colors chars_per_pixel */
            " 16 16 3 1 ",
            /* colors */
            "X c #000000",
            ". c #ffffff",
            "  c None",
            /* pixels */
            "       XX       ",
            "   XX X..XXX    ",
            "  X..XX..X..X   ",
            "  X..XX..X..X X ",
            "   X..X..X..XX.X",
            "   X..X..X..X..X",
            " XX X.......X..X",
            "X..XX..........X",
            "X...X.........X ",
            " X............X ",
            "  X...........X ",
            "  X..........X  ",
            "   X.........X  ",
            "    X.......X   ",
            "     X......X   ",
            "     X......X   ",
            "0,0"
        };

    const char *hand2[] =
        {
            /* width height num_colors chars_per_pixel */
            " 16 16 3 1 ",
            /* colors */
            "X c #000000",
            ". c #ffffff",
            "  c None",
            /* pixels */
            "                ",
            "                ",
            "                ",
            "                ",
            "    XX XX XX    ",
            "   X..X..X..XX  ",
            "   X........X.X ",
            "    X.........X ",
            "   XX.........X ",
            "  X...........X ",
            "  X...........X ",
            "  X..........X  ",
            "   X.........X  ",
            "    X.......X   ",
            "     X......X   ",
            "     X......X   ",
            "0,0"
        };
    _hand1 = cursorFromXPM(hand1); //création du curseur normal
    _hand2 = cursorFromXPM(hand2); //création du curseur utilisé quand le bouton est enfoncé
    SDL_SetCursor(_hand1); //activation du curseur normal
    _hold = false; //au départ on part du principe que le bouton n'est pas maintenu
    _angleY = 0;
    _angleZ = 0;
    _distance = 2; //distance initiale de la caméra avec le centre de la scène
    _motionSensivity = 0.3;
    _scrollSensivity = 1;
}</code></pre><aside id="r-166576" data-claire-element-id="166576" data-claire-semantic="warning"><p id="r-166574" data-claire-element-id="166574">Comme vous pouvez le voir, le constructeur fait appel à une fonction SDL, SDL_SetCursor, qui ne doit pas être exécutée avant la création de votre fenêtre SDL. De ce fait la caméra ne devra être créée qu'après l'initialisation de l'application.</p></aside><h5 id="r-on-mouse-motion" data-claire-element-id="166584">On Mouse Motion</h5><p id="r-166580" data-claire-element-id="166580">Cette méthode est la plus importante de la classe et pourtant l'une des plus courtes. Rappelez-vous le principe de la caméra : lorsque le curseur de la souris est bougé, si le bouton gauche de la souris est maintenu appuyé, alors la scène tourne. Voyons donc comment cela se traduit en code :</p><pre id="r-166582" data-claire-element-id="166582"><code data-claire-semantic="cpp">void TrackBallCamera::OnMouseMotion(const SDL_MouseMotionEvent &amp; event)
{
    if (_hold) //si nous maintenons le bouton gauche enfoncé
    {
        _angleZ += event.xrel*_motionSensivity; //mouvement sur X de la souris -&gt; changement de la rotation horizontale
        _angleY += event.yrel*_motionSensivity; //mouvement sur Y de la souris -&gt; changement de la rotation verticale
        //pour éviter certains problèmes, on limite la rotation verticale à des angles entre -90° et 90°
        if (_angleY &gt; 90)
            _angleY = 90;
        else if (_angleY &lt; -90)
            _angleY = -90;
    }
}</code></pre><h5 id="r-on-mouse-button" data-claire-element-id="166601">On Mouse Button</h5><p id="r-166587" data-claire-element-id="166587">Cette méthode nous permet de gérer deux choses :</p><ul id="r-166594" data-claire-element-id="166594"><li id="r-166590" data-claire-element-id="166590"><p id="r-166588" data-claire-element-id="166588">l'appui et le relâchement du bouton gauche de la souris ;</p></li><li id="r-166593" data-claire-element-id="166593"><p id="r-166592" data-claire-element-id="166592">le mouvement de la molette de la souris.</p></li></ul><aside id="r-166598" data-claire-element-id="166598" data-claire-semantic="information"><p id="r-166596" data-claire-element-id="166596">Lorsque l'on bouge la molette, deux événements successifs sont générés : SDL_MOUSEBUTTONDOWN et SDL_MOUSEBUTTONUP. Nous n'utiliserons donc que le premier.</p></aside><pre id="r-166599" data-claire-element-id="166599"><code data-claire-semantic="cpp">void TrackBallCamera::OnMouseButton(const SDL_MouseButtonEvent &amp; event)
{
    if (event.button == SDL_BUTTON_LEFT) //l'événement concerne le bouton gauche
    {
        if ((_hold)&amp;&amp;(event.type == SDL_MOUSEBUTTONUP)) //relâchement alors qu'on était enfoncé
        {
            _hold = false; //le mouvement de la souris ne fera plus bouger la scène
            SDL_SetCursor(_hand1); //on met le curseur normal
        }
        else if ((!_hold)&amp;&amp;(event.type == SDL_MOUSEBUTTONDOWN)) //appui alors qu'on était relâché
        {
            _hold = true; //le mouvement de la souris fera bouger la scène
            SDL_SetCursor(_hand2); //on met le curseur spécial
        }
    }
    else if ((event.button == SDL_BUTTON_WHEELUP)&amp;&amp;(event.type == SDL_MOUSEBUTTONDOWN)) //coup de molette vers le haut
    {
        _distance -= _scrollSensivity; //on zoome, donc rapproche la caméra du centre
        if (_distance &lt; 0.1) //distance minimale, à changer si besoin (avec un attribut par exemple)
            _distance = 0.1;
    }
    else if ((event.button == SDL_BUTTON_WHEELDOWN)&amp;&amp;(event.type == SDL_MOUSEBUTTONDOWN)) //coup de molette vers le bas
    {
            _distance += _scrollSensivity; //on dézoome donc éloigne la caméra
    }
}</code></pre><h5 id="r-onkeyboard" data-claire-element-id="166607">OnKeyboard</h5><p id="r-166603" data-claire-element-id="166603">La dernière méthode qui vient utiliser les événements est la gestion du clavier, pour l'appui sur la touche HOME. On se contente d'y remettre la rotation de la scène à zéro :</p><pre id="r-166605" data-claire-element-id="166605"><code data-claire-semantic="cpp">void TrackBallCamera::OnKeyboard(const SDL_KeyboardEvent &amp; event)
{
    if ((event.type == SDL_KEYDOWN)&amp;&amp;(event.keysym.sym == SDLK_HOME)) //appui sur la touche HOME
    {
        _angleY = 0; //remise à zéro des angles
        _angleZ = 0;
    }
}</code></pre><h5 id="r-look" data-claire-element-id="166627">Look</h5><p id="r-166610" data-claire-element-id="166610">Tout cela est bien beau, nous savons comment changer des variables avec la souris et le clavier mais ça ne fait en rien bouger la caméra dans notre scène. En effet nous n'avons pour l'instant pas vu la moindre commande OpenGL !<br> Il est donc temps de s'y mettre avec la méthode Look qui viendra remplacer, dans votre fonction d'affichage, l'appel à gluLookAt.</p><div id="r-166614" data-claire-element-id="166615" data-claire-semantic="question"><p id="r-166612" data-claire-element-id="166612">Remplacer gluLookAt ? Parce qu'il y a un truc mieux que tu nous as caché !! ?</p></div><p id="r-166616" data-claire-element-id="166616">Non non. La méthode Look appelle elle-même gluLookAt mais avec des paramètres qui dépendent de la position de la caméra, c'est pour ça que vous n'avez plus à l'appeler vous-mêmes.<br> Si on se réfère aux schémas en début de chapitre qui expliquent le principe de la caméra TrackBall, on remarque plusieurs choses :</p><ul id="r-166621" data-claire-element-id="166621"><li id="r-166618" data-claire-element-id="166618"><p id="r-166617" data-claire-element-id="166617">elle regarde le centre de la scène ;</p></li><li id="r-166620" data-claire-element-id="166620"><p id="r-166619" data-claire-element-id="166619">ce n'est pas la caméra mais la scène qui est tournée autour de Y et Z.</p></li></ul><p id="r-166622" data-claire-element-id="166622">Il suffit alors de traduire tout ça en code :</p><pre id="r-166624" data-claire-element-id="166624"><code data-claire-semantic="cpp">void TrackBallCamera::look()
{
    gluLookAt(_distance,0,0,
              0,0,0,
              0,0,1); // la caméra regarde le centre (0,0,0) et est sur l'axe X à une certaine distance du centre donc (_distance,0,0)
    glRotated(_angleY,0,1,0); //la scène est tournée autour de l'axe Y
    glRotated(_angleZ,0,0,1); //la scène est tournée autour de l'axe Z
}</code></pre><p id="r-166625" data-claire-element-id="166625">Et voilà ce n'était vraiment pas sorcier.<br> La dernière chose qu'il nous reste à faire dans le code même de la caméra est une destruction propre de ce qui a été alloué dynamiquement.</p><h5 id="r-destructeur-2" data-claire-element-id="166634">Destructeur</h5><p id="r-166630" data-claire-element-id="166630">Les seules choses allouées dynamiquement sont les curseurs qu'il nous faut détruire quand la caméra est détruite :</p><pre id="r-166632" data-claire-element-id="166632"><code data-claire-semantic="cpp">TrackBallCamera::~TrackBallCamera()
{
    SDL_FreeCursor(_hand1); //destruction du curseur normal
    SDL_FreeCursor(_hand2); //destruction du curseur spécial
    SDL_SetCursor(NULL); //on remet le curseur par défaut.
}</code></pre>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
<span class="arrow"></span>
<span class="next">Quelques bases de C++</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
<span class="next">Scène de test</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Scnedetest"></a><h2>Scène de test</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
<span class="arrow"></span>
<span class="next">Implémentation de la caméra</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">
<span class="next">Contrôle avancé de la caméra (Partie 2/2)</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-scene-de-test" data-claire-element-id="166674">Scène de test</h4><p id="r-166643" data-claire-element-id="166643">Le code de la classe TrackBallCamera est complet et n'a besoin de rien de plus. Cependant un objet camera ne va pas recevoir tout seul les événements, il faut les lui donner. Nous allons donc voir avec une petite scène de test simple comment utiliser la caméra que nous venons de créer. Pour faire original et pas du tout inspiré de Google Earth, nous allons créer une sphère avec la texture de de la Terre. Hum hum ! :-°</p><p id="r-166644" data-claire-element-id="166644">En variables globales nous allons donc utiliser :</p><pre id="r-166645" data-claire-element-id="166645"><code data-claire-semantic="cpp">GLuint earth; //l'identifiant de la texture de la Terre
TrackBallCamera * camera; //un pointeur vers notre caméra</code></pre><div id="r-166649" data-claire-element-id="166649" data-claire-semantic="question"><p id="r-166647" data-claire-element-id="166647">Pourquoi pas directement une caméra ?</p></div><p id="r-166651" data-claire-element-id="166651">Rappelez-vous, le constructeur appelle des fonctions SDL qui nécessitent qu'une fenêtre SDL existe déjà. Il ne faut donc pas que la caméra soit construite dès le lancement du programme (ce qui serait le cas ici si nous n'utilisions pas de pointeur). Nous la créons donc dynamiquement après la fenêtre :</p><pre id="r-166652" data-claire-element-id="166652"><code data-claire-semantic="cpp">atexit(stop); //stop() sera appelé quand on fera exit(0);
//...
        SDL_SetVideoMode(width, height, 32, SDL_OPENGL);
//...
        earth = loadTexture("EarthMap.jpg");
        camera = new TrackBallCamera();
        camera-&gt;setScrollSensivity(0.1);</code></pre><p id="r-166653" data-claire-element-id="166653">Comme la caméra a été créée dynamiquement c'est à nous de la détruire proprement à la fin de l'exécution du programme. C'est ce qu'on fait dans la fonction stop, appelée quand on fera exit(0); dans le corps du programme :</p><pre id="r-166654" data-claire-element-id="166654"><code data-claire-semantic="cpp">void stop()
{
    delete camera; //destruction de la caméra allouée dynamiquement
    SDL_Quit();
}</code></pre><p id="r-166655" data-claire-element-id="166655">Comme je vous l'ai dit plus haut, la caméra ne recevra pas les événements clavier/souris si on ne les lui donne pas. C'est pourquoi dans notre partie de gestion des événements, il faut donner à la caméra les événements dont on ne se sert pas :</p><pre id="r-166656" data-claire-element-id="166656"><code data-claire-semantic="cpp">while(SDL_PollEvent(&amp;event))
        {
            switch(event.type)
            {
                case SDL_QUIT:
                exit(0);
                break;
                case SDL_KEYDOWN:
                switch (event.key.keysym.sym)
                {
                    case SDLK_p:
                    takeScreenshot("test.bmp");
                    break;
                    case SDLK_ESCAPE:
                    exit(0);
                    break;
                    default : //on a utilisé la touche P et la touche ECHAP, le reste est donné à la caméra
                    camera-&gt;OnKeyboard(event.key);
                }
                break;
                case SDL_MOUSEMOTION: //la souris est bougée, ça n'intéresse que la caméra
                camera-&gt;OnMouseMotion(event.motion);
                break;
                case SDL_MOUSEBUTTONUP:
                case SDL_MOUSEBUTTONDOWN:
                camera-&gt;OnMouseButton(event.button); //tous les événements boutons (up ou down) sont donnés à la caméra
                break;
            }
        }</code></pre><p id="r-166657" data-claire-element-id="166657">La dernière chose qu'il nous reste à faire est de dessiner la scène, ici très basique.</p><aside id="r-166660" data-claire-element-id="166660" data-claire-semantic="warning"><p id="r-166659" data-claire-element-id="166659">On n'appelle plus gluLookAt nous-mêmes mais bien la méthode Look de notre objet camera.</p></aside><pre id="r-166662" data-claire-element-id="166662"><code data-claire-semantic="cpp">void DrawGL()
{
    glClear( GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT );

    glMatrixMode( GL_MODELVIEW );
    glLoadIdentity( );

    camera-&gt;look();

    GLUquadric* params = gluNewQuadric();
    gluQuadricTexture(params,GL_TRUE);
    glBindTexture(GL_TEXTURE_2D,earth);
    gluSphere(params,1,20,20);
    gluDeleteQuadric(params);

    glFlush();
    SDL_GL_SwapBuffers();
}</code></pre><figure id="r-166664" data-claire-element-id="166666"><img id="r-166663" data-claire-element-id="166663" src="./Tutoriel_sdz_kayl_OpenGL/4109.jpg" alt="Image utilisateur"></figure><p id="r-166668" data-claire-element-id="166668"><a href="http://62.4.17.167/uploads/fr/ftp/kayl/trackball.avi">Téléchargez la vidéo au format avi/Xvid (1.17 Mo)</a></p><p id="r-166669" data-claire-element-id="166669"><a href="http://sdz.tdct.org/sdz/medias/www.siteduzero.com_uploads_fr_ftp_kayl_sdlgl_08_trackball.zip">Téléchargez le projet Code::Blocks, l'exécutable Windows et le Makefile Unix (1.30 Mo)</a></p><p id="r-166670" data-claire-element-id="166670">Et voilà finie la prise de tête de prévoir à l'avance comment placer la caméra pour bien voir votre scène !</p><p id="r-166672" data-claire-element-id="166672">Dans la chapitre suivant nous verrons une caméra encore plus intéressante mais un peu plus dure à implémenter : la caméra <strong>FreeFly</strong> qui nous permettra de voler librement dans notre scène.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
<span class="arrow"></span>
<span class="next">Implémentation de la caméra</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">
<span class="next">Contrôle avancé de la caméra (Partie 2/2)</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="ContrleavancdelacamraPartie2_2"></a><h2>Contrôle avancé de la caméra (Partie 2/2)</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
<span class="arrow"></span>
<span class="next">Scène de test</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
<span class="next">Principe d'une caméra FreeFly</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div class="content">
<p id="r-166680" data-claire-element-id="166680">Dans cette seconde partie sur le contrôle avancé de la caméra, nous allons voir un autre type de caméra : la caméra <strong>FreeFly</strong>. Nous ne verrons pas de nouveau concept C++ mais cette caméra requiert un peu plus de maths que la précédente. Heureusement pour vous j'ai créé une annexe mathématique rien que pour ce chapitre mais qui peut vous être utile tout le temps : <a href="http://www.siteduzero.com/tuto-3-8528-1-la-trigonometrie.html">la trigonométrie</a>.<br> Encore une fois deux lectures sont possibles pour ce chapitre donc ne paniquez pas si les mathématiques utilisées vous dépassent. Il est tout à fait possible de voir la caméra uniquement comme une nouvelle fonctionnalité. Comprendre son principe et son utilisation dans une scène de test est alors amplement suffisant.</p>
</div><a name="Principed039unecamraFreeFly"></a><h2>Principe d'une caméra FreeFly</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">
<span class="arrow"></span>
<span class="next">Contrôle avancé de la caméra (Partie 2/2)</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
<span class="next">Gestion fluide du mouvement</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-principe-d-une-camera-freefly" data-claire-element-id="166752">Principe d'une caméra FreeFly</h4><p id="r-166682" data-claire-element-id="166682">Une caméra <strong>FreeFly</strong>, comme son nom l'indique, permet de se déplacer/voler librement dans une scène. On retrouve parfois ce type de caméra sous des appellations incomplètes comme FreeLook, voire erronée comme FPS (First Person Shooter). FreeLook ne donne pas la même idée de déplacement, caractéristique importante de la caméra FreeFly. Une caméra FPS quant à elle est plus complexe car assujettie à la gravité, à des déplacements contraints (celui du personnage que l'on incarne), etc.</p><p id="r-166685" data-claire-element-id="166685">Quoi qu'il en soit, le principe est exactement le même que dans <strong>Counter Strike</strong>, quand on est mort (certains plus souvent que d'autres ;) ) et qu'on se balade librement dans la map pour regarder la fin de la partie.</p><figure id="r-166688" data-claire-element-id="166689"><img id="r-166686" data-claire-element-id="166686" src="./Tutoriel_sdz_kayl_OpenGL/12269.jpg" alt="Image utilisateur"></figure><p id="r-166691" data-claire-element-id="166691"><em>Caméra FreeFly (FreeLook) dans Counter Strike</em></p><h5 id="r-gestion-du-regard-a-la-souris" data-claire-element-id="166720">Gestion du regard à la souris</h5><p id="r-166693" data-claire-element-id="166693">Pour pouvoir regarder tout autour de nous, nous allons utiliser les mouvements de la souris pour orienter la caméra :</p><ul id="r-166703" data-claire-element-id="166703"><li id="r-166697" data-claire-element-id="166697"><p id="r-166695" data-claire-element-id="166695">un mouvement horizontal de la souris fait tourner la caméra horizontalement autour de la verticale du monde (regard à gauche et à droite) ;</p></li><li id="r-166701" data-claire-element-id="166701"><p id="r-166699" data-claire-element-id="166699">un mouvement vertical de la souris fait tourner la caméra verticalement (le regard se lève ou se baisse).</p></li></ul><p id="r-166705" data-claire-element-id="166705">Ces mouvements sont illustrés par les schémas ci-dessous (réutilisation des noms des angles propres aux <a href="http://www.siteduzero.com/tuto-3-8528-1-la-trigonometrie.html#ss_part_3">coordonnées sphériques</a>) :</p><figure id="r-166709" data-claire-element-id="166710"><img id="r-166707" data-claire-element-id="166707" src="./Tutoriel_sdz_kayl_OpenGL/12270.png" alt="Image utilisateur"></figure><p id="r-166712" data-claire-element-id="166712"><em>Mouvement horizontal de la souris (schéma vu du dessus)</em></p><figure id="r-166714" data-claire-element-id="166716"><img id="r-166713" data-claire-element-id="166713" src="./Tutoriel_sdz_kayl_OpenGL/12271.png" alt="Image utilisateur"></figure><p id="r-166718" data-claire-element-id="166718"><em>Mouvement vertical de la souris (schéma vu de côté)</em></p><h5 id="r-gestion-du-deplacement-au-clavier" data-claire-element-id="166749">Gestion du déplacement au clavier</h5><p id="r-166724" data-claire-element-id="166724">La souris nous permet d'orienter la caméra par rapport aux axes X, Y, Z locaux, le clavier quant à lui va nous permettre de déplacer la caméra selon l'orientation actuelle :</p><ul id="r-166733" data-claire-element-id="166733"><li id="r-166728" data-claire-element-id="166728"><p id="r-166726" data-claire-element-id="166726">2 touches nous permettent de faire <strong>avancer/reculer</strong> la caméra ;</p></li><li id="r-166731" data-claire-element-id="166731"><p id="r-166730" data-claire-element-id="166730">2 touches nous permettent de faire <strong>strafer</strong> (déplacement latéral) la caméra.</p></li></ul><p id="r-166736" data-claire-element-id="166736">J'ai choisi d'utiliser les touches ZQSD, utilisées de façon presque standard pour ce genre de mouvement sur un clavier AZERTY :</p><figure id="r-166740" data-claire-element-id="166741"><img id="r-166738" data-claire-element-id="166738" src="./Tutoriel_sdz_kayl_OpenGL/12272.png" alt="Image utilisateur"></figure><p id="r-166743" data-claire-element-id="166743"><em>Mouvement avant/arrière</em></p><figure id="r-166746" data-claire-element-id="166747"><img id="r-166744" data-claire-element-id="166744" src="./Tutoriel_sdz_kayl_OpenGL/12273.png" alt="Image utilisateur"></figure>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">
<span class="arrow"></span>
<span class="next">Contrôle avancé de la caméra (Partie 2/2)</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
<span class="next">Gestion fluide du mouvement</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Gestionfluidedumouvement"></a><h2>Gestion fluide du mouvement</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
<span class="arrow"></span>
<span class="next">Principe d'une caméra FreeFly</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
<span class="next">Implémentation de la caméra</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-gestion-fluide-du-mouvement" data-claire-element-id="166888">Gestion fluide du mouvement</h4><p id="r-166756" data-claire-element-id="166756">Pour l'instant en suivant mon tutoriel, nous avons utilisé les événements pour :</p><ul id="r-166766" data-claire-element-id="166766"><li id="r-166760" data-claire-element-id="166760"><p id="r-166758" data-claire-element-id="166758">faire bouger notre grue dans le <a href="http://www.siteduzero.com/tuto-3-6304-1-les-transformations.html#ss_part_4">chapitre sur les transformations</a> ;</p></li><li id="r-166764" data-claire-element-id="166764"><p id="r-166762" data-claire-element-id="166762">faire tourner la caméra dans le <a href="http://www.siteduzero.com/tuto-3-9174-1-controle-avance-de-la-camera-partie-1-2.html">chapitre précédent</a> sur la caméra TrackBall.</p></li></ul><p id="r-166768" data-claire-element-id="166768">Nous utiliserons le même système de mouvement à la souris, donc l'utilisation des SDL_MouseMotionEvent pour orienter la caméra.<br> Pour notre grue, la ruse de l'animation était basée sur l'activation de la répétition des touches avec SDL_EnableKeyRepeat. La vitesse du mouvement était donc dépendante de la vitesse de répétition des touches, ce qui pose trois problèmes :</p><ul id="r-166780" data-claire-element-id="166780"><li id="r-166772" data-claire-element-id="166772"><p id="r-166770" data-claire-element-id="166770">si le taux de répétition des touches est trop faible le mouvement est saccadé ;</p></li><li id="r-166775" data-claire-element-id="166775"><p id="r-166773" data-claire-element-id="166773">utiliser l'événement d'appui sur une touche à son apparition empêche de pouvoir utiliser plusieurs touches en même temps ;</p></li><li id="r-166779" data-claire-element-id="166779"><p id="r-166777" data-claire-element-id="166777">le mouvement n'est pas réellement lié au temps écoulé.</p></li></ul><p id="r-166781" data-claire-element-id="166781">Dans le cadre de notre petite grue sans prétention tout cela était tout à fait tolérable, ici nous rentrons dans un domaine différent : le contrôle de la vue 3D. Les personnes habituées aux FPS ne se rendent peut-être pas compte que la manière avec laquelle ils se déplacent peut vite donner la nausée à un spectateur non habitué. La <strong>fluidité du mouvement</strong> de la caméra est donc primordiale ici.</p><h5 id="r-les-keystates" data-claire-element-id="166796">Les KeyStates</h5><p id="r-166782" data-claire-element-id="166782">Je vous l'ai dit juste avant, utiliser l'événement clavier juste à son apparition n'est pas la bonne solution pour gérer un déplacement fluide.<br> Nous allons donc nous contenter de mettre à jour un <strong>tableau</strong> interne de l'<strong>état des touches</strong> qui nous intéressent.</p><p id="r-166785" data-claire-element-id="166785">Par exemple si la touche SDLK_z nous intéresse et que l'on reçoit un événement SDL_KEYDOWN, nous mettrons la case SDLK_z de notre tableau de booléens à true, pour indiquer qu'elle est actuellement enfoncée.<br> De même sur la réception d'un événement SDL_KEYUP avec la touche SDLK_z, nous mettrons la case correspondante du tableau à false pour indiquer qu'elle n'est pas/plus enfoncée.</p><div id="r-166788" data-claire-element-id="166788" data-claire-semantic="question"><p id="r-166786" data-claire-element-id="166786">Comment faire correspondre un nom de touche avec un indice dans un tableau ?</p></div><p id="r-166790" data-claire-element-id="166790">Nous allons pour cela utiliser ce que l'on appelle, comme en PHP, un tableau associatif. Au lieu de faire mon_tableau[indice_numérique] nous ferons mon_tableau_associatif[clé]. L'outil en C++ qui permet de faire cela est appelé une <strong>map</strong>. On la définit par les deux types qu'elle utilise, le type pour la clé (la clé est ce qui remplace l'indice numérique, bien qu'elle puisse être numérique aussi :) ), et le type de la valeur à stocker.<br> Dans notre cas, nous souhaitons stocker des booléens (bool) indiquant si une touche (SDLKey) est actuellement enfoncée ou non.<br> Cela correspond donc à la map suivante :</p><pre id="r-166792" data-claire-element-id="166792"><code data-claire-semantic="cpp">typedef std::map&lt;SDLKey,bool&gt; KeyStates;</code></pre><p id="r-166793" data-claire-element-id="166793">On peut l'utiliser ainsi :</p><pre id="r-166795" data-claire-element-id="166795"><code data-claire-semantic="cpp">Keystates keystates; //déclaration d'une variable de type KeyStates
keystates[SDLK_Z] = true; //association bidon, eh oui je n'ai pas recu d'événement comment je peux savoir ? :p )</code></pre><h5 id="r-configuration-du-clavier" data-claire-element-id="166812">Configuration du clavier</h5><p id="r-166799" data-claire-element-id="166799">Dans l'absolu on se fiche pas mal que la touche pour faire avancer soit la touche SDLK_z. Ça pourrait être SDLK_i qu'on s'en ficherait tout autant. :-° <br> Ce que l'on veut savoir à n'importe quel moment c'est si la touche qui sert à faire avancer en avant (forward) est enfoncée ou non, quel que soit le choix du joueur/concepteur en ce qui concerne la configuration des touches.</p><p id="r-166800" data-claire-element-id="166800">Nous allons donc utiliser un deuxième tableau associatif qui associera une <strong>action</strong> et la <strong>touche</strong> utilisée pour effectuer cette action. L'action sera nommée textuellement, comme « forward » pour aller en avant, et la touche sera le code de la SDLKey comme SDLK_z (qui est en fait une valeur numérique mais on n'a pas besoin de le savoir).<br> Cela correspond donc à la map suivante :</p><pre id="r-166803" data-claire-element-id="166803"><code data-claire-semantic="cpp">typedef std::map&lt;std::string,SDLKey&gt; KeyConf;</code></pre><p id="r-166804" data-claire-element-id="166804">On peut alors l'utiliser ainsi :</p><pre id="r-166805" data-claire-element-id="166805"><code data-claire-semantic="cpp">KeyConf keyconf; //déclaration d'une variable de type KeyConf.
keyconf["forward"] = SDLK_z; //ici je choisis d'utiliser la touche z pour l'action forward.</code></pre><p id="r-166807" data-claire-element-id="166807">On peut alors tout à fait imaginer charger la configuration des touches <em>via</em> un fichier de configuration ou même demander à l'utilisateur quelles touches utiliser. Ces deux techniques ne seront pas enseignées ici car dépassent le cadre du tuto OpenGL. Nous utiliserons juste une affectation action/touche comme dans l'exemple du dessus.</p><p id="r-166808" data-claire-element-id="166808">Grâce à la combinaison de KeyStates et de notre configuration des touches, il est alors facile de définir si la touche pour réaliser une action donnée est enfoncée :</p><pre id="r-166809" data-claire-element-id="166809"><code data-claire-semantic="cpp">Keystates keystates;
KeyConf keyconf;
keyconf["forward"] = SDLK_z;
keystates[keyconf["forward"]] = true;</code></pre><p id="r-166810" data-claire-element-id="166810">La partie keyconf["forward"] vient récupérer la touche utilisée pour l'action « forward », cette touche sert de clé pour la map touche/booléen keystates.</p><h5 id="r-mouvement-anime" data-claire-element-id="166831">Mouvement animé</h5><p id="r-166817" data-claire-element-id="166817">Nous avons déjà réalisé un mouvement animé dès notre première scène 3D avec un cube.<br> La boucle principale de notre programme était la suivante :</p><figure id="r-166820" data-claire-element-id="166822"><img id="r-166818" data-claire-element-id="166818" src="./Tutoriel_sdz_kayl_OpenGL/12276.png" alt="Image utilisateur"></figure><p id="r-166824" data-claire-element-id="166824"><em>Structure de la boucle principale</em></p><p id="r-166826" data-claire-element-id="166826">Ici nous ferons la même chose : un mouvement de la caméra qui dépend du <strong>temps écoulé</strong> mais aussi de l'<strong>état des touches</strong>.<br> Par exemple nous ne ferons avancer la caméra que si la touche correspondante est enfoncée, ce qui donne en code :</p><pre id="r-166828" data-claire-element-id="166828"><code data-claire-semantic="cpp">if (keystates[keyconf["forward"]])
        position += forward * (speed * timestep);</code></pre><p id="r-166830" data-claire-element-id="166830">où timestep est le temps écoulé depuis la dernière image, speed est la vitesse de déplacement, forward est le vecteur d'orientation de la caméra (qui pointe là où elle regarde), et position est la position de la caméra.</p><h5 id="r-vector3d" data-claire-element-id="166843">Vector3D</h5><div id="r-166835" data-claire-element-id="166835" data-claire-semantic="question"><p id="r-166833" data-claire-element-id="166833">Mathématiquement je sais ce qu'est un vecteur mais ça existe en C++ ?</p></div><p id="r-166837" data-claire-element-id="166837">À la base non. Mais rien ne nous empêche de le créer. D'ailleurs si vous avez déjà fait un peu de SDL, j'imagine que vous avez pu être amenés à créer des struct ayant comme attributs x et y les positions de vos sprites à blitter.<br> Quoiqu'il en soit ici des attributs (X,Y et Z) ne nous suffisent pas. Comme on l'a vu dans le code juste au-dessus, il nous faut pouvoir multiplier un vecteur par un nombre, additionner deux vecteurs, et un peu plus encore. Pour cela on utilise en C++ <strong>la surcharge d'opérateurs</strong> qui permet de redéfinir les opérations élémentaires comme l'addition, la multiplication pour un type (ici notre classe vecteur) non élémentaire.</p><p id="r-166839" data-claire-element-id="166839">En définissant ainsi l'opérateur + comme méthode de notre classe, il est alors tout à fait possible dans le code, comme on le fait pour des nombres, de faire vecteur1 + vecteur2. Et mine de rien ça simplifiera beaucoup le code de la caméra.</p><p id="r-166840" data-claire-element-id="166840">Voici la déclaration de la classe Vector3D que nous allons utiliser. Je vous la donne pour vous montrer la déclaration des opérateurs. L'implémentation en elle-même est triviale, car purement mathématique et je laisse les curieux aller la lire dans l'archive finale. Pour l'utiliser nous n'avons pas besoin de connaître les détails de l'implémentation.</p><pre id="r-166842" data-claire-element-id="166842"><code data-claire-semantic="cpp">class Vector3D
{
public:
    double X;
    double Y;
    double Z;

    Vector3D();
    Vector3D(double x,double y,double z);
    Vector3D(const Vector3D &amp; v);
    Vector3D(const Vector3D &amp; from,const Vector3D &amp; to);

    Vector3D &amp; operator= (const Vector3D &amp; v);

    Vector3D &amp; operator+= (const Vector3D &amp; v);
    Vector3D operator+ (const Vector3D &amp; v) const;

    Vector3D &amp; operator-= (const Vector3D &amp; v);
    Vector3D operator- (const Vector3D &amp; v) const;

    Vector3D &amp; operator*= (const double a);
    Vector3D operator* (const double a)const;
    friend Vector3D operator* (const double a,const Vector3D &amp; v);

    Vector3D &amp; operator/= (const double a);
    Vector3D operator/ (const double a)const;

    Vector3D crossProduct(const Vector3D &amp; v)const;
    double length()const;
    Vector3D &amp; normalize();
};</code></pre><h5 id="r-fluidite-vs-molette" data-claire-element-id="166885">Fluidité VS Molette</h5><p id="r-166846" data-claire-element-id="166846">Il me reste une dernière chose à couvrir avant d'entrer dans l'implémentation de la caméra et cela concerne la molette. Vous l'avez vu dans la chapitre précédent, la molette se gère comme un bouton et on détecte que la molette a été montée si on reçoit un événement de type SDL_MOUSEBUTTONDOWN sur le bouton SDL_BUTTON_WHEELUP. Par conséquent si on bougeait sur cet événement on viendrait remettre en cause toute ma super théorie de fluidité quantique à convergence rétroactive ! Image utilisateur</p><p id="r-166848" data-claire-element-id="166848">Nous allons donc faire comme avec le clavier :</p><ul id="r-166856" data-claire-element-id="166856"><li id="r-166851" data-claire-element-id="166850"><p id="r-166849" data-claire-element-id="166849">sur détection d'un mouvement de la molette on met un booléen à true ;</p></li><li id="r-166854" data-claire-element-id="166854"><p id="r-166852" data-claire-element-id="166852">quand nous faisons bouger la caméra, si ce booléen vaut true nous déplaçons verticalement la caméra en fonction du temps écoulé.</p></li></ul><div id="r-166860" data-claire-element-id="166860" data-claire-semantic="question"><p id="r-166858" data-claire-element-id="166858">Oui mais quand remet-on ce booléen à false ?</p></div><p id="r-166861" data-claire-element-id="166861">On ne peut pas le remettre à false quand on détecte que la molette ne bouge plus car les événements SDL_MOUSEBUTTONDOWN et SDL_MOUSEBUTTONUP pour la molette sont consécutifs, on n'aurait donc aucun mouvement. On utilise donc le <strong>temps</strong> !</p><ul id="r-166881" data-claire-element-id="166881"><li id="r-166865" data-claire-element-id="166865"><p id="r-166863" data-claire-element-id="166863">Sur détection d'un mouvement de la molette on met un booléen à true et une variable temps restant à 250 (ms, c'est un exemple).</p></li><li id="r-166879" data-claire-element-id="166879"><p id="r-166867" data-claire-element-id="166867">Quand nous faisons bouger la caméra, si ce booléen vaut true :</p><ul id="r-166877" data-claire-element-id="166877"><li id="r-166871" data-claire-element-id="166871"><p id="r-166869" data-claire-element-id="166869">on décrémente le temps restant du temps écoulé ;</p></li><li id="r-166875" data-claire-element-id="166875"><p id="r-166873" data-claire-element-id="166873">si le temps restant est &lt; 0 alors on passe le booléen à false.</p></li></ul></li></ul><p id="r-166883" data-claire-element-id="166883">Nous allons bien sûr voir toutes ces techniques en pratique, appliquées à notre caméra FreeFly.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
<span class="arrow"></span>
<span class="next">Principe d'une caméra FreeFly</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
<span class="next">Implémentation de la caméra</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Implmentationdelacamra"></a><h2>Implémentation de la caméra</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
<span class="arrow"></span>
<span class="next">Gestion fluide du mouvement</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
<span class="next">Scène de test</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-implementation-de-la-camera-1" data-claire-element-id="167091">Implémentation de la caméra</h4><p id="r-166894" data-claire-element-id="166894">Tout comme notre caméra TrackBall du chapitre précédent, nous allons implémenter la caméra FreeFly en C++ à l'aide d'une classe.</p><p id="r-166896" data-claire-element-id="166896">Nous devons ici aussi gérer trois types d'événements :</p><ul id="r-166907" data-claire-element-id="166907"><li id="r-166898" data-claire-element-id="166898"><p id="r-166897" data-claire-element-id="166897">le mouvement de la souris : pour changer l'orientation de la caméra ;</p></li><li id="r-166902" data-claire-element-id="166902"><p id="r-166900" data-claire-element-id="166900">le clavier : pour déplacer la caméra ;</p></li><li id="r-166905" data-claire-element-id="166905"><p id="r-166904" data-claire-element-id="166903">la molette (qui se gère comme un clic de bouton) : pour faire monter/descendre la caméra.</p></li></ul><p id="r-166910" data-claire-element-id="166910">Nous aurons une méthode look dont l'appel viendra remplacer dans nos codes l'utilisation du gluLookAt (appelé en interne par la méthode look de toute façon).</p><p id="r-166911" data-claire-element-id="166911">Nous allons aussi créer trois méthodes pour paramétrer la caméra :</p><ul id="r-166920" data-claire-element-id="166920"><li id="r-166913" data-claire-element-id="166913"><p id="r-166912" data-claire-element-id="166912">setSpeed : pour définir la vitesse de déplacement de la caméra ;</p></li><li id="r-166916" data-claire-element-id="166916"><p id="r-166915" data-claire-element-id="166915">setSensivity : pour déterminer la vitesse de rotation de la caméra en fonction du mouvement en pixels du curseur de la souris ;</p></li><li id="r-166919" data-claire-element-id="166919"><p id="r-166918" data-claire-element-id="166918">setPosition : pour placer précisément la caméra quand on le souhaite.</p></li></ul><p id="r-166922" data-claire-element-id="166922">Nous introduirons aussi une dernière méthode, animate, qui viendra gérer le mouvement fluide de la caméra, comme expliqué dans la partie précédente.</p><p id="r-166923" data-claire-element-id="166923">Voici une traduction formelle de ce que je viens de dire rapidement :</p><table id="r-166940" data-claire-element-id="166940"><thead id="r-166929" data-claire-element-id="166929"><tr id="r-166928" data-claire-element-id="166928"><th id="r-166925" data-claire-element-id="166925"><p id="r-166924" data-claire-element-id="166924">UML simplifié</p></th><th id="r-166927" data-claire-element-id="166927"><p id="r-166926" data-claire-element-id="166926">Déclaration C++</p></th></tr></thead><tbody id="r-166937" data-claire-element-id="166937"><tr id="r-166936" data-claire-element-id="166936"><td id="r-166931" data-claire-element-id="166932"><img id="r-166932" data-claire-element-id="166931" src="./Tutoriel_sdz_kayl_OpenGL/12277.png" alt="Image utilisateur"><img id="r-166930" data-claire-element-id="166930" src="./Tutoriel_sdz_kayl_OpenGL/12277.png" alt="Image utilisateur"></td><td id="r-166935" data-claire-element-id="166935"><pre id="r-166933" data-claire-element-id="166933"><code data-claire-semantic="cpp">class FreeFlyCamera
{
public:
    FreeFlyCamera(const Vector3D &amp; position = Vector3D(0,0,0));

    virtual void OnMouseMotion(const SDL_MouseMotionEvent &amp; event);
    virtual void OnMouseButton(const SDL_MouseButtonEvent &amp; event);
    virtual void OnKeyboard(const SDL_KeyboardEvent &amp; event);

    virtual void animate(Uint32 timestep);
    virtual void setSpeed(double speed);
    virtual void setSensivity(double sensivity);

    virtual void setPosition(const Vector3D &amp; position);

    virtual void look();

    virtual ~FreeFlyCamera();

protected:
    double _speed;
    double _sensivity;

    Uint32 _timeBeforeStoppingVerticalMotion;
    bool _verticalMotionActive;
    int _verticalMotionDirection;

    typedef std::map&lt;SDLKey,bool&gt; KeyStates;
    KeyStates _keystates;
    typedef std::map&lt;std::string,SDLKey&gt; Keyconf;
    Keyconf _keyconf;

    Vector3D _position;
    Vector3D _target;
    Vector3D _forward;
    Vector3D _left;
    double _theta;
    double _phi

    void VectorsFromAngles();
};</code></pre></td></tr></tbody></table><p id="r-166942" data-claire-element-id="166942">Décryptons ensemble tous les attributs dont nous allons avoir besoin :</p><ul id="r-166993" data-claire-element-id="166993"><li id="r-166947" data-claire-element-id="166947"><p id="r-166944" data-claire-element-id="166944"><strong>double _speed</strong> : vitesse de déplacement de la caméra ;</p></li><li id="r-166950" data-claire-element-id="166950"><p id="r-166948" data-claire-element-id="166948"><strong>double _sensivity</strong> : sensibilité de la caméra aux mouvements de la souris ;</p></li><li id="r-166954" data-claire-element-id="166954"><p id="r-166952" data-claire-element-id="166952"><strong>Uint32 _timeBeforeStoppingVerticalMotion</strong> : si un mouvement vertical (à la molette) est en cours, combien de temps reste-t-il avant de l'arrêter ?</p></li><li id="r-166958" data-claire-element-id="166958"><p id="r-166956" data-claire-element-id="166956"><strong>bool _verticalMotionActive</strong> : y a-t-il un mouvement vertical en cours ?</p></li><li id="r-166961" data-claire-element-id="166961"><p id="r-166960" data-claire-element-id="166960"><strong>int _verticalMotionDirection</strong> : sens du mouvement vertical quand il a été déclenché à la molette (+1 vers la haut, -1 vers le bas) ;</p></li><li id="r-166965" data-claire-element-id="166965"><p id="r-166963" data-claire-element-id="166963"><strong>KeyStates _keystates</strong> : tableau donnant l'<strong>état</strong> des touches <strong>utilisées</strong> ;</p></li><li id="r-166969" data-claire-element-id="166969"><p id="r-166967" data-claire-element-id="166967"><strong>Keyconf _keyconf</strong> : tableau donnant les <strong>touches</strong> à utiliser pour chaque <strong>action</strong> ;</p></li><li id="r-166973" data-claire-element-id="166972"><p id="r-166971" data-claire-element-id="166971"><strong>Vector3D _position</strong> : position de la caméra dans l'absolu ;</p></li><li id="r-166977" data-claire-element-id="166977"><p id="r-166975" data-claire-element-id="166975"><strong>Vector3D _target</strong> : point regardé par la caméra dans l'absolu ;</p></li><li id="r-166982" data-claire-element-id="166982"><p id="r-166979" data-claire-element-id="166979"><strong>Vector3D _forward</strong> : vecteur donnant la direction du regard (et donc du déplacement vers l'avant) ;</p></li><li id="r-166985" data-claire-element-id="166985"><p id="r-166983" data-claire-element-id="166983"><strong>Vector3D _left</strong> : vecteur perpendiculaire au regard pour le déplacement latéral ;</p></li><li id="r-166988" data-claire-element-id="166988"><p id="r-166986" data-claire-element-id="166986"><strong>double _theta</strong> : angle de rotation horizontale de la caméra (autour de la verticale) ;</p></li><li id="r-166991" data-claire-element-id="166991"><p id="r-166990" data-claire-element-id="166990"><strong>double _phi</strong> : angle de rotation verticale de la caméra.</p></li></ul><p id="r-166998" data-claire-element-id="166998">On remarque aussi, dans le schéma UML comme dans la déclaration de la classe, une méthode protégée (non publique) : VectorsFromAngles. Cette méthode viendra calculer les vecteurs _forward et _left en fonction des nouvelles valeurs de _theta et _phi.</p><h5 id="r-constructeur-4" data-claire-element-id="167025">Constructeur</h5><p id="r-167000" data-claire-element-id="167000">Vous l'avez vu dans l'implémentation, le constructeur possède un paramètre facultatif : la position initiale de la caméra. Si on ne la spécifie pas, elle sera en (0,0,0) au départ.<br> Le code n'est pas passionnant, juste de l'initialisation des attributs :</p><pre id="r-167002" data-claire-element-id="167002"><code data-claire-semantic="cpp">FreeFlyCamera::FreeFlyCamera(const Vector3D &amp; position)
{
    _position = position; //si aucune position n'est définie on reçoit quand même (0,0,0) en paramètre
    _phi = 0;
    _theta = 0;
    VectorsFromAngles(); //décrit un peu plus loin

    _speed = 0.01;
    _sensivity = 0.2;
    _verticalMotionActive = false;
//Initialisation de la configuration des touches
    _keyconf["forward"] = SDLK_z;
    _keyconf["backward"] = SDLK_s;
    _keyconf["strafe_left"] = SDLK_q;
    _keyconf["strafe_right"] = SDLK_d;
    _keyconf["boost"] = SDLK_LSHIFT;
//Initialisation des KeyStates
    _keystates[_keyconf["forward"]] = false;
    _keystates[_keyconf["backward"]] = false;
    _keystates[_keyconf["strafe_left"]] = false;
    _keystates[_keyconf["strafe_right"]] = false;
    _keystates[_keyconf["boost"]] = false;

    SDL_WM_GrabInput(SDL_GRAB_ON);
    SDL_ShowCursor(SDL_DISABLE);
}</code></pre><div id="r-167004" data-claire-element-id="167004" data-claire-semantic="question"><p id="r-167003" data-claire-element-id="167003">Pourquoi ces deux dernières lignes ?</p></div><p id="r-167006" data-claire-element-id="167006">Le but de notre caméra est de bouger le regard avec la souris en permanence. Nous utilisons donc l'information de <strong>déplacement relatif</strong> de la souris pour faire tourner d'autant la caméra. Que se passe-t-il si la souris quitte la fenêtre et re-rentre par un autre endroit ?</p><ol id="r-167015" data-claire-element-id="167015"><li id="r-167010" data-claire-element-id="167010"><p id="r-167008" data-claire-element-id="167008">Tout le temps où la souris sera en dehors de la fenêtre la caméra sera indirigeable, ça peut être pénible quand on est pas loin du bord.</p></li><li id="r-167013" data-claire-element-id="167013"><p id="r-167012" data-claire-element-id="167012">Si la caméra revient dans la fenêtre par un autre côté, le déplacement relatif peut être énorme d'un coup et faire trop tourner la caméra, on ne comprendra plus ce que l'on regarde (changement trop brusque).</p></li></ol><p id="r-167017" data-claire-element-id="167018">Par la combinaison des deux lignes :</p><pre id="r-167019" data-claire-element-id="167019"><code data-claire-semantic="cpp">SDL_WM_GrabInput(SDL_GRAB_ON);
    SDL_ShowCursor(SDL_DISABLE);</code></pre><p id="r-167021" data-claire-element-id="167021">on vient demander à SDL d'interdire à la souris de quitter la fenêtre, mais en plus, quand le curseur est juste au bord de la fenêtre, de générer quand même des informations de déplacement relatif de la souris.</p><aside id="r-167023" data-claire-element-id="167023" data-claire-semantic="information"><p id="r-167022" data-claire-element-id="167022">Ces deux commandes appelées par le constructeur de notre caméra nécessitent que la SDL soit initialisée. Il ne faut donc pas construire un objet FreeFlyCamera avant. Dans notre scène de test comme nous utiliserons la caméra en variable globale pour l'instant, nous utiliserons l'allocation dynamique (avec un new) pour pallier ce problème.</p></aside><h5 id="r-on-mouse-motion-1" data-claire-element-id="167035">On Mouse Motion</h5><p id="r-167028" data-claire-element-id="167028">Comme notre caméra est assurée de recevoir des événements de mouvement de la souris corrects, la méthode OnMouseMotion est très simple :</p><pre id="r-167029" data-claire-element-id="167029"><code data-claire-semantic="cpp">void FreeFlyCamera::OnMouseMotion(const SDL_MouseMotionEvent &amp; event)
{
    _theta -= event.xrel*_sensivity;
    _phi -= event.yrel*_sensivity;
    VectorsFromAngles();
}</code></pre><div id="r-167032" data-claire-element-id="167032" data-claire-semantic="question"><p id="r-167031" data-claire-element-id="167031">Pourquoi des signes « - » ?</p></div><p id="r-167033" data-claire-element-id="167033">Les angles s'expriment dans le sens trigonométrique (sens inverse des aiguilles d'une montre). Un changement positif de _theta correspond donc à un mouvement « vers la gauche » de la souris, soit un déplacement négatif sur l'axe des X. Soustraire un nombre négatif revient à additionner son opposé donc nous retombons sur nos pattes.<br> De même pour _phi, un changement positif correspond à un mouvement « vers le haut » de la souris, soit un déplacement négatif sur l'axe des Y (pour SDL).</p><h5 id="r-vectors-from-angles" data-claire-element-id="167063">Vectors From Angles</h5><p id="r-167038" data-claire-element-id="167038">À chaque fois que les angles sont changés, il faut recalculer le vecteur d'orientation de la caméra, _forward, ainsi que le vecteur latéral _left.<br> Le vecteur _forward permet de définir à la fois <strong>où regarder</strong>, _target, et dans quelle direction <strong>avancer</strong>. Le vecteur _left sert pour le mouvement latéral.</p><p id="r-167040" data-claire-element-id="167040">Comme ce sont des vecteurs, ils donnent des directions et ne sont donc pas localisés à un endroit précis de l'espace. On peut donc réfléchir comme si nous étions en (0,0,0). De deux angles on veut passer aux coordonnées 3D d'un vecteur, hum... :-° mais comme c'est bizarre... ça me fait penser étrangement aux coordonnées sphériques de l'<a href="http://www.siteduzero.com/tuto-3-8528-1-la-trigonometrie.html#ss_part_3">annexe de trigonométrie</a>. Comme c'est bizarre et pas du tout intentionnel... :soleil:</p><figure id="r-167043" data-claire-element-id="167045"><img id="r-167041" data-claire-element-id="167041" src="./Tutoriel_sdz_kayl_OpenGL/12278.png" alt="Image utilisateur"></figure><p id="r-167047" data-claire-element-id="167047"><em>Rappel de l'utilisation des angles en coordonnées sphériques</em></p><p id="r-167048" data-claire-element-id="167048">Nous appliquerons donc le calcul bête et méchant expliqué en annexe pour calculer le vecteur _forward (équivalent du vecteur rouge sur le dessin du dessus). Ici nous réfléchissons sur des vecteurs unitaires (de longueur 1) donc le rayon de la « sphère » vaut 1.</p><pre id="r-167050" data-claire-element-id="167050"><code data-claire-semantic="cpp">void FreeFlyCamera::VectorsFromAngles()
{
    static const Vector3D up(0,0,1); //une constante, le vecteur vertical du monde, utilisé dans les calculs
//On limite les valeurs de _phi, on vole certes, mais on en fait pas de loopings :p
    if (_phi &gt; 89)
        _phi = 89;
    else if (_phi &lt; -89)
        _phi = -89;
//passage des coordonnées sphériques aux coordonnées cartésiennes
    double r_temp = cos(_phi*M_PI/180);
    _forward.Z = sin(_phi*M_PI/180);
    _forward.X = r_temp*cos(_theta*M_PI/180);
    _forward.Y = r_temp*sin(_theta*M_PI/180);
//diantre mais que fait ce passage ?
    _left = up.crossProduct(_forward);
    _left.normalize();

//avec la position de la caméra et la direction du regard, on calcule facilement ce que regarde la caméra (la cible)
    _target = _position + _forward;
}}</code></pre><p id="r-167052" data-claire-element-id="167052">Le seul point flou qui peut subsister ici est le calcul du vecteur _left pour le mouvement latéral.<br> On utilise ici le produit vectoriel (méthode crossProduct de la classe Vector3D) pour calculer le vecteur _left, <strong>perpendiculaire</strong> au plan formé par le vecteur _forward avec la verticale. Ce vecteur doit ensuite être normalisé (on lui donne une longueur de 1) pour pouvoir être utilisé dans nos mouvements.<br> Tout cela justifie donc les deux lignes :</p><pre id="r-167055" data-claire-element-id="167055"><code data-claire-semantic="cpp">_left = up.crossProduct(_forward);
    _left.normalize();</code></pre><figure id="r-167059" data-claire-element-id="167060"><img id="r-167057" data-claire-element-id="167057" src="./Tutoriel_sdz_kayl_OpenGL/12279.png" alt="Image utilisateur"></figure><p id="r-167061" data-claire-element-id="167061"><em>_left est perpendiculaire au plan formé par_forward avec la verticale</em></p><h5 id="r-on-mouse-button-1" data-claire-element-id="167071">On Mouse Button</h5><p id="r-167068" data-claire-element-id="167068">La gestion de la molette est assez simple. Comme il a été vu dans la partie « Gestion fluide du mouvement », nous ne bougerons pas la caméra directement mais signalerons juste qu'il faut bouger.<br> J'ai choisi de faire monter/descendre la caméra pendant 250 ms. Ce temps n'est <strong>pas</strong> à changer en fonction de la vitesse de la caméra, c'est le mouvement lui-même qui utilisera l'information de vitesse.</p><pre id="r-167070" data-claire-element-id="167070"><code data-claire-semantic="cpp">void FreeFlyCamera::OnMouseButton(const SDL_MouseButtonEvent &amp; event)
{
    if ((event.button == SDL_BUTTON_WHEELUP)&amp;&amp;(event.type == SDL_MOUSEBUTTONDOWN)) //coup de molette vers le haut
    {
        _verticalMotionActive = true; //on demande à activer le mouvement vertical
        _timeBeforeStoppingVerticalMotion = 250; //pendant 250 ms
        _verticalMotionDirection = 1; //et vers le haut

    }
    else if ((event.button == SDL_BUTTON_WHEELDOWN)&amp;&amp;(event.type == SDL_MOUSEBUTTONDOWN)) //coup de molette vers le bas
    {
        _verticalMotionActive = true; //on demande à activer le mouvement vertical
        _timeBeforeStoppingVerticalMotion = 250; //pendant 250 ms
        _verticalMotionDirection = -1; //et vers le bas
    }
}</code></pre><h5 id="r-on-keyboard" data-claire-element-id="167076">On Keyboard</h5><p id="r-167072" data-claire-element-id="167072">Dans la méthode OnKeyBoard, on va utiliser les KeyStates découverts plus haut et initialisés dans le constructeur. On pourrait utiliser des if, ou un switch...case, mais il y a plus simple :</p><pre id="r-167074" data-claire-element-id="167074"><code data-claire-semantic="cpp">void FreeFlyCamera::OnKeyboard(const SDL_KeyboardEvent &amp; event)
{
//on parcourt tous les keystates actuels
    for (KeyStates::iterator it = _keystates.begin();it != _keystates.end();
            it++) 
    {
        if (event.keysym.sym == it-&gt;first) //est-ce que la touche responsable de l'événement est celle du keystate ?
        {
            it-&gt;second = (event.type == SDL_KEYDOWN); //true si enfoncé, false si relâché
            break; //la touche responsable de l'événement a été utilisée, on quitte le for
        }
    }
}</code></pre><p id="r-167075" data-claire-element-id="167075">La seule difficulté ici est le parcours des KeyStates, le tableau associatif qui donne l'état des touches utilisées.<br> L'avantage de cette technique : code très court, simple, et je n'ai pas codé en dur quelles touches tester (pas d'informations redondantes).</p><h5 id="r-animate" data-claire-element-id="167082">Animate</h5><p id="r-167079" data-claire-element-id="167079">Jusqu'à présent nous avons vu des méthodes qui étaient appelées sur des événements souris/clavier. Ces méthodes (à part le MouseMotion) ne venaient que définir des booléens pour une gestion fluide du mouvement. Mouvement qui va réellement s'effectuer ici, dans la méthode Animate, appelée à chaque boucle du programme. Le code n'est qu'une simple application des principes vus dans la partie « Gestion fluide du mouvement » :</p><pre id="r-167080" data-claire-element-id="167080"><code data-claire-semantic="cpp">void FreeFlyCamera::animate(Uint32 timestep)
{
//la vitesse réelle du déplacement est soit la vitesse de croisière, soit 10*la vitesse, en fonction
//de l'état enfoncé ou non de la touche correspondant à l'action "boost"
    double realspeed = (_keystates[_keyconf["boost"]])?10*_speed:_speed;
    if (_keystates[_keyconf["forward"]]) 
        _position += _forward * (realspeed * timestep); //on avance
    if (_keystates[_keyconf["backward"]])
        _position -= _forward * (realspeed * timestep); //on recule
    if (_keystates[_keyconf["strafe_left"]])
        _position += _left * (realspeed * timestep); //on se déplace sur la gauche
    if (_keystates[_keyconf["strafe_right"]]) 
        _position -= _left * (realspeed * timestep); //on se déplace sur la droite
    if (_verticalMotionActive)
    {
        if (timestep &gt; _timeBeforeStoppingVerticalMotion)
            _verticalMotionActive = false;
        else
            _timeBeforeStoppingVerticalMotion -= timestep;
        _position += Vector3D(0,0,_verticalMotionDirection*realspeed*timestep); //on monte ou on descend, en fonction de la valeur de _verticalMotionDirection
    }
    _target = _position + _forward; //comme on a bougé, on recalcule la cible fixée par la caméra

}</code></pre><p id="r-167081" data-claire-element-id="167081">On remarque que dans certains cas, il est possible lors du même appel à Animate d'avancer et reculer en même temps (si les touches « forward » et « backward » sont <strong>pressées simultanément</strong>). De manière tout à fait logique les deux mouvements <strong>s'annulent</strong> et la caméra ne bougera pas (en avant ou en arrière).</p><h5 id="r-look-1" data-claire-element-id="167085">Look</h5><p id="r-167083" data-claire-element-id="167083">La dernière méthode intéressante est bien sûr la méthode Look, appelée à chaque image, avant de dessiner la scène. Rien de compliqué ici, les autres méthodes ont calculé pour nous la position de la caméra et la cible qu'elle regarde. Il suffit de faire un appel propre à gluLookAt et tout va pour le mieux dans le meilleur des mondes.</p><pre id="r-167084" data-claire-element-id="167084"><code data-claire-semantic="cpp">void FreeFlyCamera::look()
{
    gluLookAt(_position.X,_position.Y,_position.Z,
              _target.X,_target.Y,_target.Z,
              0,0,1);
}</code></pre><h5 id="r-destructeur-3" data-claire-element-id="167090">Destructeur</h5><p id="r-167086" data-claire-element-id="167086">On finit néanmoins avec le destructeur pour « remettre les choses comme on les a trouvées ». Si l'utilisateur pense qu'il n'a plus besoin de sa caméra, il serait de bon ton quand même de lui rendre son curseur que l'on a masqué pour nos besoins personnels :</p><pre id="r-167087" data-claire-element-id="167087"><code data-claire-semantic="cpp">FreeFlyCamera::~FreeFlyCamera()
{
    SDL_WM_GrabInput(SDL_GRAB_OFF);
    SDL_ShowCursor(SDL_ENABLE);
}</code></pre><p id="r-167089" data-claire-element-id="167089">Vous trouverez bien sûr l'implémentation complète de la caméra dans l'archive en fin de chapitre.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
<span class="arrow"></span>
<span class="next">Gestion fluide du mouvement</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
<span class="next">Scène de test</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Scnedetest"></a><h2>Scène de test</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
<span class="arrow"></span>
<span class="next">Implémentation de la caméra</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">
<span class="next">La trigonométrie</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-scene-de-test-1" data-claire-element-id="167140">Scène de test</h4><p id="r-167097" data-claire-element-id="167097">Voilà, la caméra est prête mais une fois encore, comme pour la caméra TrackBall, il faut évidemment s'assurer de bien la créer et de lui envoyer tous les événements dont elle a besoin.</p><p id="r-167099" data-claire-element-id="167099">Un dilemme cependant se présentait à moi à la préparation de ce chapitre. Quelle scène minable allais-je encore créer pour montrer l'intérêt d'une caméra FreeFly ? :euh: <br> Pour vous épargner une réapparition de la scène du chapitre des textures (sol + cube + pyramide) j'ai lancé un appel sur les forums.<br> Deux zéros, qui ont appris l'OpenGL grâce à ce cours, ont répondu présents et nous ont donc préparé une petite scène sympathique qui nous servira même dans les chapitres à venir. Merci donc à <a href="http://www.siteduzero.com/membres-294-1659.html">TheDead Master</a> et à <a href="http://www.siteduzero.com/membres-294-1498.html">42</a> !</p><p id="r-167101" data-claire-element-id="167101">Leur scène est incluse dans un fichier à part, scene.cpp, dont les fonctions seront bien sûr appelées à partir de main.cpp.</p><p id="r-167103" data-claire-element-id="167103">Leurs fonctions que l'on doit appeler sont :</p><pre id="r-167105" data-claire-element-id="167105"><code data-claire-semantic="cpp">void chargerTextures(); //pour initialiser les textures que la scène utilise
void dessinerScene(); //pour dessiner leur scène</code></pre><p id="r-167106" data-claire-element-id="167106">Nous pouvons donc nous concentrer sur la création de la caméra.<br> En variable globale nous aurons donc :</p><pre id="r-167108" data-claire-element-id="167108"><code data-claire-semantic="cpp">FreeFlyCamera * camera;</code></pre><p id="r-167109" data-claire-element-id="167109">Encore une fois, sous forme de pointeur pour ne pas la créer avant que la SDL ne soit initialisée. Nous allouons la caméra dynamiquement après la création de la fenêtre :</p><pre id="r-167110" data-claire-element-id="167110"><code data-claire-semantic="cpp">int main(int argc, char *argv[])
{
//...
    atexit(stop);
//...
    SDL_SetVideoMode(width, height, 32, SDL_OPENGL);
//...
    chargerTextures(); //nécessaire pour que les textures de leur scène soient chargées

    camera = new FreeFlyCamera(Vector3D(0,0,2)); //pour les besoins de la scène on surélève la caméra dès le départ
//...
}</code></pre><p id="r-167111" data-claire-element-id="167111">La caméra sera automatiquement détruite à la fin du programme grâce à la fonction stop :</p><pre id="r-167112" data-claire-element-id="167112"><code data-claire-semantic="cpp">void stop()
{
    delete camera;
    SDL_Quit();
}</code></pre><p id="r-167113" data-claire-element-id="167113">Une fois la caméra créée, dans notre boucle principale il ne faut pas oublier :</p><ul id="r-167121" data-claire-element-id="167121"><li id="r-167116" data-claire-element-id="167116"><p id="r-167114" data-claire-element-id="167114">d'envoyer les événements que la caméra attend ;</p></li><li id="r-167120" data-claire-element-id="167120"><p id="r-167118" data-claire-element-id="167118">d'appeler la méthode FreeFlyCamera::animate pour que la caméra bouge.</p></li></ul><p id="r-167123" data-claire-element-id="167123">Cela se traduit donc par le code suivant :</p><pre id="r-167125" data-claire-element-id="167125"><code data-claire-semantic="cpp">while(SDL_PollEvent(&amp;event))
        {
            switch(event.type)
            {
                case SDL_QUIT:
                exit(0);
                break;
                case SDL_KEYDOWN:
                switch (event.key.keysym.sym)
                {
                    case SDLK_p:
                    takeScreenshot("test.bmp");
                    break;
                    case SDLK_ESCAPE:
                    exit(0);
                    break;
                    default : //on a utilisé la touche P et la touche ECHAP, le reste (en keydown) est donné à la caméra
                    camera-&gt;OnKeyboard(event.key);
                }
                break;
                case SDL_KEYUP: //on n'utilise pas de keyup, on donne donc tout à la caméra
                camera-&gt;OnKeyboard(event.key);
                break;
                case SDL_MOUSEMOTION: //la souris est bougée, ça n'intéresse que la caméra
                camera-&gt;OnMouseMotion(event.motion);
                break;
                case SDL_MOUSEBUTTONUP:
                case SDL_MOUSEBUTTONDOWN: //tous les évenements boutons (up ou down) sont donnés à la caméra
                camera-&gt;OnMouseButton(event.button);
                break;
            }
        }

        current_time = SDL_GetTicks();
        elapsed_time = current_time - last_time; //on calcule le temps écoulé depuis la dernière image
        last_time = current_time;

        camera-&gt;animate(elapsed_time); //et on fait bouger la caméra

        DrawGL();</code></pre><p id="r-167127" data-claire-element-id="167127">Le détail de la fonction d'affichage ne nous intéresse pas vraiment ici. En effet la majeure partie se fait dans le scene.cpp pour utiliser la scène de The Dead Master et 42. Par contre, il ne faut pas oublier d'appeler la méthode look() de notre caméra :</p><pre id="r-167129" data-claire-element-id="167129"><code data-claire-semantic="cpp">void DrawGL()
{
    glClear( GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT );

    glMatrixMode( GL_MODELVIEW );
    glLoadIdentity( );

    camera-&gt;look(); //remplace un appel manuel à gluLookAt

    dessinerScene();

    glFlush();
    SDL_GL_SwapBuffers();
}</code></pre><p id="r-167130" data-claire-element-id="167130">Et voilà le travail ! :soleil:</p><figure id="r-167132" data-claire-element-id="167133"><img id="r-167131" data-claire-element-id="167131" src="./Tutoriel_sdz_kayl_OpenGL/12280.jpg" alt="Image utilisateur"></figure><p id="r-167134" data-claire-element-id="167134"><a href="http://62.4.17.167/uploads/fr/ftp/kayl/freefly.avi">Téléchargez la vidéo au format avi/Xvid (2.11 Mo)</a></p><p id="r-167136" data-claire-element-id="167136"><a href="http://sdz.tdct.org/sdz/medias/www.siteduzero.com_uploads_fr_ftp_kayl_sdlgl_09_freefly.zip">Téléchargez le projet Code::Blocks, l'exécutable Windows et le Makefile Unix (1.23 Mo)</a></p><p id="r-167137" data-claire-element-id="167137">On arrive enfin au bout de ce chapitre ! :pirate: <br> Rappelez-vous que si vous n'avez pas tout compris des détails de l'implémentation de la caméra, comprendre son principe (mouvement) et comment l'utiliser peut suffire.<br> Maintenant grâce à notre caméra <strong>FreeFly</strong> nous pouvons enfin nous balader librement dans nos scènes et les contempler sous vraiment tous les angles.</p><p id="r-167138" data-claire-element-id="167138">Nous garderons cette scène pour le prochain chapitre, <strong>la transparence</strong>, dans lequel nous verrons comment rendre l'eau et les fenêtres transparentes. :magicien: Tout un programme !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
<span class="arrow"></span>
<span class="next">Implémentation de la caméra</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">
<span class="next">La trigonométrie</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Latrigonomtrie"></a><h2>La trigonométrie</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
<span class="arrow"></span>
<span class="next">Scène de test</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
<span class="next">Trigo dans un triangle rectangle</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div class="content">
<p id="r-167156" data-claire-element-id="167156">Dans cette annexe mathématique nous verrons le concept mathématique de trigonométrie, généralement rencontré dès la classe de 3e dans le cursus français.<br> Nous nous contenterons de parcourir le <strong>minimum utile</strong> pour faire de la <strong>3D</strong> et nous verrons que des outils mathématiques faciles d'utilisation peuvent nous être grandement utiles.</p>
</div><a name="Trigodansuntrianglerectangle"></a><h2>Trigo dans un triangle rectangle</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">
<span class="arrow"></span>
<span class="next">La trigonométrie</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
<span class="next">Le cercle trigonométrique</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-trigo-dans-un-triangle-rectangle" data-claire-element-id="167174">Trigo dans un triangle rectangle</h4><p id="r-167158" data-claire-element-id="167158">La trigonométrie (littéralement « mesures » dans le « triangle »), est une branche des maths qui vient donner des relations entre les longueurs des côtés d'un triangle et ses angles.</p><p id="r-167160" data-claire-element-id="167160">La trigonométrie se rencontre généralement dans le cas d'un triangle rectangle :</p><figure id="r-167163" data-claire-element-id="167165"><img id="r-167162" data-claire-element-id="167162" src="./Tutoriel_sdz_kayl_OpenGL/11730.png" alt="Image utilisateur"></figure><p id="r-167168" data-claire-element-id="167168">En considérant l'angle alpha, on définit deux fonctions « cosinus » et « sinus » permettant de donner une relation entre la valeur de cet angle, et les longueurs des côtés du triangle :</p><figure id="r-167170" data-claire-element-id="167171"><img id="r-167169" data-claire-element-id="167169" src="./Tutoriel_sdz_kayl_OpenGL/11731.png" alt="Image utilisateur"></figure><p id="r-167172" data-claire-element-id="167172">En utilisant l'inverse de ces fonctions on peut alors trouver la valeur de l'angle en fonction des longueurs des côtés. On peut tout aussi bien, à partir de la valeur de l'angle et de la longueur d'un seul côté du triangle, trouver les longueurs des autres côtés.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">
<span class="arrow"></span>
<span class="next">La trigonométrie</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
<span class="next">Le cercle trigonométrique</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Lecercletrigonomtrique"></a><h2>Le cercle trigonométrique</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
<span class="arrow"></span>
<span class="next">Trigo dans un triangle rectangle</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
<span class="next">Systèmes de coordonnées</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-le-cercle-trigonometrique" data-claire-element-id="167198">Le cercle trigonométrique</h4><p id="r-167177" data-claire-element-id="167177">Le triangle rectangle est la première approche que l'on a de la trigonométrie. On introduit généralement un autre objet mathématique : le cercle trigonométrique. Ce cercle mesure « 1 » (pas d'unité requise) de rayon et nous permet de donner tout leur sens au cosinus et sinus que nous venons de rencontrer :</p><figure id="r-167179" data-claire-element-id="167181"><img id="r-167178" data-claire-element-id="167178" src="./Tutoriel_sdz_kayl_OpenGL/11732.png" alt="Image utilisateur"></figure><p id="r-167184" data-claire-element-id="167184">Dans la figure ci-dessus on retrouve un triangle rectangle et donc nos formules vues plus haut sont toujours applicables :</p><figure id="r-167187" data-claire-element-id="167188"><img id="r-167186" data-claire-element-id="167186" src="./Tutoriel_sdz_kayl_OpenGL/11733.png" alt="Image utilisateur"></figure><figure id="r-167192" data-claire-element-id="167194"><img id="r-167190" data-claire-element-id="167190" src="./Tutoriel_sdz_kayl_OpenGL/11734.png" alt="Image utilisateur"></figure><p id="r-167196" data-claire-element-id="167196">Et là tout s'éclaire ! Alors qu'auparavant nous pensions que cos et sin étaient de simples mesures abstraites qui ne servaient pas à grand chose, ici on se rend compte grâce au cercle trigonométrique qu'elles permettent de donner l'abscisse (sur X) et l'ordonnée (sur Y) d'un point quelconque du cercle trigonométrique se trouvant à un angle alpha donné par rapport à l'origine.<br> On note au passage que les angles se mesurent ici dans le sens trigonométrique (c'est-à-dire le sens inverse des aiguilles d'une montre).</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
<span class="arrow"></span>
<span class="next">Trigo dans un triangle rectangle</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
<span class="next">Systèmes de coordonnées</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Systmesdecoordonnes"></a><h2>Systèmes de coordonnées</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
<span class="arrow"></span>
<span class="next">Le cercle trigonométrique</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">
<span class="next">Les matrices</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-systemes-de-coordonnees" data-claire-element-id="167301">Systèmes de coordonnées</h4><p id="r-167202" data-claire-element-id="167202">Nous avons vu rapidement dans le cas du cercle trigonométrique que nous pouvions passer d'un angle à une coordonnée (X,Y). Il est donc temps de faire un petit rappel non exhaustif sur les systèmes de coordonnées qui nous intéressent avec OpenGL.</p><h5 id="r-coordonnees-cartesiennes" data-claire-element-id="167210">Coordonnées cartésiennes</h5><figure id="r-167204" data-claire-element-id="167206"><img id="r-167203" data-claire-element-id="167203" src="./Tutoriel_sdz_kayl_OpenGL/11735.png" alt="Image utilisateur"></figure><p id="r-167208" data-claire-element-id="167208">Les coordonnées cartésiennes sont les plus courantes. C'est d'ailleurs dans ce système que l'on exprime les positions de nos vertices avec OpenGL : glVertex3d( X, Y, Z);</p><h5 id="r-coordonnees-polaires" data-claire-element-id="167243">Coordonnées polaires</h5><figure id="r-167213" data-claire-element-id="167215"><img id="r-167212" data-claire-element-id="167212" src="./Tutoriel_sdz_kayl_OpenGL/11736.png" alt="Image utilisateur"></figure><p id="r-167216" data-claire-element-id="167216">Les coordonnées polaires sont un autre système de coordonnées que nous n'utiliserons pas trop mais qui nous sert d'intermédiaire pour bien comprendre la suite.<br> Un point est repéré par un <strong>angle</strong> (thêta) et un <strong>rayon</strong> (r). On y voit une généralisation du cercle trigonométrique (où r valait 1) et donc nous pouvons très facilement en déduire comment passer des coordonnées polaires aux coordonnées cartésiennes :</p><figure id="r-167218" data-claire-element-id="167219"><img id="r-167217" data-claire-element-id="167217" src="./Tutoriel_sdz_kayl_OpenGL/11737.png" alt="Image utilisateur"></figure><h6 id="r-exemple-en-opengl" data-claire-element-id="167240">Exemple en OpenGL</h6><p id="r-167220" data-claire-element-id="167220">Nous venons de voir qu'il est possible d'exprimer un même point dans des systèmes de coordonnées différents.<br> Nous pouvons donc envisager deux méthodes identiques en OpenGL pour faire tourner un point autour de l'origine :</p><table id="r-167236" data-claire-element-id="167236"><thead id="r-167226" data-claire-element-id="167226"><tr id="r-167225" data-claire-element-id="167225"><th id="r-167222" data-claire-element-id="167222"><p id="r-167221" data-claire-element-id="167221">Coordonnées polaires</p></th><th id="r-167224" data-claire-element-id="167224"><p id="r-167223" data-claire-element-id="167223">Coordonnées cartésiennes*</p></th></tr></thead><tbody id="r-167235" data-claire-element-id="167235"><tr id="r-167234" data-claire-element-id="167234"><td id="r-167229" data-claire-element-id="167229"><pre id="r-167228" data-claire-element-id="167227"><code data-claire-semantic="c">glRotated(theta,0,0,1);
glBegin(GL_POINTS);
glVertex2i(r,0);
glEnd();</code></pre></td><td id="r-167233" data-claire-element-id="167233"><pre id="r-167231" data-claire-element-id="167231"><code data-claire-semantic="c">#include &lt;math.h&gt;

x=r*cos(theta*M_PI/180);
y=r*sin(theta*M_PI/180);
glBegin(GL_POINTS);
glVertex2i(x,y);
glEnd();</code></pre></td></tr></tbody></table><p id="r-167238" data-claire-element-id="167238">* les angles en OpenGL sont exprimés en degrés, cependant cos et sin, les fonctions définies dans &lt;math.h&gt;, attendent des radians. Il faut donc les convertir en multipliant par M_PI/180.</p><h5 id="r-coordonnees-spheriques" data-claire-element-id="167296">Coordonnées sphériques</h5><p id="r-167245" data-claire-element-id="167245">Ce système de coordonnées peut être vu comme une généralisation des coordonnées polaires en 3D. Il est très utile et nous servira notamment à contrôler l'orientation de notre caméra à l'aide de la souris.<br> En coordonnées sphériques, un point est représenté par <strong>un rayon</strong> r, et <strong>deux angles</strong> thêta et phi :</p><figure id="r-167250" data-claire-element-id="167252"><img id="r-167248" data-claire-element-id="167248" src="./Tutoriel_sdz_kayl_OpenGL/4111.png" alt="Image utilisateur"></figure><p id="r-167254" data-claire-element-id="167254">Pour passer des coordonnées sphériques aux coordonnées cartésiennes qui nous sont si chères, il faut y aller en deux étapes et se ramener à des cas 2D très simples.</p><p id="r-167256" data-claire-element-id="167256">Tout d'abord considérons seulement le rayon r et l'angle phi. Nous nous ramenons à un cas de coordonnées polaires sur le plan XZ :</p><figure id="r-167259" data-claire-element-id="167261"><img id="r-167258" data-claire-element-id="167258" src="./Tutoriel_sdz_kayl_OpenGL/11738.png" alt="Image utilisateur"></figure><p id="r-167262" data-claire-element-id="167262">Nous pouvons en déduire directement la coordonnée Z de notre point avec le sinus, et le cosinus nous permet de définir une variable intermédiaire rtemp.</p><figure id="r-167266" data-claire-element-id="167267"><img id="r-167264" data-claire-element-id="167264" src="./Tutoriel_sdz_kayl_OpenGL/11739.png" alt="Image utilisateur"></figure><p id="r-167269" data-claire-element-id="167269">rtemp est le rayon d'un cercle intermédiaire placé à l'altitude Z de notre point :</p><figure id="r-167272" data-claire-element-id="167274"><img id="r-167270" data-claire-element-id="167270" src="./Tutoriel_sdz_kayl_OpenGL/11740.png" alt="Image utilisateur"></figure><p id="r-167277" data-claire-element-id="167276">En regardant notre sphère du dessus et considérant le cercle de rayon rtemp avec le dernier angle thêta, nous sommes à nouveau dans un simple problème de coordonnées polaires. Il est donc aisé de déterminer les coordonnées X et Y finales de notre point :</p><figure id="r-167280" data-claire-element-id="167281"><img id="r-167279" data-claire-element-id="167279" src="./Tutoriel_sdz_kayl_OpenGL/11741.png" alt="Image utilisateur"></figure><p id="r-167284" data-claire-element-id="167284">En résumé nous avons donc tout simplement :</p><figure id="r-167288" data-claire-element-id="167289"><img id="r-167287" data-claire-element-id="167286" src="./Tutoriel_sdz_kayl_OpenGL/11742.png" alt="Image utilisateur"></figure><p id="r-167291" data-claire-element-id="167291">Comme je l'ai dit plus haut, ce système de coordonnées nous sera très utile car nous pourrons ainsi contrôler l'orientation de la caméra à la souris : l'angle thêta contrôle l'orientation horizontale du regard (comme quand on fait « non » de la tête) et l'angle phi contrôle l'orientation verticale du regard (comme quand on fait « oui » de la tête).</p><p id="r-167293" data-claire-element-id="167293">Ce chapitre, d'un niveau mathématique assez facile (collège), viens trouver tout son sens dans le chapitre : le contrôle avancé de la caméra, où nous contrôlons une caméra de type <em>free-fly</em> avec la souris et le clavier.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
<span class="arrow"></span>
<span class="next">Le cercle trigonométrique</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">
<span class="next">Les matrices</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Lesmatrices"></a><h2>Les matrices</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
<span class="arrow"></span>
<span class="next">Systèmes de coordonnées</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
<span class="next">L'outil matrice</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div class="content">
<p id="r-167307" data-claire-element-id="167307">Cette annexe mathématique est un passage obligé pour tous ceux qui veulent comprendre ce qui se passe réellement derrière les calculs qu'OpenGL fait pour nous.<br> Bien que l'<em>objet mathématique</em> matrice ne soit enseigné à l'école que dans le supérieur il n'a rien de mystique et une utilisation basique avec peu de connaissances en est tout à fait possible.<br> Je ne détaillerai ici que ce que nous avons besoin de savoir pour le cours d'OpenGL et vous verrez que ça n'a vraiment rien de sorcier.<br> Les novices y découvriront donc un nouvel objet mathématique très pratique, ceux qui les connaissent déjà dans d'autres contextes (trouver le Kernel, le vecteur propre, oui oui je suis passé par là aussi ;) ) quant à eux vont enfin voir une application pratique et très simple des matrices.</p>
</div><a name="L039outilmatrice"></a><h2>L'outil matrice</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">
<span class="arrow"></span>
<span class="next">Les matrices</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
<span class="next">Transformations</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-l-outil-matrice" data-claire-element-id="167394">L'outil matrice</h4><h5 id="r-representation" data-claire-element-id="167323">Représentation</h5><p id="r-167309" data-claire-element-id="167309">Une matrice (<em>matrix</em> en anglais) se représente <em>comme</em> un tableau de nombres composé de lignes et de colonnes.</p><figure id="r-167314" data-claire-element-id="167315"><img id="r-167311" data-claire-element-id="167311" src="./Tutoriel_sdz_kayl_OpenGL/4113.png" alt="Image utilisateur"></figure><p id="r-167317" data-claire-element-id="167317"><em>Un exemple de matrice</em></p><p id="r-167318" data-claire-element-id="167318">On désigne généralement un élément par son numéro de ligne suivi de son numéro de colonne. Par exemple pour la matrice ci-dessus, l'élément en (1,2) est 15.</p><p id="r-167320" data-claire-element-id="167320">Les matrices peuvent être de toutes tailles mais dans le cas d'OpenGL les matrices que nous utiliserons, implicitement ou non, seront des matrices 4x4 (4 lignes, 4 colonnes). Cette taille n'est pas anodine et est liée à l'utilisation géométrique qui en est faite en 3D (nous le verrons juste après).</p><p id="r-167322" data-claire-element-id="167322">Tout comme avec les nombres ou les vecteurs, nous pouvons effectuer certaines opérations sur les matrices. La seule qui nous intéresse ici est la multiplication.</p><h5 id="r-multiplication-de-matrices" data-claire-element-id="167351">Multiplication de matrices</h5><p id="r-167324" data-claire-element-id="167324">Multiplier deux matrices est une gymnastique facile et rigolote. Mais les erreurs quand on le fait à la main sont assez fréquentes (tous ces chiffres qui se croisent, pauvres de nous ! ^^ ).</p><p id="r-167326" data-claire-element-id="167326">Le principe est simple, pour calculer l'élément (i,j) de la matrice C, produit de deux matrices A et B, on multiplie la ligne i de A par la colonne j de B comme formalisé par :</p><figure id="r-167328" data-claire-element-id="167329"><img id="r-167327" data-claire-element-id="167327" src="./Tutoriel_sdz_kayl_OpenGL/11229.gif" alt="Image utilisateur"></figure><p id="r-167331" data-claire-element-id="167331">Cette formule un peu barbare se résume très simplement par le schéma suivant :</p><figure id="r-167334" data-claire-element-id="167335"><img id="r-167332" data-claire-element-id="167332" src="./Tutoriel_sdz_kayl_OpenGL/11230.png" alt="Image utilisateur"></figure><p id="r-167338" data-claire-element-id="167338"><em>Principe de la multiplication matrice x matrice</em></p><p id="r-167339" data-claire-element-id="167339">Et pour bien comprendre ce que l'on fait de chaque élément, voici un calcul étape par étape pour 2 matrices simples :</p><figure id="r-167342" data-claire-element-id="167343"><img id="r-167340" data-claire-element-id="167340" src="./Tutoriel_sdz_kayl_OpenGL/11231.gif" alt="Image utilisateur"></figure><p id="r-167344" data-claire-element-id="167344"><em>Détail d'une multiplication matrice x matrice</em></p><p id="r-167345" data-claire-element-id="167345">Comme vous le voyez pour multiplier une ligne par une colonne, on fait la somme de chaque sous-produit entre éléments de la ligne de la matrice de gauche et de la colonne de la matrice de droite. La meilleure façon pour bien assimiler la technique est la pratique avec un papier et un crayon (ça va pour les matrices simples seulement, quand ça devient grand on s'embrouille vite :lol: ).</p><p id="r-167346" data-claire-element-id="167346">Pour une raison évidente, comme nous multiplions des lignes par des colonnes, on ne peut multiplier deux matrices A et B<strong>que</strong> si le nombre de colonnes de A est égal au nombre de lignes de B. Mais rassurez-vous, vous n'avez pas à vous en préoccuper car dans notre cas nous utilisons des matrices carrées (autant de lignes que de colonnes) et donc cette condition est toujours vérifiée.</p><aside id="r-167348" data-claire-element-id="167348" data-claire-semantic="warning"><p id="r-167347" data-claire-element-id="167347">Contrairement aux nombres, la multiplication entre matrices n'est <strong>pas commutative</strong> ( AxB != BxA ). L'ordre des multiplications est donc important (comme nous le verrons lors de la <em>combinaison de transformations</em>).</p></aside><h5 id="r-multiplication-matrice-x-vecteur" data-claire-element-id="167366">Multiplication matrice x vecteur</h5><p id="r-167357" data-claire-element-id="167357">Un vecteur n'est qu'un cas particulier de matrice avec une seule colonne. Il est donc tout à fait possible de multiplier une matrice par un vecteur (si la condition sur les tailles énoncée plus haut est remplie).</p><p id="r-167359" data-claire-element-id="167359">Exemple :</p><figure id="r-167362" data-claire-element-id="167363"><img id="r-167360" data-claire-element-id="167360" src="./Tutoriel_sdz_kayl_OpenGL/11232.png" alt="Image utilisateur"></figure><p id="r-167365" data-claire-element-id="167365"><em>Multiplication matrice x vecteur (le résultat est un vecteur)</em></p><h5 id="r-matrice-identite" data-claire-element-id="167381">Matrice identité</h5><p id="r-167368" data-claire-element-id="167368">La matrice identité est une matrice particulière, souvent notée I, dont tous les éléments de la diagonale sont à 1 (exemple en 4x4) :</p><figure id="r-167370" data-claire-element-id="167372"><img id="r-167369" data-claire-element-id="167369" src="./Tutoriel_sdz_kayl_OpenGL/11234.png" alt="Image utilisateur"></figure><p id="r-167374" data-claire-element-id="167375">C'est ce que l'on appelle un élément neutre, en effet un vecteur multiplié par la matrice identité en ressort inchangé :</p><figure id="r-167377" data-claire-element-id="167379"><img id="r-167376" data-claire-element-id="167376" src="./Tutoriel_sdz_kayl_OpenGL/11235.png" alt="Image utilisateur"></figure><h5 id="r-inverse" data-claire-element-id="167390">Inverse</h5><p id="r-167384" data-claire-element-id="167384">La dernière propriété qui nous intéresse sur les matrices est la notion d'inverse. Si par exemple nous avons une matrice M qui vient coder d'une certaine façon une translation de (1,1,1), alors son inverse M' sera une translation de (-1,-1,-1). Donc si l'on applique la matrice et son inverse à la suite à un vecteur, il reviendra donc comme il était au début. Mathématiquement on écrit ça comme ceci :</p><figure id="r-167386" data-claire-element-id="167387"><img id="r-167385" data-claire-element-id="167385" src="./Tutoriel_sdz_kayl_OpenGL/11236.png" alt="Image utilisateur"></figure><p id="r-167389" data-claire-element-id="167389">Le produit d'une matrice avec son inverse donne l'identité. L'exemple qui était pris (translation) était très simple. Dans le cas général calculer l'inverse d'une matrice est assez barbare mais je vous en donnerai l'implémentation quand nous en aurons besoin.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">
<span class="arrow"></span>
<span class="next">Les matrices</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
<span class="next">Transformations</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Transformations"></a><h2>Transformations</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
<span class="arrow"></span>
<span class="next">L'outil matrice</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
<span class="next">Combinaison de transformations</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-transformations-1" data-claire-element-id="167493">Transformations</h4><p id="r-167398" data-claire-element-id="167398">Maintenant que nous comprenons l'outil mathématique matrice, je vais vous en montrer une utilisation bien pratique : les transformations géométriques.</p><p id="r-167400" data-claire-element-id="167400">Nous l'avons vu plus haut, multiplier une matrice par un vecteur donne un autre vecteur. Ce vecteur résultat n'est autre que la transformée du vecteur initial par la transformation « contenue » dans la matrice.</p><p id="r-167401" data-claire-element-id="167401">On se sert donc d'une simple multiplication matrice de transformation x vecteur de coordonnées pour obtenir les coordonnées transformées d'un point :</p><figure id="r-167403" data-claire-element-id="167404"><img id="r-167402" data-claire-element-id="167402" src="./Tutoriel_sdz_kayl_OpenGL/11238.png" alt="Image utilisateur"></figure><p id="r-167406" data-claire-element-id="167406">Comme il est possible en utilisant une matrice de transformer un vecteur par un autre, nous allons utiliser cette propriété pour stocker dans la matrice des éléments pour exécuter chaque transformation élémentaire dont nous avons besoin en 3D : la rotation, la translation, et le changement d'échelle :</p><figure id="r-167409" data-claire-element-id="167411"><img id="r-167408" data-claire-element-id="167408" src="./Tutoriel_sdz_kayl_OpenGL/11239.png" alt="Image utilisateur"></figure><p id="r-167413" data-claire-element-id="167413">Vous trouverez l'explication numérique de chaque transformation un peu après.</p><div id="r-167417" data-claire-element-id="167417" data-claire-semantic="question"><p id="r-167415" data-claire-element-id="167415">À quoi servent donc les éléments du bas qui n'ont d'utilité pour aucune transformation apparemment ?</p></div><p id="r-167419" data-claire-element-id="167419">Le fait que la matrice fasse 4 colonnes de large est fixé pour nos besoins (rotation, scale, translation). Mais pour pouvoir faciliter les choses et plus tard savoir, à partir d'une matrice, trouver son inverse, il <strong>faut</strong> que celle-ci soit <strong>carrée</strong> (autant de lignes que de colonnes). C'est pourquoi la matrice de transformation possède aussi 4 lignes au lieu de 3. Il s'avère qu'une partie de la 4e ligne est utilisée par OpenGL pour la projection mais nous n'avons pas besoin d'en savoir plus sur le sujet.</p><h5 id="r-coordonnees-homogenes" data-claire-element-id="167430">Coordonnées homogènes</h5><div id="r-167423" data-claire-element-id="167423" data-claire-semantic="question"><p id="r-167421" data-claire-element-id="167421">Ok pour la taille de la matrice mais nos vecteurs sont en 3D hein, c'est quoi ce 4e élément ? C'est le temps ?</p></div><p id="r-167425" data-claire-element-id="167425">Non non, ici nous ne travaillons pas en 4D :) mais bien en 3D. Vous le savez maintenant pour pouvoir multiplier une matrice et un vecteur il faut une condition particulière sur les dimensions : la taille du vecteur doit être égale au nombre de colonnes de la matrice, ici 4. Nous introduisons donc <strong>temporairement</strong> une 4e coordonnée (appelée w) pour exprimer et former ce que l'on appelle une coordonnée <strong>homogène</strong>.</p><p id="r-167427" data-claire-element-id="167427">Pour passer d'un vecteur 3D (x,y,z) à son équivalent en coordonnées homogènes il suffit de rajouter un 1 soit (x,y,z,1). Par contre pour passer d'un vecteur en coordonnées homogènes (x,y,z,w) à sa version 3D normale il faut diviser les 3 premières coordonnées par la dernière soit : (x/w,y/w,z/w).<br> Dans notre cas (les transformations), la 4e coordonnée n'est <strong>jamais</strong> modifiée et reste donc toujours à 1. Nous n'avons donc pas à nous en soucier.</p><p id="r-167429" data-claire-element-id="167429">Voyons donc maintenant ce qui est mis réellement dans la matrice pour coder les transformations.</p><h5 id="r-identite" data-claire-element-id="167439">Identité</h5><figure id="r-167433" data-claire-element-id="167435"><img id="r-167432" data-claire-element-id="167432" src="./Tutoriel_sdz_kayl_OpenGL/11240.png" alt="Image utilisateur"></figure><p id="r-167438" data-claire-element-id="167438">Nous l'avons vu plus tôt cette matrice ne fait rien. Ça peut paraître inutile mais c'est ce que nous utiliserons pour réinitialiser la matrice à un état <strong>connu</strong> dont nous sommes sûrs qu'il n'affecte par les coordonnées des vertices.</p><h5 id="r-translation-1" data-claire-element-id="167448">Translation</h5><p id="r-167442" data-claire-element-id="167442">Une translation de (x,y,z) s'écrit matriciellement :</p><figure id="r-167444" data-claire-element-id="167445"><img id="r-167443" data-claire-element-id="167443" src="./Tutoriel_sdz_kayl_OpenGL/11241.png" alt="Image utilisateur"></figure><p id="r-167447" data-claire-element-id="167447">Et en effet si on effectue la multiplication d'un vecteur quelconque (a,b,c) par cette matrice de translation, on obtient un vecteur résultat qui n'est ni plus ni moins que l'image du premier vecteur par cette translation.</p><h5 id="r-changement-d-echelle-scale" data-claire-element-id="167459">Changement d'échelle (Scale)</h5><p id="r-167450" data-claire-element-id="167450">Un changement d'échelle s'écrit matriciellement :</p><figure id="r-167453" data-claire-element-id="167455"><img id="r-167451" data-claire-element-id="167451" src="./Tutoriel_sdz_kayl_OpenGL/11242.png" alt="Image utilisateur"></figure><p id="r-167457" data-claire-element-id="167457">En effectuant la multiplication de la matrice de changement d'échelle par un vecteur quelconque on voit bien que ses composantes sont multipliées par chacune des composantes du changement d'échelle.</p><h5 id="r-rotation-3" data-claire-element-id="167490">Rotation</h5><p id="r-167462" data-claire-element-id="167462">Attention accrochez-vous, une rotation d'angle thêta, autour d'un axe quelconque (x,y,z) s'écrit matriciellement :</p><figure id="r-167466" data-claire-element-id="167467"><img id="r-167463" data-claire-element-id="167463" src="./Tutoriel_sdz_kayl_OpenGL/11245.png" alt="Image utilisateur"></figure><p id="r-167469" data-claire-element-id="167469">Ça fait peur hein ! :diable: Ici c'est le cas le plus général qui soit. Simplifions vite cela en prenant le cas particulier de la rotation d'angle thêta (et oui toujours) autour de l'axe Z (0,0,1). Tout ce qui concerne x et y s'en va et on se retrouve avec une matrice qui fait nettement moins peur :</p><figure id="r-167472" data-claire-element-id="167473"><img id="r-167471" data-claire-element-id="167471" src="./Tutoriel_sdz_kayl_OpenGL/11246.png" alt="Image utilisateur"></figure><p id="r-167476" data-claire-element-id="167476">Pour vérifier que cela marche bien comme on l'entend, prenons encore un cas plus particulier : celui de la rotation de 90° autour de l'axe Z et appliquons-la au vecteur (1,1) :</p><figure id="r-167479" data-claire-element-id="167480"><img id="r-167478" data-claire-element-id="167478" src="./Tutoriel_sdz_kayl_OpenGL/11247.png" alt="Image utilisateur"></figure><p id="r-167482" data-claire-element-id="167482">Par le calcul on obtient donc le vecteur (-1,1) en rouge qui est en effet la rotation de 90° du vecteur (1,1) en noir.</p><figure id="r-167486" data-claire-element-id="167488"><img id="r-167484" data-claire-element-id="167484" src="./Tutoriel_sdz_kayl_OpenGL/11248.png" alt="Image utilisateur"></figure>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
<span class="arrow"></span>
<span class="next">L'outil matrice</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
<span class="next">Combinaison de transformations</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Combinaisondetransformations"></a><h2>Combinaison de transformations</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
<span class="arrow"></span>
<span class="next">Transformations</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">
<span class="next">Créer une vidéo de votre programme</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-combinaison-de-transformations" data-claire-element-id="167554">Combinaison de transformations</h4><p id="r-167496" data-claire-element-id="167496">Pour l'instant nous avons vu comment écrire chaque transformation de base matriciellement. Mais qu'en est-il quand nous souhaitons en faire plusieurs à la suite ?</p><p id="r-167497" data-claire-element-id="167497">Eh bien il suffit de les multiplier ! On fait ce qu'on appelle des <em>multiplications à droite</em>. Si nous voulons d'abord faire une translation puis une rotation, la matrice représentant la transformation totale sera : Translation x Rotation.</p><p id="r-167498" data-claire-element-id="167498">Exemple :<br> Translation de (1,0,0) <strong>suivie</strong> d'une rotation de 90° autour de l'axe Z :</p><figure id="r-167501" data-claire-element-id="167502"><img id="r-167499" data-claire-element-id="167499" src="./Tutoriel_sdz_kayl_OpenGL/11252.png" alt="Image utilisateur"></figure><h5 id="r-ordre-des-transformations-1" data-claire-element-id="167549">Ordre des transformations</h5><p id="r-167505" data-claire-element-id="167505">L'ordre dans lequel sont faites les transformations est important. En effet faire une translation suivie d'une rotation n'a pas le même effet que faire une rotation suivie d'une translation.</p><p id="r-167506" data-claire-element-id="167506">Reprenons l'exemple de la translation de (1,0,0) mais cette fois-ci <strong>précédée</strong> d'une rotation de 90° autour de l'axe Z :</p><figure id="r-167510" data-claire-element-id="167511"><img id="r-167508" data-claire-element-id="167508" src="./Tutoriel_sdz_kayl_OpenGL/11253.png" alt="Image utilisateur"></figure><p id="r-167513" data-claire-element-id="167513">La matrice finale n'est pas la même que précédemment. Et en effet si on compare graphiquement, l'effet est totalement différent :</p><figure id="r-167516" data-claire-element-id="167518"><img id="r-167515" data-claire-element-id="167515" src="./Tutoriel_sdz_kayl_OpenGL/11254.png" alt="Image utilisateur"></figure><p id="r-167521" data-claire-element-id="167521"><em>Importance de l'ordre des transformations</em></p><p id="r-167523" data-claire-element-id="167523">Ce chapitre assez mathématique peut nécessiter plusieurs lectures et je vous conseille de le relire conjointement avec le chapitre sur les <a href="http://www.siteduzero.com/tuto-3-6304-1-les-transformations.html">transformations</a> pour avoir des exemples appliqués à OpenGL.</p><p id="r-167525" data-claire-element-id="167525">Si vous voulez en savoir un peu plus sur l'outil matrice je vous conseille d'aller faire un tour sur <a href="http://fr.wikipedia.org/wiki/Matrice_(math%C3%A9matiques)">Wikipédia</a>.</p><p id="r-167527" data-claire-element-id="167527">Et enfin si vous vous demandez d'où je tire toutes ces informations barbares sur les représentations matricielles des transformations, je vous conseille, si ce n'est déjà fait, de jeter un coup d'oeil dans l'<strong>excellente</strong><a href="http://www.opengl.org/documentation/specs/man_pages/hardcopy/GL/html/gl/">documentation d'OpenGL</a>, notamment les pages de :</p><ul id="r-167546" data-claire-element-id="167546"><li id="r-167531" data-claire-element-id="167531"><p id="r-167530" data-claire-element-id="167530"><a href="http://www.opengl.org/documentation/specs/man_pages/hardcopy/GL/html/gl/loadidentity.html">glLoadIdentity</a> ;</p></li><li id="r-167535" data-claire-element-id="167535"><p id="r-167533" data-claire-element-id="167533"><a href="http://www.opengl.org/documentation/specs/man_pages/hardcopy/GL/html/gl/translate.html">glTranslate</a> ;</p></li><li id="r-167538" data-claire-element-id="167538"><p id="r-167537" data-claire-element-id="167537"><a href="http://www.opengl.org/documentation/specs/man_pages/hardcopy/GL/html/gl/rotate.html">glRotate</a> ;</p></li><li id="r-167540" data-claire-element-id="167540"><p id="r-167539" data-claire-element-id="167539"><a href="http://www.opengl.org/documentation/specs/man_pages/hardcopy/GL/html/gl/scale.html">glScale</a> ;</p></li><li id="r-167544" data-claire-element-id="167544"><p id="r-167542" data-claire-element-id="167542"><a href="http://www.opengl.org/documentation/specs/man_pages/hardcopy/GL/html/gl/multmatrix.html">glMultMatrix</a> (pour la partie sur la combinaison de transformations).</p></li></ul><p id="r-167548" data-claire-element-id="167548">Toutes ces informations combinées nous permettent de mieux comprendre comment fonctionne OpenGL et surtout d'être capables d'implémenter nous-mêmes les transformations (nous serons amenés à les utiliser).</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
<span class="arrow"></span>
<span class="next">Transformations</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">
<span class="next">Créer une vidéo de votre programme</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Crerunevidodevotreprogramme"></a><h2>Créer une vidéo de votre programme</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
<span class="arrow"></span>
<span class="next">Combinaison de transformations</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
<span class="next">Enregistrer la vidéo</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div class="content">
<p id="r-167558" data-claire-element-id="167558">Vous avez peut-être été surpris de voir apparaître dans mon tutoriel des vidéos montrant les résultats animés des chapitres.<br> Cette annexe a pour but de vous expliquer comment procéder pour créer des vidéos montrant vos jeux/animations 3D sous <strong>Windows</strong>.</p><aside id="r-167561" data-claire-element-id="167561" data-claire-semantic="information"><p id="r-167560" data-claire-element-id="167560">Si vous n'avez pas Windows, n'ayez crainte ! Vos programmes OpenGL sont censés être portables si vous suivez correctement le tutoriel jusqu'à présent. Il vous suffit d'utiliser l'ordi d'un ami (on a tous un ami sous Windows :p ) en lui emmenant vos sources pour les compiler sous Windows avec Code::Blocks par exemple.</p></aside>
</div><a name="Enregistrerlavido"></a><h2>Enregistrer la vidéo</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">
<span class="arrow"></span>
<span class="next">Créer une vidéo de votre programme</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
<span class="next">Encoder la vidéo</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-enregistrer-la-video" data-claire-element-id="167649">Enregistrer la vidéo</h4><p id="r-167562" data-claire-element-id="167562">La première étape est donc l'enregistrement de la vidéo. Pour ce faire nous allons utiliser un logiciel bien pratique : Fraps.</p><figure id="r-167565" data-claire-element-id="167567"><img id="r-167564" data-claire-element-id="167564" src="./Tutoriel_sdz_kayl_OpenGL/10943.png" alt="Image utilisateur"></figure><h5 id="r-telecharger-fraps" data-claire-element-id="167581">Télécharger Fraps</h5><p id="r-167568" data-claire-element-id="167568">Ce logiciel est disponible gratuitement à l'adresse suivante : <a href="http://www.fraps.com/download.php">http://www.fraps.com/download.php</a></p><p id="r-167570" data-claire-element-id="167570">La version gratuite possède cependant certaines limites :</p><ul id="r-167578" data-claire-element-id="167578"><li id="r-167573" data-claire-element-id="167573"><p id="r-167572" data-claire-element-id="167572">les vidéos seront limitées à 30 secondes ;</p></li><li id="r-167576" data-claire-element-id="167576"><p id="r-167575" data-claire-element-id="167575">un petit texte « <a href="http://www.fraps.com/">www.fraps.com</a> » apparaîtra en haut des vidéos.</p></li></ul><p id="r-167579" data-claire-element-id="167579">Le texte n'est pas trop handicapant, car discret et rien ne vous empêche de faire un montage de plusieurs vidéos de 30 secondes (une vidéo de démo d'un jeu ne s'attarde jamais bien longtemps sur un même endroit).</p><h5 id="r-configurer-fraps" data-claire-element-id="167620">Configurer Fraps</h5><p id="r-167583" data-claire-element-id="167583">Après avoir installé et lancé Fraps, rendez-vous dans l'onglet « Movies » pour configurer les options de capture de vidéo :</p><figure id="r-167586" data-claire-element-id="167587"><img id="r-167585" data-claire-element-id="167584" src="./Tutoriel_sdz_kayl_OpenGL/10944.png" alt="Image utilisateur"></figure><ol id="r-167617" data-claire-element-id="167617"><li id="r-167595" data-claire-element-id="167595"><p id="r-167589" data-claire-element-id="167589">Le répertoire où seront stockées les vidéos.</p><aside id="r-167592" data-claire-element-id="167592" data-claire-semantic="warning"><p id="r-167591" data-claire-element-id="167591">Pour des raisons d'optimisation de performances, les vidéos en sortie de Fraps seront très peu compressées. Pensez donc à spécifier un répertoire sur un disque où il y a de la place.</p></aside></li><li id="r-167600" data-claire-element-id="167600"><p id="r-167597" data-claire-element-id="167597">Utilisez de préférence <em>Full-Size</em> et changez la taille de votre fenêtre dans votre code. Cela évitera à Fraps d'avoir à redimensionner les images à la volée. En full Size avec une fenêtre de 640x480, la vidéo sera de taille 640x480.</p></li><li id="r-167607" data-claire-element-id="167607"><p id="r-167602" data-claire-element-id="167602">Choisissez le nombre d'images par seconde désirées pour votre vidéo. <strong>30</strong> est un très bon compromis entre fluidité et taille de la vidéo.</p><aside id="r-167606" data-claire-element-id="167606" data-claire-semantic="warning"><p id="r-167604" data-claire-element-id="167604">Pour respecter le framerate choisi, Fraps viendra limiter lui-même les FPS de votre application. Je vous conseille donc fortement de désactiver la limitation des FPS dans votre code avant d'enregistrer votre vidéo (il suffit simplement de commenter l'appel à SDL_Delay).</p></aside></li><li id="r-167611" data-claire-element-id="167611"><p id="r-167609" data-claire-element-id="167609">Choisissez une touche qui déclenchera, une fois votre application lancée, l'enregistrement de la vidéo. Vous pouvez garder la touche par défaut, ou changer si cette touche est déjà utilisée dans votre programme.</p></li><li id="r-167615" data-claire-element-id="167615"><p id="r-167613" data-claire-element-id="167613">Enfin minimisez Fraps (ça ne sert à rien de laisser la fenêtre visible) dans le systray.</p></li></ol><h5 id="r-enregistrement-de-la-video" data-claire-element-id="167646">Enregistrement de la vidéo</h5><p id="r-167622" data-claire-element-id="167622">En lançant votre application avec Fraps actif, vous verrez apparaître un nombre sur votre fenêtre. C'est le nombre d'images par seconde. En effet Fraps sert à faire des vidéos mais peut aussi vous aider à tester les performances de votre application.</p><figure id="r-167626" data-claire-element-id="167627"><img id="r-167624" data-claire-element-id="167624" src="./Tutoriel_sdz_kayl_OpenGL/10945.jpg" alt="Image utilisateur"></figure><p id="r-167630" data-claire-element-id="167630">Quand vous désirez commencer l'enregistrement, appuyez sur la touche choisie. Le nombre devient alors rouge pour vous signaler que Fraps a pris le contrôle du nombre d'images par seconde. Au bout de 30 secondes (pour la version gratuite), ou si vous appuyez à nouveau sur la touche, l'enregistrement s'arrête. Vous pouvez recommencer autant de fois que vous voulez sans quitter votre application tant que vous avez de la place sur votre disque dur. :p</p><figure id="r-167633" data-claire-element-id="167634"><img id="r-167632" data-claire-element-id="167632" src="./Tutoriel_sdz_kayl_OpenGL/10946.jpg" alt="Image utilisateur"></figure><p id="r-167637" data-claire-element-id="167636">En se rendant dans le répertoire des vidéos, on voit un nouveau fichier apparaître avec le nom de votre exécutable ainsi que la date. Ainsi il n'y pas de risque d'écrasement entre deux vidéos consécutives.</p><figure id="r-167639" data-claire-element-id="167641"><img id="r-167638" data-claire-element-id="167638" src="./Tutoriel_sdz_kayl_OpenGL/10947.png" alt="Image utilisateur"></figure><p id="r-167643" data-claire-element-id="167643">Cependant comme je vous l'ai dit plus haut, la vidéo n'est pas compressée et prend donc pas mal de place. De plus, elle n'est lisible pour l'instant que par vous (ou toute autre personne ayant installé Fraps). Il va donc falloir l'encoder dans un format courant : <strong>Xvid</strong> (alternative non propriétaire au divX).</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">
<span class="arrow"></span>
<span class="next">Créer une vidéo de votre programme</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
<span class="next">Encoder la vidéo</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div><a name="Encoderlavido"></a><h2>Encoder la vidéo</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
<span class="arrow"></span>
<span class="next">Enregistrer la vidéo</span>
</a>
</div>
<hr class="top">
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-encoder-la-video" data-claire-element-id="167709">Encoder la vidéo</h4><p id="r-167652" data-claire-element-id="167652">Pour encoder la vidéo nous allons utiliser un logiciel libre : <strong>VirtualDub</strong>.</p><p id="r-167654" data-claire-element-id="167654">Vous pouvez le télécharger à l'adresse suivante : <a href="http://virtualdub.sourceforge.net/">http://virtualdub.sourceforge.net/</a>.</p><p id="r-167657" data-claire-element-id="167657">Comme nous allons utiliser le format avi/Xvid, il nous faut les codecs appropriés que vous pouvez télécharger ici : <a href="http://www.xvidmovies.com/codec/">XviD codec vX.X.X for Windows(by Koepi)</a>.</p><aside id="r-167661" data-claire-element-id="167661" data-claire-semantic="information"><p id="r-167659" data-claire-element-id="167659">Même si vous utilisez comme moi le très bon lecteur <a href="http://www.videolan.org/vlc/">VLC</a> qui ne nécessite pas de codecs tiers, il est nécessaire de posséder les codecs XviD pour pouvoir <strong>encoder</strong> la vidéo.</p></aside><h5 id="r-configuration-de-virtualdub" data-claire-element-id="167705">Configuration de VirtualDub</h5><p id="r-167663" data-claire-element-id="167663">Après avoir installé VirtualDub et les codecs, lancez VirtualDub et ouvrez votre vidéo. Dans le menu « <em>Video</em> » vérifiez que « <em>Full processing mode</em> » est bien sélectionné :</p><figure id="r-167667" data-claire-element-id="167668"><img id="r-167665" data-claire-element-id="167665" src="./Tutoriel_sdz_kayl_OpenGL/10948.png" alt="Image utilisateur"></figure><p id="r-167671" data-claire-element-id="167671">Toujours dans ce même menu « <em>Video</em> », allez dans « <em>Compression...</em> » et sélectionnez le codec de compression désiré : ici <strong>XviD</strong>. (Si vous ne choisissez pas de compression, la vidéo finale sera très volumineuse).</p><figure id="r-167675" data-claire-element-id="167677"><img id="r-167674" data-claire-element-id="167674" src="./Tutoriel_sdz_kayl_OpenGL/10949.png" alt="Image utilisateur"></figure><p id="r-167679" data-claire-element-id="167679">Il ne reste plus qu'à lancer l'encodage en allant dans le menu « <em>File</em> » &gt; « <em>Save as AVI...</em> » :</p><figure id="r-167682" data-claire-element-id="167683"><img id="r-167680" data-claire-element-id="167680" src="./Tutoriel_sdz_kayl_OpenGL/10950.png" alt="Image utilisateur"></figure><p id="r-167685" data-claire-element-id="167685">VirtualDub vous affiche des informations le temps de l'encodage (vraiment rapide pour une vidéo de 30 secondes) :</p><figure id="r-167688" data-claire-element-id="167690"><img id="r-167687" data-claire-element-id="167687" src="./Tutoriel_sdz_kayl_OpenGL/10951.png" alt="Image utilisateur"></figure><p id="r-167691" data-claire-element-id="167691">Enfin, en regardant le répertoire où la vidéo a été enregistrée, on constate que la taille a énormément diminué :</p><figure id="r-167694" data-claire-element-id="167696"><img id="r-167692" data-claire-element-id="167692" src="./Tutoriel_sdz_kayl_OpenGL/10952.png" alt="Image utilisateur"></figure><p id="r-167697" data-claire-element-id="167697">Vous pouvez maintenant distribuer vos vidéos librement pour montrer vos prouesses en OpenGL !</p><p id="r-167698" data-claire-element-id="167698">Comme vous pouvez le voir l'utilisation combinée de deux logiciels puissants, Fraps et VirtualDub, permet très facilement d'enregistrer des vidéos de vos applications 3D.</p><p id="r-167699" data-claire-element-id="167699">Pour vous faire saliver un peu sur la suite du tutoriel voici justement une vidéo que j'ai réalisée avec la technique expliquée dans ce chapitre :</p><figure id="r-167701" data-claire-element-id="167702"><img id="r-167700" data-claire-element-id="167700" src="./Tutoriel_sdz_kayl_OpenGL/5473.jpg" alt="Image utilisateur"></figure><p id="r-167703" data-claire-element-id="167703"><a href="http://illament.free.fr/sdz/engine2.avi">Téléchargez une vidéo annoncant un chapitre futur de ce tuto (7.8 Mo)</a></p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl">Créez des programmes en 3D avec OpenGL</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 1</span>
Les bases d'OpenGL
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/introduction-a-opengl">Introduction à OpenGL</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/qu-est-ce-qu-opengl-1">
Qu'est-ce qu'OpenGL ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/que-dois-je-installer">
Que dois-je installer ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/premiere-application-opengl-avec-sdl">
Première application OpenGL avec SDL
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/notions-de-base">Notions de base</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/couleur-et-interpolation">
Couleur et interpolation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/vertices-et-polygones">
Vertices et polygones
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/fonctions-et-types">
Fonctions et types
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-4">Les transformations</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-brin-de-folie-mathematique">
Un brin de folie mathématique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-opengl">
Les matrices OpenGL
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-transformations-3">
Les transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-grue">
Exercice : une grue
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-1-2">Enfin de la 3D (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/du-reel-a-l-ecran">
Du réel à l'écran
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-perspective">
La perspective
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/placer-la-camera">
Placer la caméra
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enfin-de-la-3d-partie-2-2">Enfin de la 3D (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/un-cube">
Un cube
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-z-buffer">
Le Z-Buffer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/animation-1">
Animation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-textures-3">Les textures</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/charger-une-texture">
Charger une texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/plaquage-de-texture">
Plaquage de texture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/texture-repetitive">
Texture répétitive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-couleurs">
Les couleurs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques-1">Les quadriques</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-utilisation">
Principe d'utilisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-quadriques">
Les quadriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/exercice-une-roquette">
Exercice : une roquette
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-1-2">Contrôle avancé de la caméra (Partie 1/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-trackball">
Principe d'une caméra TrackBall
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/quelques-bases-de-c">
Quelques bases de C++
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test">
Scène de test
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/controle-avance-de-la-camera-partie-2-2">Contrôle avancé de la caméra (Partie 2/2)</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/principe-d-une-camera-freefly">
Principe d'une caméra FreeFly
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/gestion-fluide-du-mouvement">
Gestion fluide du mouvement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/implementation-de-la-camera-1">
Implémentation de la caméra
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/scene-de-test-1">
Scène de test
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).next().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).next().removeClass(&#39;box-shadow-summary&#39;);">
<span>Partie 2</span>
Annexes
</a>
<a class="chapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#" onmouseover="$(this).addClass(&#39;box-shadow-summary&#39;).prev().addClass(&#39;box-shadow-summary&#39;);" onmouseout="$(this).removeClass(&#39;box-shadow-summary&#39;).prev().removeClass(&#39;box-shadow-summary&#39;);">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/la-trigonometrie">La trigonométrie</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/trigo-dans-un-triangle-rectangle">
Trigo dans un triangle rectangle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/le-cercle-trigonometrique">
Le cercle trigonométrique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/systemes-de-coordonnees">
Systèmes de coordonnées
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/les-matrices-1">Les matrices</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/l-outil-matrice">
L'outil matrice
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/transformations-1">
Transformations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/combinaison-de-transformations">
Combinaison de transformations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/creer-une-video-de-votre-programme">Créer une vidéo de votre programme</a>
<a class="subchapterOpen" href="http://sdz.tdct.org/sdz/creez-des-programmes-en-3d-avec-opengl.html#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
Enregistrer la vidéo
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/encoder-la-video">
Encoder la vidéo
</a>
</li>
</ul>
</li>
</ul>
</li>

</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-programmes-en-3d-avec-opengl/enregistrer-la-video">
<span class="arrow"></span>
<span class="next">Enregistrer la vidéo</span>
</a>
</div>
<hr class="bottom">
<div class="clear"></div> <div class="adBan">
<script type="text/javascript">
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script><div id="div-gpt-ad-1350977194635-8" class="megaban"></div>
</div>
<div class="clear"></div>


</body><!-- Mirrored from 62.4.17.167/sdz/sdz/creez-des-programmes-en-3d-avec-opengl.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 02:44:57 GMT --></html>